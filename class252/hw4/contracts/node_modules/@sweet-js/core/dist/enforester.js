'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Enforester = undefined;

var _terms = require('./terms');

var _sweetSpec = require('sweet-spec');

var T = _interopRequireWildcard(_sweetSpec);

var _ramdaFantasy = require('ramda-fantasy');

var _scopeReducer = require('./scope-reducer');

var _scopeReducer2 = _interopRequireDefault(_scopeReducer);

var _transforms = require('./transforms');

var _immutable = require('immutable');

var _errors = require('./errors');

var _operators = require('./operators');

var _syntax = require('./syntax');

var _syntax2 = _interopRequireDefault(_syntax);

var _scope = require('./scope');

var _loadSyntax = require('./load-syntax');

var _macroContext = require('./macro-context');

var _macroContext2 = _interopRequireDefault(_macroContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

const Just = _ramdaFantasy.Maybe.Just;
const Nothing = _ramdaFantasy.Maybe.Nothing;

const EXPR_LOOP_OPERATOR = {};
const EXPR_LOOP_NO_CHANGE = {};
const EXPR_LOOP_EXPANSION = {};

function getLineNumber(x) {
  let stx;
  if (x instanceof _syntax2.default) {
    stx = x;
  } else if (x instanceof T.RawSyntax) {
    stx = x.value;
  } else if (x instanceof T.RawDelimiter) {
    return getLineNumber(x.inner.first());
  } else {
    throw new Error(`Not implemented yet ${x}`);
  }
  return stx.lineNumber();
}

class Enforester {

  constructor(stxl, prev, context) {
    this.done = false;
    (0, _errors.assert)(_immutable.List.isList(stxl), 'expecting a list of terms to enforest');
    (0, _errors.assert)(_immutable.List.isList(prev), 'expecting a list of terms to enforest');
    (0, _errors.assert)(context, 'expecting a context to enforest');
    this.term = null;

    this.rest = stxl;
    this.prev = prev;

    this.context = context;
  }

  peek(n = 0) {
    return this.rest.get(n);
  }

  advance() {
    let ret = this.rest.first();
    this.rest = this.rest.rest();
    return ret;
  }

  /*
   enforest works over:
   prev - a list of the previously enforest Terms
   term - the current term being enforested (initially null)
   rest - remaining Terms to enforest
   */
  enforest(type = 'Module') {
    // initialize the term
    this.term = null;

    if (this.rest.size === 0) {
      this.done = true;
      return this.term;
    }

    let result;
    if (type === 'expression') {
      result = this.enforestExpressionLoop();
    } else {
      result = this.enforestModule();
    }

    if (this.rest.size === 0) {
      this.done = true;
    }
    return result;
  }

  enforestModule() {
    return this.enforestBody();
  }

  enforestBody() {
    return this.enforestModuleItem();
  }

  enforestModuleItem() {
    let lookahead = this.peek();

    if (this.isImportTransform(lookahead)) {
      this.advance();
      return this.enforestImportDeclaration();
    } else if (this.isExportTransform(lookahead)) {
      this.advance();
      return this.enforestExportDeclaration();
    }
    return this.enforestStatement();
  }

  enforestExportDeclaration() {
    let lookahead = this.peek();
    if (this.isCompiletimeTransform(lookahead)) {
      this.expandMacro();
      lookahead = this.peek();
    }

    if (this.isPunctuator(lookahead, '*')) {
      this.advance();
      let moduleSpecifier = this.enforestFromClause();
      return new T.ExportAllFrom({ moduleSpecifier });
    } else if (this.isBraces(lookahead)) {
      let namedExports = this.enforestExportClause();
      let moduleSpecifier = null;
      if (this.isIdentifier(this.peek(), 'from')) {
        moduleSpecifier = this.enforestFromClause();
      }
      return new T.ExportFrom({ namedExports, moduleSpecifier });
    } else if (this.isClassTransform(lookahead)) {
      return new T.Export({
        declaration: this.enforestClass({ isExpr: false })
      });
    } else if (this.isFnDeclTransform(lookahead)) {
      return new T.Export({
        declaration: this.enforestFunction({ isExpr: false })
      });
    } else if (this.isDefaultTransform(lookahead)) {
      this.advance();
      if (this.isCompiletimeTransform(lookahead)) {
        this.expandMacro();
        lookahead = this.peek();
      }

      if (this.isFnDeclTransform(this.peek())) {
        return new T.ExportDefault({
          body: this.enforestFunction({ isExpr: false, inDefault: true })
        });
      } else if (this.isClassTransform(this.peek())) {
        return new T.ExportDefault({
          body: this.enforestClass({ isExpr: false, inDefault: true })
        });
      } else {
        let body = this.enforestExpressionLoop();
        this.consumeSemicolon();
        return new T.ExportDefault({ body });
      }
    } else if (this.isVarDeclTransform(lookahead) || this.isLetDeclTransform(lookahead) || this.isConstDeclTransform(lookahead) || this.isSyntaxrecDeclTransform(lookahead) || this.isSyntaxDeclTransform(lookahead) || this.isOperatorDeclTransform(lookahead)) {
      return new T.Export({
        declaration: this.enforestVariableDeclaration()
      });
    }
    throw this.createError(lookahead, 'unexpected syntax');
  }

  enforestExportClause() {
    let enf = new Enforester(this.matchCurlies(), (0, _immutable.List)(), this.context);
    let result = [];
    while (enf.rest.size !== 0) {
      result.push(enf.enforestExportSpecifier());
      enf.consumeComma();
    }
    return (0, _immutable.List)(result);
  }

  enforestExportSpecifier() {
    let name = this.enforestIdentifier();
    if (this.isIdentifier(this.peek(), 'as')) {
      this.advance();
      let exportedName = this.enforestIdentifier();
      return new T.ExportSpecifier({ name, exportedName });
    }
    return new T.ExportSpecifier({
      name: null,
      exportedName: name
    });
  }

  enforestImportDeclaration() {
    let lookahead = this.peek();
    let defaultBinding = null;
    let namedImports = (0, _immutable.List)();
    let forSyntax = false;

    if (this.isStringLiteral(lookahead)) {
      let moduleSpecifier = this.advance();
      this.consumeSemicolon();
      return new T.Import({
        defaultBinding,
        namedImports,
        moduleSpecifier,
        forSyntax
      });
    }

    if (this.isIdentifier(lookahead) || this.isKeyword(lookahead)) {
      defaultBinding = this.enforestBindingIdentifier();
      if (!this.isPunctuator(this.peek(), ',')) {
        let moduleSpecifier = this.enforestFromClause();
        if (this.isKeyword(this.peek(), 'for') && this.isIdentifier(this.peek(1), 'syntax')) {
          this.advance();
          this.advance();
          forSyntax = true;
        }

        return new T.Import({
          defaultBinding,
          moduleSpecifier,
          namedImports: (0, _immutable.List)(),
          forSyntax
        });
      }
    }
    this.consumeComma();
    lookahead = this.peek();
    if (this.isBraces(lookahead)) {
      let imports = this.enforestNamedImports();
      let fromClause = this.enforestFromClause();
      if (this.isKeyword(this.peek(), 'for') && this.isIdentifier(this.peek(1), 'syntax')) {
        this.advance();
        this.advance();
        forSyntax = true;
      }

      return new T.Import({
        defaultBinding,
        forSyntax,
        namedImports: imports,
        moduleSpecifier: fromClause
      });
    } else if (this.isPunctuator(lookahead, '*')) {
      let namespaceBinding = this.enforestNamespaceBinding();
      let moduleSpecifier = this.enforestFromClause();
      if (this.isKeyword(this.peek(), 'for') && this.isIdentifier(this.peek(1), 'syntax')) {
        this.advance();
        this.advance();
        forSyntax = true;
      }
      return new T.ImportNamespace({
        defaultBinding,
        forSyntax,
        namespaceBinding,
        moduleSpecifier
      });
    }
    throw this.createError(lookahead, 'unexpected syntax');
  }

  enforestNamespaceBinding() {
    this.matchPunctuator('*');
    this.matchIdentifier('as');
    return this.enforestBindingIdentifier();
  }

  enforestNamedImports() {
    let enf = new Enforester(this.matchCurlies(), (0, _immutable.List)(), this.context);
    let result = [];
    while (enf.rest.size !== 0) {
      result.push(enf.enforestImportSpecifiers());
      enf.consumeComma();
    }
    return (0, _immutable.List)(result);
  }

  enforestImportSpecifiers() {
    let lookahead = this.peek();
    let name;
    if (this.isIdentifier(lookahead) || this.isKeyword(lookahead) || this.isPunctuator(lookahead)) {
      name = this.matchRawSyntax();
      if (!this.isIdentifier(this.peek(), 'as')) {
        return new T.ImportSpecifier({
          name: null,
          binding: new T.BindingIdentifier({
            name: name
          })
        });
      } else {
        this.matchIdentifier('as');
      }
    } else {
      throw this.createError(lookahead, 'unexpected token in import specifier');
    }
    return new T.ImportSpecifier({
      name,
      binding: this.enforestBindingIdentifier()
    });
  }

  enforestFromClause() {
    this.matchIdentifier('from');
    let lookahead = this.matchStringLiteral();
    this.consumeSemicolon();
    return lookahead;
  }

  enforestStatementListItem() {
    let lookahead = this.peek();

    if (this.isFnDeclTransform(lookahead)) {
      return this.enforestFunction({ isExpr: false });
    } else if (this.isClassTransform(lookahead)) {
      return this.enforestClass({ isExpr: false });
    } else {
      return this.enforestStatement();
    }
  }

  enforestStatement() {
    let lookahead = this.peek();

    if (this.term === null && this.isCompiletimeTransform(lookahead)) {
      this.expandMacro();
      lookahead = this.peek();
    }

    if (this.term === null && this.isTerm(lookahead) && lookahead instanceof T.Statement) {
      // TODO: check that this is actually an statement
      return this.advance();
    }

    if (this.term === null && this.isBraces(lookahead)) {
      return this.enforestBlockStatement();
    }

    if (this.term === null && this.isWhileTransform(lookahead)) {
      return this.enforestWhileStatement();
    }

    if (this.term === null && this.isIfTransform(lookahead)) {
      return this.enforestIfStatement();
    }
    if (this.term === null && this.isForTransform(lookahead)) {
      return this.enforestForStatement();
    }
    if (this.term === null && this.isSwitchTransform(lookahead)) {
      return this.enforestSwitchStatement();
    }
    if (this.term === null && this.isBreakTransform(lookahead)) {
      return this.enforestBreakStatement();
    }
    if (this.term === null && this.isContinueTransform(lookahead)) {
      return this.enforestContinueStatement();
    }
    if (this.term === null && this.isDoTransform(lookahead)) {
      return this.enforestDoStatement();
    }
    if (this.term === null && this.isDebuggerTransform(lookahead)) {
      return this.enforestDebuggerStatement();
    }
    if (this.term === null && this.isWithTransform(lookahead)) {
      return this.enforestWithStatement();
    }
    if (this.term === null && this.isTryTransform(lookahead)) {
      return this.enforestTryStatement();
    }
    if (this.term === null && this.isThrowTransform(lookahead)) {
      return this.enforestThrowStatement();
    }

    // TODO: put somewhere else
    if (this.term === null && this.isKeyword(lookahead, 'class')) {
      return this.enforestClass({ isExpr: false });
    }

    if (this.term === null && this.isFnDeclTransform(lookahead)) {
      return this.enforestFunction({ isExpr: false });
    }

    if (this.term === null && this.isIdentifier(lookahead) && this.isPunctuator(this.peek(1), ':')) {
      return this.enforestLabeledStatement();
    }

    if (this.term === null && (this.isVarDeclTransform(lookahead) || this.isLetDeclTransform(lookahead) || this.isConstDeclTransform(lookahead) || this.isSyntaxrecDeclTransform(lookahead) || this.isSyntaxDeclTransform(lookahead) || this.isOperatorDeclTransform(lookahead))) {
      let stmt = new T.VariableDeclarationStatement({
        declaration: this.enforestVariableDeclaration()
      });
      this.consumeSemicolon();
      return stmt;
    }

    if (this.term === null && this.isReturnStmtTransform(lookahead)) {
      return this.enforestReturnStatement();
    }

    if (this.term === null && this.isPunctuator(lookahead, ';')) {
      this.advance();
      return new T.EmptyStatement({});
    }

    return this.enforestExpressionStatement();
  }

  enforestLabeledStatement() {
    let label = this.matchIdentifier();
    this.matchPunctuator(':');
    let stmt = this.enforestStatement();

    return new T.LabeledStatement({
      label: label,
      body: stmt
    });
  }

  enforestBreakStatement() {
    this.matchKeyword('break');
    let lookahead = this.peek();
    let label = null;
    if (this.rest.size === 0 || this.isPunctuator(lookahead, ';')) {
      this.consumeSemicolon();
      return new T.BreakStatement({ label });
    }
    if (this.isIdentifier(lookahead) || this.isKeyword(lookahead, 'yield') || this.isKeyword(lookahead, 'let')) {
      label = this.enforestIdentifier();
    }
    this.consumeSemicolon();

    return new T.BreakStatement({ label });
  }

  enforestTryStatement() {
    this.matchKeyword('try');
    let body = this.enforestBlock();
    if (this.isKeyword(this.peek(), 'catch')) {
      let catchClause = this.enforestCatchClause();
      if (this.isKeyword(this.peek(), 'finally')) {
        this.advance();
        let finalizer = this.enforestBlock();
        return new T.TryFinallyStatement({
          body,
          catchClause,
          finalizer
        });
      }
      return new T.TryCatchStatement({ body, catchClause });
    }
    if (this.isKeyword(this.peek(), 'finally')) {
      this.advance();
      let finalizer = this.enforestBlock();
      return new T.TryFinallyStatement({ body, catchClause: null, finalizer });
    }
    throw this.createError(this.peek(), 'try with no catch or finally');
  }

  enforestCatchClause() {
    this.matchKeyword('catch');
    let bindingParens = this.matchParens();
    let enf = new Enforester(bindingParens, (0, _immutable.List)(), this.context);
    let binding = enf.enforestBindingTarget();
    let body = this.enforestBlock();
    return new T.CatchClause({ binding, body });
  }

  enforestThrowStatement() {
    this.matchKeyword('throw');
    let expression = this.enforestExpression();
    this.consumeSemicolon();
    return new T.ThrowStatement({ expression });
  }

  enforestWithStatement() {
    this.matchKeyword('with');
    let objParens = this.matchParens();
    let enf = new Enforester(objParens, (0, _immutable.List)(), this.context);
    let object = enf.enforestExpression();
    let body = this.enforestStatement();
    return new T.WithStatement({ object, body });
  }

  enforestDebuggerStatement() {
    this.matchKeyword('debugger');

    return new T.DebuggerStatement({});
  }

  enforestDoStatement() {
    this.matchKeyword('do');
    let body = this.enforestStatement();
    this.matchKeyword('while');
    let testBody = this.matchParens();
    let enf = new Enforester(testBody, (0, _immutable.List)(), this.context);
    let test = enf.enforestExpression();
    this.consumeSemicolon();
    return new T.DoWhileStatement({ body, test });
  }

  enforestContinueStatement() {
    let kwd = this.matchKeyword('continue');
    let lookahead = this.peek();
    let label = null;
    if (this.rest.size === 0 || this.isPunctuator(lookahead, ';')) {
      this.consumeSemicolon();
      return new T.ContinueStatement({ label });
    }
    if (lookahead instanceof T.RawSyntax && this.lineNumberEq(kwd, lookahead) && (this.isIdentifier(lookahead) || this.isKeyword(lookahead, 'yield') || this.isKeyword(lookahead, 'let'))) {
      label = this.enforestIdentifier();
    }
    this.consumeSemicolon();

    return new T.ContinueStatement({ label });
  }

  enforestSwitchStatement() {
    this.matchKeyword('switch');
    let cond = this.matchParens();
    let enf = new Enforester(cond, (0, _immutable.List)(), this.context);
    let discriminant = enf.enforestExpression();
    let body = this.matchCurlies();

    if (body.size === 0) {
      return new T.SwitchStatement({
        discriminant: discriminant,
        cases: (0, _immutable.List)()
      });
    }
    enf = new Enforester(body, (0, _immutable.List)(), this.context);
    let cases = enf.enforestSwitchCases();
    let lookahead = enf.peek();
    if (enf.isKeyword(lookahead, 'default')) {
      let defaultCase = enf.enforestSwitchDefault();
      let postDefaultCases = enf.enforestSwitchCases();
      return new T.SwitchStatementWithDefault({
        discriminant,
        preDefaultCases: cases,
        defaultCase,
        postDefaultCases
      });
    }
    return new T.SwitchStatement({ discriminant, cases });
  }

  enforestSwitchCases() {
    let cases = [];
    while (!(this.rest.size === 0 || this.isKeyword(this.peek(), 'default'))) {
      cases.push(this.enforestSwitchCase());
    }
    return (0, _immutable.List)(cases);
  }

  enforestSwitchCase() {
    this.matchKeyword('case');
    return new T.SwitchCase({
      test: this.enforestExpression(),
      consequent: this.enforestSwitchCaseBody()
    });
  }

  enforestSwitchCaseBody() {
    this.matchPunctuator(':');
    return this.enforestStatementListInSwitchCaseBody();
  }

  enforestStatementListInSwitchCaseBody() {
    let result = [];
    while (!(this.rest.size === 0 || this.isKeyword(this.peek(), 'default') || this.isKeyword(this.peek(), 'case'))) {
      result.push(this.enforestStatementListItem());
    }
    return (0, _immutable.List)(result);
  }

  enforestSwitchDefault() {
    this.matchKeyword('default');
    return new T.SwitchDefault({
      consequent: this.enforestSwitchCaseBody()
    });
  }

  enforestForStatement() {
    this.matchKeyword('for');
    let cond = this.matchParens();
    let enf = new Enforester(cond, (0, _immutable.List)(), this.context);
    let lookahead, test, init, right, left, update, cnst;

    // case where init is null
    if (enf.isPunctuator(enf.peek(), ';')) {
      enf.advance();
      if (!enf.isPunctuator(enf.peek(), ';')) {
        test = enf.enforestExpression();
      }
      enf.matchPunctuator(';');
      if (enf.rest.size !== 0) {
        right = enf.enforestExpression();
      }
      return new T.ForStatement({
        init: null,
        test: test,
        update: right,
        body: this.enforestStatement()
      });
      // case where init is not null
    } else {
      // testing
      lookahead = enf.peek();
      if (enf.isVarDeclTransform(lookahead) || enf.isLetDeclTransform(lookahead) || enf.isConstDeclTransform(lookahead)) {
        init = enf.enforestVariableDeclaration();
        lookahead = enf.peek();
        if (this.isKeyword(lookahead, 'in') || this.isIdentifier(lookahead, 'of')) {
          if (this.isKeyword(lookahead, 'in')) {
            enf.advance();
            right = enf.enforestExpression();
            cnst = T.ForInStatement;
          } else {
            (0, _errors.assert)(this.isIdentifier(lookahead, 'of'), 'expecting `of` keyword');
            enf.advance();
            right = enf.enforestExpression();
            cnst = T.ForOfStatement;
          }
          return new cnst({
            left: init,
            right,
            body: this.enforestStatement()
          });
        }
        enf.matchPunctuator(';');
        if (enf.isPunctuator(enf.peek(), ';')) {
          enf.advance();
          test = null;
        } else {
          test = enf.enforestExpression();
          enf.matchPunctuator(';');
        }
        update = enf.enforestExpression();
      } else {
        if (this.isKeyword(enf.peek(1), 'in') || this.isIdentifier(enf.peek(1), 'of')) {
          left = enf.enforestBindingIdentifier();
          let kind = enf.advance();
          if (this.isKeyword(kind, 'in')) {
            cnst = T.ForInStatement;
          } else {
            cnst = T.ForOfStatement;
          }
          right = enf.enforestExpression();
          return new cnst({
            left: left,
            right,
            body: this.enforestStatement()
          });
        }
        init = enf.enforestExpression();
        enf.matchPunctuator(';');
        if (enf.isPunctuator(enf.peek(), ';')) {
          enf.advance();
          test = null;
        } else {
          test = enf.enforestExpression();
          enf.matchPunctuator(';');
        }
        update = enf.enforestExpression();
      }
      return new T.ForStatement({
        init,
        test,
        update,
        body: this.enforestStatement()
      });
    }
  }

  enforestIfStatement() {
    this.matchKeyword('if');
    let cond = this.matchParens();
    let enf = new Enforester(cond, (0, _immutable.List)(), this.context);
    let lookahead = enf.peek();
    let test = enf.enforestExpression();
    if (test === null) {
      throw enf.createError(lookahead, 'expecting an expression');
    }
    let consequent = this.enforestStatement();
    let alternate = null;
    if (this.isKeyword(this.peek(), 'else')) {
      this.advance();
      alternate = this.enforestStatement();
    }
    return new T.IfStatement({ test, consequent, alternate });
  }

  enforestWhileStatement() {
    this.matchKeyword('while');
    let cond = this.matchParens();
    let enf = new Enforester(cond, (0, _immutable.List)(), this.context);
    let lookahead = enf.peek();
    let test = enf.enforestExpression();
    if (test === null) {
      throw enf.createError(lookahead, 'expecting an expression');
    }
    let body = this.enforestStatement();

    return new T.WhileStatement({ test, body });
  }

  enforestBlockStatement() {
    return new T.BlockStatement({
      block: this.enforestBlock()
    });
  }

  enforestBlock() {
    return new T.Block({
      statements: this.matchCurlies()
    });
  }

  enforestClass({
    isExpr = false,
    inDefault = false
  }) {
    let kw = this.matchRawSyntax();
    let name = null,
        supr = null;

    if (this.isIdentifier(this.peek())) {
      name = this.enforestBindingIdentifier();
    } else if (!isExpr) {
      if (inDefault) {
        name = new T.BindingIdentifier({
          name: _syntax2.default.fromIdentifier('_default', kw)
        });
      } else {
        throw this.createError(this.peek(), 'unexpected syntax');
      }
    }

    if (this.isKeyword(this.peek(), 'extends')) {
      this.advance();
      supr = this.enforestExpressionLoop();
    }

    let elements = [];
    let enf = new Enforester(this.matchCurlies(), (0, _immutable.List)(), this.context);
    while (enf.rest.size !== 0) {
      if (enf.isPunctuator(enf.peek(), ';')) {
        enf.advance();
        continue;
      }

      let isStatic = false;
      let { methodOrKey, kind } = enf.enforestMethodDefinition();
      if (kind === 'identifier' && methodOrKey instanceof T.StaticPropertyName && methodOrKey.value.val() === 'static') {
        isStatic = true;
        ({ methodOrKey, kind } = enf.enforestMethodDefinition());
      }
      if (kind === 'method') {
        elements.push(new T.ClassElement({ isStatic, method: methodOrKey }));
      } else {
        throw this.createError(enf.peek(), 'Only methods are allowed in classes');
      }
    }
    return new (isExpr ? T.ClassExpression : T.ClassDeclaration)({
      name,
      super: supr,
      elements: (0, _immutable.List)(elements)
    });
  }

  enforestBindingTarget({ allowPunctuator = false } = {}) {
    let lookahead = this.peek();
    if (this.isIdentifier(lookahead) || this.isKeyword(lookahead) || allowPunctuator && this.isPunctuator(lookahead)) {
      return this.enforestBindingIdentifier({ allowPunctuator });
    } else if (this.isBrackets(lookahead)) {
      return this.enforestArrayBinding();
    } else if (this.isBraces(lookahead)) {
      return this.enforestObjectBinding();
    }
    (0, _errors.assert)(false, 'not implemented yet');
  }

  enforestObjectBinding() {
    let enf = new Enforester(this.matchCurlies(), (0, _immutable.List)(), this.context);
    let properties = [];

    //TODO: implement object rest operator when it lands
    while (enf.rest.size !== 0) {
      properties.push(enf.enforestBindingProperty());

      if (enf.rest.size > 0 && !enf.isPunctuator(enf.peek(), ',')) {
        throw enf.createError(enf.peek(), 'unexpected token');
      }

      enf.consumeComma();
    }

    return new T.ObjectBinding({
      properties: (0, _immutable.List)(properties)
    });
  }

  enforestBindingProperty() {
    let lookahead = this.peek();
    let { name, binding } = this.enforestPropertyName();
    if (this.isIdentifier(lookahead) || this.isKeyword(lookahead, 'let') || this.isKeyword(lookahead, 'yield')) {
      if (!this.isPunctuator(this.peek(), ':')) {
        if (this.isAssign(this.peek())) {
          this.advance();
          let expr = this.enforestExpressionLoop();
          return new T.BindingPropertyProperty({
            name,
            binding: new T.BindingWithDefault({
              binding,
              init: expr
            })
          });
        }
        return new T.BindingPropertyProperty({
          name,
          binding
        });
      }
    }
    this.matchPunctuator(':');
    binding = this.enforestBindingElement();
    return new T.BindingPropertyProperty({
      name,
      binding
    });
  }

  enforestArrayBinding() {
    let bracket = this.matchSquares();
    let enf = new Enforester(bracket, (0, _immutable.List)(), this.context);
    let elements = [],
        restElement = null;
    while (enf.rest.size !== 0) {
      let el = null;
      if (!enf.isPunctuator(enf.peek(), ',')) {
        if (enf.isPunctuator(enf.peek(), '...')) {
          enf.advance();
          restElement = enf.enforestBindingTarget();
          if (enf.rest.size > 0) {
            throw enf.createError(enf.rest.first(), 'Rest element must be last element in array');
          }
        } else {
          el = enf.enforestBindingElement();

          if (el == null) {
            throw enf.createError(enf.peek(), 'expected expression');
          }
          if (enf.rest.size > 0 && !enf.isPunctuator(enf.peek(), ',')) {
            throw enf.createError(enf.peek(), 'unexpected token');
          }
        }
      }
      if (restElement == null) {
        elements.push(el);
        enf.consumeComma();
      }
    }
    return new T.ArrayBinding({
      elements: (0, _immutable.List)(elements),
      restElement
    });
  }

  enforestBindingElement() {
    let binding = this.enforestBindingTarget();

    if (this.isAssign(this.peek())) {
      this.advance();
      let init = this.enforestExpressionLoop();
      binding = new T.BindingWithDefault({ binding, init });
    }
    return binding;
  }

  enforestBindingIdentifier({ allowPunctuator } = {}) {
    let name;
    if (allowPunctuator && this.isPunctuator(this.peek())) {
      name = this.enforestPunctuator();
    } else {
      name = this.enforestIdentifier();
    }
    return new T.BindingIdentifier({ name });
  }

  enforestPunctuator() {
    let lookahead = this.peek();
    if (this.isPunctuator(lookahead)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting a punctuator');
  }

  enforestIdentifier() {
    let lookahead = this.peek();
    if (this.isIdentifier(lookahead) || this.isKeyword(lookahead)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting an identifier');
  }

  enforestReturnStatement() {
    let kw = this.matchRawSyntax();
    let lookahead = this.peek();

    // short circuit for the empty expression case
    if (this.rest.size === 0 || lookahead && !this.lineNumberEq(kw, lookahead)) {
      return new T.ReturnStatement({
        expression: null
      });
    }

    let term = null;
    if (!this.isPunctuator(lookahead, ';')) {
      term = this.enforestExpression();
      (0, _errors.expect)(term != null, 'Expecting an expression to follow return keyword', lookahead, this.rest);
    }

    this.consumeSemicolon();
    return new T.ReturnStatement({
      expression: term
    });
  }

  enforestVariableDeclaration() {
    let kind;
    let lookahead = this.advance();

    if (this.isVarDeclTransform(lookahead)) {
      kind = 'var';
    } else if (this.isLetDeclTransform(lookahead)) {
      kind = 'let';
    } else if (this.isConstDeclTransform(lookahead)) {
      kind = 'const';
    } else if (this.isSyntaxDeclTransform(lookahead)) {
      kind = 'syntax';
    } else if (this.isSyntaxrecDeclTransform(lookahead)) {
      kind = 'syntaxrec';
    } else if (this.isOperatorDeclTransform(lookahead)) {
      kind = 'operator';
    }

    let decls = (0, _immutable.List)();

    while (true) {
      let term = this.enforestVariableDeclarator({
        isSyntax: kind === 'syntax' || kind === 'syntaxrec' || kind === 'operator',
        isOperator: kind === 'operator'
      });
      let lookahead = this.peek();
      // TODO: bug in immutable type definitions for concat,
      // upgrade to v4 when it is released
      // https://github.com/facebook/immutable-js/pull/1153
      decls = decls.concat(term);

      if (this.isPunctuator(lookahead, ',')) {
        this.advance();
      } else {
        break;
      }
    }

    return new T.VariableDeclaration({
      kind: kind,
      declarators: decls
    });
  }

  enforestVariableDeclarator({
    isSyntax,
    isOperator
  }) {
    let id = this.enforestBindingTarget({ allowPunctuator: isSyntax });
    const AssocValues = ['left', 'right', 'prefix', 'postfix'];

    let assoc, prec;
    if (isOperator) {
      assoc = this.matchIdentifier();
      if (AssocValues.indexOf(assoc.val()) === -1) {
        throw this.createError(this.peek(), `Associativity must be one of ${AssocValues.join(',')}`);
      }
      prec = this.matchLiteral();
    }

    let init;
    if (this.isPunctuator(this.peek(), '=')) {
      this.advance();
      let enf = new Enforester(this.rest, (0, _immutable.List)(), this.context);
      init = enf.enforest('expression');
      this.rest = enf.rest;
    } else {
      init = null;
    }

    if (isOperator) {
      return new T.OperatorDeclarator({
        binding: id,
        init,
        prec,
        assoc
      });
    }
    return new T.VariableDeclarator({
      binding: id,
      init: init
    });
  }

  enforestExpressionStatement() {
    let start = this.rest.get(0);
    let expr = this.enforestExpression();
    if (expr === null) {
      throw this.createError(start, 'not a valid expression');
    }
    this.consumeSemicolon();

    return new T.ExpressionStatement({
      expression: expr
    });
  }

  enforestExpression() {
    let left = this.enforestExpressionLoop();
    let lookahead = this.peek();
    if (this.isPunctuator(lookahead, ',')) {
      while (this.rest.size !== 0) {
        if (!this.isPunctuator(this.peek(), ',')) {
          break;
        }
        let operator = this.matchRawSyntax();
        let right = this.enforestExpressionLoop();
        left = new T.BinaryExpression({
          left,
          operator: operator.val(),
          right
        });
      }
    }
    this.term = null;
    return left;
  }

  enforestExpressionLoop() {
    this.term = null;
    this.opCtx = {
      prec: 0,
      combine: x => x,
      stack: (0, _immutable.List)()
    };

    do {
      let term = this.enforestAssignmentExpression();
      // no change means we've done as much enforesting as possible
      // if nothing changed, maybe we just need to pop the expr stack
      if (term === EXPR_LOOP_NO_CHANGE && this.opCtx.stack.size > 0) {
        this.term = this.opCtx.combine(this.term);
        let { prec, combine } = this.opCtx.stack.last();
        this.opCtx.prec = prec;
        this.opCtx.combine = combine;
        this.opCtx.stack = this.opCtx.stack.pop();
      } else if (term === EXPR_LOOP_NO_CHANGE) {
        break;
      } else if (term === EXPR_LOOP_OPERATOR || term === EXPR_LOOP_EXPANSION) {
        // operator means an opCtx was pushed on the stack
        this.term = null;
      } else {
        this.term = term; // TODO: don't overload the term's type with EXPR_LOOP_OPERATOR etc.
      }
    } while (true); // get a fixpoint
    return this.term;
  }

  enforestAssignmentExpression() {
    let lookahead = this.peek();

    if (this.term === null && this.isModuleNamespaceTransform(lookahead)) {
      // $FlowFixMe: we need to refactor the enforester to make flow work better
      let namespace = this.getFromCompiletimeEnvironment(this.advance().value);
      this.matchPunctuator('.');
      let name = this.matchIdentifier();
      // $FlowFixMe: we need to refactor the enforester to make flow work better
      let exportedName = namespace.mod.exportedNames.find(exName => exName.exportedName.val() === name.val());
      this.rest = this.rest.unshift(new T.RawSyntax({
        value: _syntax2.default.fromIdentifier(name.val(), exportedName.exportedName)
      }));
      lookahead = this.peek();
    }

    if (this.term === null && this.isCompiletimeTransform(lookahead)) {
      this.expandMacro();
      lookahead = this.peek();
    }

    if (this.term === null && this.isTerm(lookahead) && lookahead instanceof T.Expression) {
      // TODO: check that this is actually an expression
      return this.advance();
    }

    if (this.term === null && this.isYieldTransform(lookahead)) {
      return this.enforestYieldExpression();
    }

    if (this.term === null && this.isClassTransform(lookahead)) {
      return this.enforestClass({ isExpr: true });
    }

    if (this.term === null && lookahead && (this.isIdentifier(lookahead) || this.isParens(lookahead)) && this.isPunctuator(this.peek(1), '=>') && this.lineNumberEq(lookahead, this.peek(1))) {
      return this.enforestArrowExpression();
    }

    if (this.term === null && this.isSyntaxTemplate(lookahead)) {
      return this.enforestSyntaxTemplate();
    }

    // ($x:expr)
    if (this.term === null && this.isParens(lookahead)) {
      return new T.ParenthesizedExpression({
        inner: this.matchParens()
      });
    }

    if (this.term === null && (this.isKeyword(lookahead, 'this') || this.isIdentifier(lookahead) || this.isKeyword(lookahead, 'let') || this.isKeyword(lookahead, 'yield') || this.isNumericLiteral(lookahead) || this.isStringLiteral(lookahead) || this.isTemplate(lookahead) || this.isBooleanLiteral(lookahead) || this.isNullLiteral(lookahead) || this.isRegularExpression(lookahead) || this.isFnDeclTransform(lookahead) || this.isBraces(lookahead) || this.isBrackets(lookahead))) {
      return this.enforestPrimaryExpression();
    }

    // prefix unary
    if (this.term === null && (this.isOperator(lookahead) || this.isCustomPrefixOperator(lookahead))) {
      return this.enforestUnaryExpression();
    }

    if (this.term === null && this.isVarBindingTransform(lookahead) && lookahead instanceof T.RawSyntax) {
      let lookstx = lookahead.value;
      // $FlowFixMe
      let id = this.getFromCompiletimeEnvironment(lookstx).id;
      if (id !== lookstx) {
        this.advance();
        this.rest = _immutable.List.of(id).concat(this.rest);
        return EXPR_LOOP_EXPANSION;
      }
    }

    if (this.term === null && (this.isNewTransform(lookahead) || this.isSuperTransform(lookahead)) ||
    // and then check the cases where the term part of p is something...
    this.term && (
    // $x:expr . $prop:ident
    this.isPunctuator(lookahead, '.') && (this.isIdentifier(this.peek(1)) || this.isKeyword(this.peek(1))) ||
    // $x:expr [ $b:expr ]
    this.isBrackets(lookahead) ||
    // $x:expr (...)
    this.isParens(lookahead))) {
      return this.enforestLeftHandSideExpression({ allowCall: true });
    }

    // $l:expr $op:binaryOperator $r:expr
    if (this.term && this.isCustomBinaryOperator(lookahead)) {
      return this.enforestBinaryExpression();
    }

    // postfix unary
    if (this.term && (this.isUpdateOperator(lookahead) || this.isCustomPostfixOperator(lookahead))) {
      return this.enforestUpdateExpression();
    }

    // $l:expr $op:binaryOperator $r:expr
    if (this.term && (this.isOperator(lookahead) || this.isCustomBinaryOperator(lookahead))) {
      return this.enforestBinaryExpression();
    }

    // $x:id `...`
    if (this.term && this.isTemplate(lookahead)) {
      return this.enforestTemplateLiteral();
    }

    // $x:expr = $init:expr
    if (this.term && this.isAssign(lookahead)) {
      let binding = this.transformDestructuring(this.term);
      let op = this.matchRawSyntax();

      let enf = new Enforester(this.rest, (0, _immutable.List)(), this.context);
      let init = enf.enforest('expression');
      this.rest = enf.rest;

      if (op.val() === '=') {
        return new T.AssignmentExpression({
          binding,
          expression: init
        });
      } else {
        return new T.CompoundAssignmentExpression({
          binding,
          operator: op.val(),
          expression: init
        });
      }
    }

    if (this.term && this.isPunctuator(lookahead, '?')) {
      return this.enforestConditionalExpression();
    }

    return EXPR_LOOP_NO_CHANGE;
  }

  enforestPrimaryExpression() {
    let lookahead = this.peek();
    // $x:ThisExpression
    if (this.term === null && this.isKeyword(lookahead, 'this')) {
      return this.enforestThisExpression();
    }
    // $x:ident
    if (this.term === null && (this.isIdentifier(lookahead) || this.isKeyword(lookahead, 'let') || this.isKeyword(lookahead, 'yield'))) {
      return this.enforestIdentifierExpression();
    }
    if (this.term === null && this.isNumericLiteral(lookahead)) {
      return this.enforestNumericLiteral();
    }
    if (this.term === null && this.isStringLiteral(lookahead)) {
      return this.enforestStringLiteral();
    }
    if (this.term === null && this.isTemplate(lookahead)) {
      return this.enforestTemplateLiteral();
    }
    if (this.term === null && this.isBooleanLiteral(lookahead)) {
      return this.enforestBooleanLiteral();
    }
    if (this.term === null && this.isNullLiteral(lookahead)) {
      return this.enforestNullLiteral();
    }
    if (this.term === null && this.isRegularExpression(lookahead)) {
      return this.enforestRegularExpressionLiteral();
    }
    // $x:FunctionExpression
    if (this.term === null && this.isFnDeclTransform(lookahead)) {
      return this.enforestFunction({ isExpr: true });
    }
    // { $p:prop (,) ... }
    if (this.term === null && this.isBraces(lookahead)) {
      return this.enforestObjectExpression();
    }
    // [$x:expr (,) ...]
    if (this.term === null && this.isBrackets(lookahead)) {
      return this.enforestArrayExpression();
    }
    (0, _errors.assert)(false, 'Not a primary expression');
  }

  enforestLeftHandSideExpression({ allowCall }) {
    let lookahead = this.peek();

    if (this.isCompiletimeTransform(lookahead)) {
      this.expandMacro();
      lookahead = this.peek();
    }

    if (this.isSuperTransform(lookahead)) {
      this.advance();
      this.term = new T.Super({});
    } else if (this.isNewTransform(lookahead)) {
      this.term = this.enforestNewExpression();
    } else if (this.isThisTransform(lookahead)) {
      this.term = this.enforestThisExpression();
    } else if (this.isBraces(lookahead)) {
      this.term = this.enforestPrimaryExpression();
      return this.term;
    }

    while (true) {
      lookahead = this.peek();
      if (this.isParens(lookahead)) {
        if (!allowCall) {
          // we're dealing with a new expression
          if (this.term && ((0, _terms.isIdentifierExpression)(this.term) || (0, _terms.isStaticMemberExpression)(this.term) || (0, _terms.isComputedMemberExpression)(this.term))) {
            return this.term;
          }
          this.term = this.enforestExpressionLoop();
        } else {
          this.term = this.enforestCallExpression();
        }
      } else if (this.isBrackets(lookahead)) {
        this.term = this.term ? this.enforestComputedMemberExpression() : this.enforestPrimaryExpression();
      } else if (this.isPunctuator(lookahead, '.') && (this.isIdentifier(this.peek(1)) || this.isKeyword(this.peek(1)))) {
        this.term = this.enforestStaticMemberExpression();
      } else if (this.isTemplate(lookahead)) {
        this.term = this.enforestTemplateLiteral();
      } else if (this.isIdentifier(lookahead)) {
        if (this.term) break;
        this.term = new T.IdentifierExpression({
          name: this.enforestIdentifier()
        });
      } else {
        break;
      }
    }
    return this.term;
  }

  enforestBooleanLiteral() {
    return new T.LiteralBooleanExpression({
      value: this.matchRawSyntax().val() === 'true'
    });
  }

  enforestTemplateLiteral() {
    return new T.TemplateExpression({
      tag: this.term,
      elements: this.enforestTemplateElements()
    });
  }

  enforestStringLiteral() {
    return new T.LiteralStringExpression({
      value: this.matchRawSyntax().val()
    });
  }

  enforestNumericLiteral() {
    let num = this.matchRawSyntax();
    if (num.val() === 1 / 0) {
      return new T.LiteralInfinityExpression({});
    }
    return new T.LiteralNumericExpression({
      value: num.val()
    });
  }

  enforestIdentifierExpression() {
    return new T.IdentifierExpression({
      name: this.matchRawSyntax()
    });
  }

  enforestRegularExpressionLiteral() {
    let reStx = this.matchRawSyntax();

    let lastSlash = reStx.token.value.lastIndexOf('/');
    let pattern = reStx.token.value.slice(1, lastSlash);
    let flags = reStx.token.value.slice(lastSlash + 1);
    return new T.LiteralRegExpExpression({
      pattern,
      flags
    });
  }

  enforestNullLiteral() {
    this.advance();
    return new T.LiteralNullExpression({});
  }

  enforestThisExpression() {
    return new T.ThisExpression({
      stx: this.matchRawSyntax()
    });
  }

  enforestArgumentList() {
    let result = [];
    while (this.rest.size > 0) {
      let arg;
      if (this.isPunctuator(this.peek(), '...')) {
        this.advance();
        arg = new T.SpreadElement({
          expression: this.enforestExpressionLoop()
        });
      } else {
        arg = this.enforestExpressionLoop();
      }
      if (this.rest.size > 0) {
        this.matchPunctuator(',');
      }
      result.push(arg);
    }
    return (0, _immutable.List)(result);
  }

  enforestNewExpression() {
    this.matchKeyword('new');
    if (this.isPunctuator(this.peek(), '.') && this.isIdentifier(this.peek(1), 'target')) {
      this.advance();
      this.advance();
      return new T.NewTargetExpression({});
    }

    let callee = this.enforestLeftHandSideExpression({ allowCall: false });
    let args;
    if (this.isParens(this.peek())) {
      args = this.matchParens();
    } else {
      args = (0, _immutable.List)();
    }
    return new T.NewExpression({
      callee,
      arguments: args
    });
  }

  enforestComputedMemberExpression() {
    let enf = new Enforester(this.matchSquares(), (0, _immutable.List)(), this.context);
    return new T.ComputedMemberExpression({
      object: this.term,
      expression: enf.enforestExpression()
    });
  }

  transformDestructuring(term) {
    switch (term.type) {
      case 'IdentifierExpression':
        return new T.BindingIdentifier({ name: term.name });

      case 'ParenthesizedExpression':
        if (term.inner.size === 1 && this.isIdentifier(term.inner.get(0))) {
          return new T.BindingIdentifier({ name: term.inner.get(0).value });
        }
        return term;
      case 'DataProperty':
        return new T.BindingPropertyProperty({
          name: term.name,
          binding: this.transformDestructuringWithDefault(term.expression)
        });
      case 'ShorthandProperty':
        return new T.BindingPropertyIdentifier({
          binding: new T.BindingIdentifier({ name: term.name }),
          init: null
        });
      case 'ObjectExpression':
        return new T.ObjectBinding({
          properties: term.properties.map(t => this.transformDestructuring(t))
        });
      case 'ArrayExpression':
        {
          let last = term.elements.last();
          if (last != null && last.type === 'SpreadElement') {
            return new T.ArrayBinding({
              elements: term.elements.slice(0, -1).map(t => t && this.transformDestructuringWithDefault(t)),
              restElement: this.transformDestructuringWithDefault(last.expression)
            });
          } else {
            return new T.ArrayBinding({
              elements: term.elements.map(t => t && this.transformDestructuringWithDefault(t)),
              restElement: null
            });
          }
        }
      case 'StaticPropertyName':
        return new T.BindingIdentifier({
          name: term.value
        });
      case 'ComputedMemberExpression':
      case 'StaticMemberExpression':
      case 'ArrayBinding':
      case 'BindingIdentifier':
      case 'BindingPropertyIdentifier':
      case 'BindingPropertyProperty':
      case 'BindingWithDefault':
      case 'ObjectBinding':
        return term;
    }
    (0, _errors.assert)(false, 'not implemented yet for ' + term.type);
  }

  transformDestructuringWithDefault(term) {
    switch (term.type) {
      case 'AssignmentExpression':
        return new T.BindingWithDefault({
          binding: this.transformDestructuring(term.binding),
          init: term.expression
        });
    }
    return this.transformDestructuring(term);
  }

  enforestCallExpression() {
    let paren = this.matchParens();
    return new T.CallExpressionE({
      callee: this.term,
      arguments: paren
    });
  }

  enforestArrowExpression() {
    let enf;
    if (this.isIdentifier(this.peek())) {
      enf = new Enforester(_immutable.List.of(this.advance()), (0, _immutable.List)(), this.context);
    } else {
      let p = this.matchParens();
      enf = new Enforester(p, (0, _immutable.List)(), this.context);
    }
    let params = enf.enforestFormalParameters();
    this.matchPunctuator('=>');

    let body;
    if (this.isBraces(this.peek())) {
      body = this.matchCurlies();
      return new T.ArrowExpressionE({ params, body });
    } else {
      enf = new Enforester(this.rest, (0, _immutable.List)(), this.context);
      body = enf.enforestExpressionLoop();
      this.rest = enf.rest;
      return new T.ArrowExpression({ params, body });
    }
  }

  enforestYieldExpression() {
    let kwd = this.matchKeyword('yield');
    let lookahead = this.peek();

    if (this.rest.size === 0 || lookahead && !this.lineNumberEq(kwd, lookahead)) {
      return new T.YieldExpression({
        expression: null
      });
    } else {
      let isGenerator = false;
      if (this.isPunctuator(this.peek(), '*')) {
        isGenerator = true;
        this.advance();
      }
      let expr = this.enforestExpression();
      return new (isGenerator ? T.YieldGeneratorExpression : T.YieldExpression)({
        expression: expr
      });
    }
  }

  enforestSyntaxTemplate() {
    return new T.SyntaxTemplate({
      template: this.matchRawDelimiter()
    });
  }

  enforestStaticMemberExpression() {
    let object = this.term;
    this.advance();
    let property = this.matchRawSyntax();

    return new T.StaticMemberExpression({
      object: object,
      property: property
    });
  }

  enforestArrayExpression() {
    let arr = this.matchSquares();

    let elements = [];

    let enf = new Enforester(arr, (0, _immutable.List)(), this.context);

    while (enf.rest.size > 0) {
      let lookahead = enf.peek();
      let expression = null;
      if (!enf.isPunctuator(lookahead, ',')) {
        let isSpread = false;
        if (enf.isPunctuator(lookahead, '...')) {
          enf.advance();
          isSpread = true;
        }
        expression = enf.enforestExpressionLoop();
        if (expression == null) {
          // this was a macro that expanded to nothing
          continue;
        }
        if (enf.rest.size > 0 && !enf.isPunctuator(enf.peek(), ',')) {
          throw enf.createError(enf.peek(), 'unexpected token');
        }
        if (isSpread) {
          expression = new T.SpreadElement({ expression });
        }
      }
      enf.consumeComma();
      elements.push(expression);
    }

    return new T.ArrayExpression({
      elements: (0, _immutable.List)(elements)
    });
  }

  enforestObjectExpression() {
    let obj = this.matchCurlies();

    let properties = (0, _immutable.List)();

    let enf = new Enforester(obj, (0, _immutable.List)(), this.context);

    let lastProp = null;
    //TODO: implement object spread operator when it lands
    while (enf.rest.size > 0) {
      let prop = enf.enforestPropertyDefinition();

      if (enf.rest.size > 0 && !enf.isPunctuator(enf.peek(), ',')) {
        throw enf.createError(enf.peek(), 'unexpected token');
      }

      enf.consumeComma();
      // TODO: bug in immutable type definitions for concat,
      // upgrade to v4 when it is released
      // https://github.com/facebook/immutable-js/pull/1153
      properties = properties.concat(prop);

      if (lastProp === prop) {
        throw enf.createError(prop, 'invalid syntax in object');
      }
      lastProp = prop;
    }

    return new T.ObjectExpression({
      properties: properties
    });
  }

  enforestPropertyDefinition() {
    let { methodOrKey, kind } = this.enforestMethodDefinition();

    switch (kind) {
      case 'method':
        return methodOrKey;
      case 'identifier':
        if (this.isAssign(this.peek())) {
          this.advance();
          let init = this.enforestExpressionLoop();
          return new T.BindingPropertyIdentifier({
            init,
            binding: this.transformDestructuring(methodOrKey)
          });
        } else if (!this.isPunctuator(this.peek(), ':')) {
          return new T.ShorthandProperty({
            name: methodOrKey.value
          });
        }
    }

    this.matchPunctuator(':');
    let expr = this.enforestExpressionLoop();

    return new T.DataProperty({
      name: methodOrKey,
      expression: expr
    });
  }

  enforestMethodDefinition() {
    let lookahead = this.peek();
    let isGenerator = false;
    if (this.isPunctuator(lookahead, '*')) {
      isGenerator = true;
      this.advance();
    }

    if (this.isIdentifier(lookahead, 'get') && this.isPropertyName(this.peek(1))) {
      this.advance();
      let { name } = this.enforestPropertyName();
      this.matchParens();
      let body = this.matchCurlies();
      return {
        methodOrKey: new T.Getter({ name, body }),
        kind: 'method'
      };
    } else if (this.isIdentifier(lookahead, 'set') && this.isPropertyName(this.peek(1))) {
      this.advance();
      let { name } = this.enforestPropertyName();
      let enf = new Enforester(this.matchParens(), (0, _immutable.List)(), this.context);
      let param = enf.enforestBindingElement();
      let body = this.matchCurlies();
      return {
        methodOrKey: new T.Setter({ name, param, body }),
        kind: 'method'
      };
    }
    let { name } = this.enforestPropertyName();
    if (this.isParens(this.peek())) {
      let params = this.matchParens();
      let enf = new Enforester(params, (0, _immutable.List)(), this.context);
      let formalParams = enf.enforestFormalParameters();

      let body = this.matchCurlies();
      return {
        methodOrKey: new T.Method({
          isGenerator,
          name,
          params: formalParams,
          body
        }),
        kind: 'method'
      };
    }
    return {
      methodOrKey: name,
      kind: this.isIdentifier(lookahead) || this.isKeyword(lookahead) ? 'identifier' : 'property'
    };
  }

  enforestPropertyName() {
    let lookahead = this.peek();

    if (this.isStringLiteral(lookahead) || this.isNumericLiteral(lookahead)) {
      return {
        name: new T.StaticPropertyName({
          value: this.matchRawSyntax()
        }),
        binding: null
      };
    } else if (this.isBrackets(lookahead)) {
      let enf = new Enforester(this.matchSquares(), (0, _immutable.List)(), this.context);
      let expr = enf.enforestExpressionLoop();
      return {
        name: new T.ComputedPropertyName({
          expression: expr
        }),
        binding: null
      };
    }
    let name = this.matchRawSyntax();
    return {
      name: new T.StaticPropertyName({ value: name }),
      binding: new T.BindingIdentifier({ name })
    };
  }

  enforestFunction({
    isExpr,
    inDefault
  }) {
    let name = null,
        params,
        body;
    let isGenerator = false;
    // eat the function keyword
    let fnKeyword = this.matchRawSyntax();
    let lookahead = this.peek();

    if (this.isPunctuator(lookahead, '*')) {
      isGenerator = true;
      this.advance();
      lookahead = this.peek();
    }

    if (!this.isParens(lookahead)) {
      name = this.enforestBindingIdentifier();
    } else if (inDefault) {
      name = new T.BindingIdentifier({
        name: _syntax2.default.fromIdentifier('*default*', fnKeyword)
      });
    }

    params = this.matchParens();

    body = this.matchCurlies();

    let enf = new Enforester(params, (0, _immutable.List)(), this.context);
    let formalParams = enf.enforestFormalParameters();

    return new (isExpr ? T.FunctionExpressionE : T.FunctionDeclarationE)({
      name: name,
      isGenerator: isGenerator,
      params: formalParams,
      body: body
    });
  }

  enforestFormalParameters() {
    let items = [];
    let rest = null;
    while (this.rest.size !== 0) {
      let lookahead = this.peek();
      if (this.isPunctuator(lookahead, '...')) {
        this.matchPunctuator('...');
        rest = this.enforestBindingIdentifier();
        break;
      }
      items.push(this.enforestParam());
      this.consumeComma();
    }
    return new T.FormalParameters({
      items: (0, _immutable.List)(items),
      rest
    });
  }

  enforestParam() {
    return this.enforestBindingElement();
  }

  enforestUpdateExpression() {
    const lookahead = this.peek();
    const leftTerm = this.term;
    if (!lookahead) {
      throw this.createError(lookahead, 'assertion failure: operator is null');
    }
    let operator = this.matchRawSyntax();
    if (this.isCompiletimeTransform(lookahead)) {
      const operatorTransform = this.getFromCompiletimeEnvironment(operator);
      if (!operatorTransform || operatorTransform.value.type !== 'operator') {
        throw this.createError(lookahead, 'unexpected transform');
      }
      let result = operatorTransform.value.f.call(null, leftTerm);
      let enf = new Enforester(result, (0, _immutable.List)(), this.context);
      return enf.enforestExpressionLoop();
    }
    return new T.UpdateExpression({
      isPrefix: false,
      operator: operator.val(),
      operand: this.transformDestructuring(leftTerm)
    });
  }

  enforestUnaryExpression() {
    const lookahead = this.peek();
    if (!lookahead) {
      throw this.createError(lookahead, 'assertion failure: operator is null');
    }
    let operator = this.matchRawSyntax();
    let prec, combine;
    if (this.isCompiletimeTransform(lookahead)) {
      const operatorTransform = this.getFromCompiletimeEnvironment(lookahead);
      if (!operatorTransform || operatorTransform.value.type !== 'operator') {
        throw this.createError(lookahead, 'unexpected transform');
      }
      prec = operatorTransform.value.prec;
      combine = rightTerm => {
        return this.expandOperator(lookahead, operatorTransform, [rightTerm]);
      };
    } else {
      // all builtins are 16
      prec = 16;
      combine = rightTerm => {
        if (operator.val() === '++' || operator.val() === '--') {
          return new T.UpdateExpression({
            operator: operator.val(),
            operand: this.transformDestructuring(rightTerm),
            isPrefix: true
          });
        } else {
          return new T.UnaryExpression({
            operator: operator.val(),
            operand: rightTerm
          });
        }
      };
    }

    this.opCtx.stack = this.opCtx.stack.push({
      prec: this.opCtx.prec,
      combine: this.opCtx.combine
    });
    this.opCtx.prec = prec;
    this.opCtx.combine = rightTerm => {
      return combine(rightTerm);
    };
    return EXPR_LOOP_OPERATOR;
  }

  enforestConditionalExpression() {
    // first, pop the operator stack
    let test = this.opCtx.combine(this.term);
    if (this.opCtx.stack.size > 0) {
      let { prec, combine } = this.opCtx.stack.last();
      this.opCtx.stack = this.opCtx.stack.pop();
      this.opCtx.prec = prec;
      this.opCtx.combine = combine;
    }

    this.matchPunctuator('?');
    let enf = new Enforester(this.rest, (0, _immutable.List)(), this.context);
    let consequent = enf.enforestExpressionLoop();
    enf.matchPunctuator(':');
    enf = new Enforester(enf.rest, (0, _immutable.List)(), this.context);
    let alternate = enf.enforestExpressionLoop();
    this.rest = enf.rest;
    return new T.ConditionalExpression({
      test,
      consequent,
      alternate
    });
  }

  enforestBinaryExpression() {
    let leftTerm = this.term;
    const opStx = this.peek();
    if (!opStx) {
      throw this.createError(opStx, 'assertion failure: opStx is null');
    }

    let prec, assoc, combine;
    if (this.isCompiletimeTransform(this.peek())) {
      const operatorTransform = this.getFromCompiletimeEnvironment(opStx.value);
      if (!operatorTransform || operatorTransform.value.type !== 'operator') {
        throw this.createError(opStx.value, 'unexpected transform');
      }
      prec = operatorTransform.value.prec;
      assoc = operatorTransform.value.assoc;
      combine = (left, right) => {
        return this.expandOperator(opStx, operatorTransform, [left, right]);
      };
    } else {
      prec = (0, _operators.getOperatorPrec)(opStx.value.val());
      assoc = (0, _operators.getOperatorAssoc)(opStx.value.val());
      combine = (left, right) => new T.BinaryExpression({
        left,
        right,
        operator: opStx.value.val()
      });
    }

    if ((0, _operators.operatorLt)(this.opCtx.prec, prec, assoc)) {
      this.opCtx.stack = this.opCtx.stack.push({
        prec: this.opCtx.prec,
        combine: this.opCtx.combine
      });
      this.opCtx.prec = prec;
      this.opCtx.combine = rightTerm => {
        return combine(leftTerm, rightTerm);
      };
      this.advance();
      return EXPR_LOOP_OPERATOR;
    } else {
      let term = this.opCtx.combine(leftTerm);
      // this.rest does not change
      let { prec, combine } = this.opCtx.stack.last();
      this.opCtx.stack = this.opCtx.stack.pop();
      this.opCtx.prec = prec;
      this.opCtx.combine = combine;
      return term;
    }
  }

  enforestTemplateElements() {
    let lookahead = this.matchTemplate();
    let elements = lookahead.token.items.map(it => {
      if (this.isDelimiter(it)) {
        let enf = new Enforester(it.inner.slice(1, it.inner.size - 1), (0, _immutable.List)(), this.context);
        return enf.enforest('expression');
      }
      return new T.TemplateElement({
        rawValue: it.value.token.slice.text
      });
    });
    return elements;
  }

  expandMacro() {
    let lookahead = this.peek();
    while (this.isCompiletimeTransform(lookahead)) {
      let name = this.matchRawSyntax();

      let syntaxTransform = this.getFromCompiletimeEnvironment(name);
      if (syntaxTransform == null) {
        throw this.createError(name, `The macro ${name.resolve(this.context.phase)} does not have a bound value`);
      } else if (typeof syntaxTransform.value.f !== 'function') {
        throw this.createError(name, `The macro ${name.resolve(this.context.phase)} was not bound to a callable value: ${syntaxTransform.value.f}`);
      }
      let useSiteScope = (0, _scope.freshScope)('u');
      let introducedScope = (0, _scope.freshScope)('i');
      // TODO: needs to be a list of scopes I think
      this.context.useScope = useSiteScope;

      let ctx = new _macroContext2.default(this, name, this.context, useSiteScope, introducedScope);

      let result = (0, _loadSyntax.sanitizeReplacementValues)(syntaxTransform.value.f.call(null, ctx));
      if (!_immutable.List.isList(result)) {
        throw this.createError(name, 'macro must return a list but got: ' + result);
      }
      let scopeReducer = new _scopeReducer2.default([{ scope: introducedScope, phase: _syntax.ALL_PHASES, flip: true }], this.context.bindings, true);
      result = result.map(terms => {
        if (terms instanceof _syntax2.default) {
          return new T.RawSyntax({
            value: terms
            // $FlowFixMe: flow doesn't know about reduce on terms yet
          }).reduce(scopeReducer);
        } else if (!(terms instanceof T.default)) {
          throw this.createError(name, 'macro must return syntax objects or terms but got: ' + terms);
        }
        return terms.reduce(scopeReducer);
      });

      this.rest = result.concat(ctx._rest(this));
      lookahead = this.peek();
    }
  }

  expandOperator(name, operatorTransform, args) {
    let useSiteScope = (0, _scope.freshScope)('u');
    let introducedScope = (0, _scope.freshScope)('i');
    // TODO: needs to be a list of scopes I think
    this.context.useScope = useSiteScope;
    args = args.map(arg => {
      // $FlowFixMe: flow doesn't know about reduce on terms yet
      return arg.reduce(new _scopeReducer2.default([{ scope: useSiteScope, phase: _syntax.ALL_PHASES, flip: false }, { scope: introducedScope, phase: _syntax.ALL_PHASES, flip: true }], this.context.bindings));
    });
    let result = (0, _loadSyntax.sanitizeReplacementValues)(operatorTransform.value.f.apply(null, args));
    let scopeReducer = new _scopeReducer2.default([{ scope: introducedScope, phase: _syntax.ALL_PHASES, flip: true }], this.context.bindings, true);
    result = result.map(terms => {
      if (terms instanceof _syntax2.default) {
        return new T.RawSyntax({
          value: terms
          // $FlowFixMe: flow doesn't know about reduce on terms yet
        }).reduce(scopeReducer);
      } else if (!(terms instanceof T.default)) {
        throw this.createError(name, 'macro must return syntax objects or terms but got: ' + terms);
      }
      return terms.reduce(scopeReducer);
    });
    let enf = new Enforester(result, (0, _immutable.List)(), this.context);
    return enf.enforestExpressionLoop();
  }

  consumeSemicolon() {
    let lookahead = this.peek();

    if (lookahead && this.isPunctuator(lookahead, ';')) {
      this.advance();
    }
  }

  consumeComma() {
    let lookahead = this.peek();

    if (lookahead && this.isPunctuator(lookahead, ',')) {
      this.advance();
    }
  }

  safeCheck(obj, type, val = null) {
    if (obj instanceof T.default) {
      if (obj instanceof T.RawSyntax) {
        return obj.value && (typeof obj.value.match === 'function' ? obj.value.match(type, val) : false);
      } else if (obj instanceof T.RawDelimiter) {
        return type === 'delimiter' || obj.kind === type;
      }
    }
    return obj && (typeof obj.match === 'function' ? obj.match(type, val) : false);
  }

  isTerm(term) {
    return term && term instanceof T.default;
  }

  isEOF(obj) {
    return this.safeCheck(obj, 'eof');
  }

  isIdentifier(obj, val = null) {
    return this.safeCheck(obj, 'identifier', val);
  }

  isPropertyName(obj) {
    return this.isIdentifier(obj) || this.isKeyword(obj) || this.isNumericLiteral(obj) || this.isStringLiteral(obj) || this.isBrackets(obj);
  }

  isNumericLiteral(obj, val = null) {
    return this.safeCheck(obj, 'number', val);
  }

  isStringLiteral(obj, val = null) {
    return this.safeCheck(obj, 'string', val);
  }

  isTemplate(obj, val = null) {
    return this.safeCheck(obj, 'template', val);
  }

  isSyntaxTemplate(obj) {
    return this.safeCheck(obj, 'syntaxTemplate');
  }

  isBooleanLiteral(obj, val = null) {
    return this.safeCheck(obj, 'boolean', val);
  }

  isNullLiteral(obj, val = null) {
    return this.safeCheck(obj, 'null', val);
  }

  isRegularExpression(obj, val = null) {
    return this.safeCheck(obj, 'regularExpression', val);
  }

  isDelimiter(obj) {
    return this.safeCheck(obj, 'delimiter');
  }

  isParens(obj) {
    return this.safeCheck(obj, 'parens');
  }

  isBraces(obj) {
    return this.safeCheck(obj, 'braces');
  }

  isBrackets(obj) {
    return this.safeCheck(obj, 'brackets');
  }

  isAssign(obj, val = null) {
    return this.safeCheck(obj, 'assign', val);
  }

  isKeyword(obj, val = null) {
    return this.safeCheck(obj, 'keyword', val);
  }

  isPunctuator(obj, val = null) {
    return this.safeCheck(obj, 'punctuator', val);
  }

  isOperator(obj) {
    return (this.safeCheck(obj, 'punctuator') || this.safeCheck(obj, 'identifier') || this.safeCheck(obj, 'keyword')) && (obj instanceof T.RawSyntax && (0, _operators.isOperator)(obj.value) || obj instanceof _syntax2.default && (0, _operators.isOperator)(obj));
  }

  isCustomPrefixOperator(obj) {
    if (this.isCompiletimeTransform(obj)) {
      let t = this.getFromCompiletimeEnvironment(obj.value);
      return t && t.value.assoc === 'prefix';
    }
    return false;
  }

  isCustomPostfixOperator(obj) {
    if (this.isCompiletimeTransform(obj)) {
      let t = this.getFromCompiletimeEnvironment(obj.value);
      return t && t.value.assoc === 'postfix';
    }
    return false;
  }

  isCustomBinaryOperator(obj) {
    if (this.isCompiletimeTransform(obj)) {
      let t = this.getFromCompiletimeEnvironment(obj.value);
      return t && (t.value.assoc === 'left' || t.value.assoc === 'right');
    }
    return false;
  }

  isUpdateOperator(obj) {
    return this.safeCheck(obj, 'punctuator', '++') || this.safeCheck(obj, 'punctuator', '--');
  }

  safeResolve(obj, phase) {
    if (obj instanceof T.RawSyntax) {
      return typeof obj.value.resolve === 'function' ? Just(obj.value.resolve(phase)) : Nothing();
    } else if (obj instanceof _syntax2.default) {
      return typeof obj.resolve === 'function' ? Just(obj.resolve(phase)) : Nothing();
    }
    return Nothing();
  }

  isTransform(obj, trans) {
    return this.safeResolve(obj, this.context.phase).map(name => this.context.env.get(name) === trans || this.context.store.get(name) === trans).getOrElse(false);
  }

  isTransformInstance(obj, trans) {
    return this.safeResolve(obj, this.context.phase).map(name => this.context.env.get(name) instanceof trans || this.context.store.get(name) instanceof trans).getOrElse(false);
  }

  isFnDeclTransform(obj) {
    return this.isTransform(obj, _transforms.FunctionDeclTransform);
  }

  isVarDeclTransform(obj) {
    return this.isTransform(obj, _transforms.VariableDeclTransform);
  }

  isLetDeclTransform(obj) {
    return this.isTransform(obj, _transforms.LetDeclTransform);
  }

  isConstDeclTransform(obj) {
    return this.isTransform(obj, _transforms.ConstDeclTransform);
  }

  isSyntaxDeclTransform(obj) {
    return this.isTransform(obj, _transforms.SyntaxDeclTransform);
  }

  isSyntaxrecDeclTransform(obj) {
    return this.isTransform(obj, _transforms.SyntaxrecDeclTransform);
  }

  isReturnStmtTransform(obj) {
    return this.isTransform(obj, _transforms.ReturnStatementTransform);
  }

  isWhileTransform(obj) {
    return this.isTransform(obj, _transforms.WhileTransform);
  }

  isForTransform(obj) {
    return this.isTransform(obj, _transforms.ForTransform);
  }

  isSwitchTransform(obj) {
    return this.isTransform(obj, _transforms.SwitchTransform);
  }

  isBreakTransform(obj) {
    return this.isTransform(obj, _transforms.BreakTransform);
  }

  isContinueTransform(obj) {
    return this.isTransform(obj, _transforms.ContinueTransform);
  }

  isDoTransform(obj) {
    return this.isTransform(obj, _transforms.DoTransform);
  }

  isDebuggerTransform(obj) {
    return this.isTransform(obj, _transforms.DebuggerTransform);
  }

  isWithTransform(obj) {
    return this.isTransform(obj, _transforms.WithTransform);
  }

  isImportTransform(obj) {
    return this.isTransform(obj, _transforms.ImportTransform);
  }

  isExportTransform(obj) {
    return this.isTransform(obj, _transforms.ExportTransform);
  }

  isTryTransform(obj) {
    return this.isTransform(obj, _transforms.TryTransform);
  }

  isThrowTransform(obj) {
    return this.isTransform(obj, _transforms.ThrowTransform);
  }

  isOperatorDeclTransform(obj) {
    return this.isTransform(obj, _transforms.OperatorDeclTransform);
  }

  isIfTransform(obj) {
    return this.isTransform(obj, _transforms.IfTransform);
  }

  isNewTransform(obj) {
    return this.isTransform(obj, _transforms.NewTransform);
  }

  isSuperTransform(obj) {
    return this.isTransform(obj, _transforms.SuperTransform);
  }

  isThisTransform(obj) {
    return this.isTransform(obj, _transforms.ThisTransform);
  }

  isClassTransform(obj) {
    return this.isTransform(obj, _transforms.ClassTransform);
  }

  isYieldTransform(obj) {
    return this.isTransform(obj, _transforms.YieldTransform);
  }

  isDefaultTransform(obj) {
    return this.isTransform(obj, _transforms.DefaultTransform);
  }

  isCompiletimeTransform(obj) {
    return this.isTransformInstance(obj, _transforms.CompiletimeTransform);
  }

  isModuleNamespaceTransform(obj) {
    return this.isTransformInstance(obj, _transforms.ModuleNamespaceTransform);
  }

  isVarBindingTransform(obj) {
    return this.isTransformInstance(obj, _transforms.VarBindingTransform);
  }

  getFromCompiletimeEnvironment(term) {
    if (this.context.env.has(term.resolve(this.context.phase))) {
      return this.context.env.get(term.resolve(this.context.phase));
    }
    return this.context.store.get(term.resolve(this.context.phase));
  }

  lineNumberEq(a, b) {
    if (!(a && b)) {
      return false;
    }
    return getLineNumber(a) === getLineNumber(b);
  }

  matchRawDelimiter() {
    let lookahead = this.advance();
    if (lookahead instanceof T.RawDelimiter) {
      // $FlowFixMe: terms are currently typed with arrays not lists
      return lookahead.inner;
    }
    throw this.createError(lookahead, 'expecting a RawDelimiter');
  }

  matchRawSyntax() {
    let lookahead = this.advance();
    if (lookahead instanceof T.RawSyntax) {
      return lookahead.value;
    }
    throw this.createError(lookahead, 'expecting a RawSyntax');
  }

  matchIdentifier(val) {
    let lookahead = this.peek();
    if (this.isIdentifier(lookahead, val)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting an identifier');
  }

  matchKeyword(val) {
    let lookahead = this.peek();
    if (this.isKeyword(lookahead, val)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting ' + val);
  }

  matchLiteral() {
    let lookahead = this.peek();
    if (this.isNumericLiteral(lookahead) || this.isStringLiteral(lookahead) || this.isBooleanLiteral(lookahead) || this.isNullLiteral(lookahead) || this.isTemplate(lookahead) || this.isRegularExpression(lookahead)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting a literal');
  }

  matchStringLiteral() {
    let lookahead = this.peek();
    if (this.isStringLiteral(lookahead)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting a string literal');
  }

  matchTemplate() {
    let lookahead = this.peek();
    if (this.isTemplate(lookahead)) {
      return this.matchRawSyntax();
    }
    throw this.createError(lookahead, 'expecting a template literal');
  }

  matchParens() {
    let lookahead = this.peek();
    if (this.isParens(lookahead)) {
      let inner = this.matchRawDelimiter();
      return inner.slice(1, inner.size - 1);
    }
    throw this.createError(lookahead, 'expecting parens');
  }

  matchCurlies() {
    let lookahead = this.peek();
    if (this.isBraces(lookahead)) {
      let inner = this.matchRawDelimiter();
      return inner.slice(1, inner.size - 1);
    }
    throw this.createError(lookahead, 'expecting curly braces');
  }

  matchSquares() {
    let lookahead = this.peek();
    if (this.isBrackets(lookahead)) {
      let inner = this.matchRawDelimiter();
      return inner.slice(1, inner.size - 1);
    }
    throw this.createError(lookahead, 'expecting square braces');
  }

  matchUnaryOperator() {
    let lookahead = this.matchRawSyntax();
    if ((0, _operators.isUnaryOperator)(lookahead)) {
      return lookahead;
    }
    throw this.createError(lookahead, 'expecting a unary operator');
  }

  matchPunctuator(val) {
    let lookahead = this.matchRawSyntax();
    if (this.isPunctuator(lookahead)) {
      if (typeof val !== 'undefined') {
        if (lookahead.val() === val) {
          return lookahead;
        } else {
          throw this.createError(lookahead, 'expecting a ' + val + ' punctuator');
        }
      }
      return lookahead;
    }
    throw this.createError(lookahead, 'expecting a punctuator');
  }

  createError(stx, message) {
    let ctx = '';
    let offending = stx;
    if (this.rest.size > 0) {
      ctx = this.rest.slice(0, 20).map(term => {
        if (term instanceof T.RawDelimiter) {
          return term.inner;
        }
        return _immutable.List.of(term);
      }).flatten().map(s => {
        let sval = s instanceof T.RawSyntax ? s.value.val() : s.toString();
        if (s === offending) {
          return '__' + sval + '__';
        }
        return sval;
      }).join(' ');
    } else {
      ctx = offending == null ? '' : offending.toString();
    }
    return new Error(message + '\n' + ctx);
  }
}
exports.Enforester = Enforester;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbmZvcmVzdGVyLmpzIl0sIm5hbWVzIjpbIlQiLCJKdXN0IiwiTm90aGluZyIsIkVYUFJfTE9PUF9PUEVSQVRPUiIsIkVYUFJfTE9PUF9OT19DSEFOR0UiLCJFWFBSX0xPT1BfRVhQQU5TSU9OIiwiZ2V0TGluZU51bWJlciIsIngiLCJzdHgiLCJSYXdTeW50YXgiLCJ2YWx1ZSIsIlJhd0RlbGltaXRlciIsImlubmVyIiwiZmlyc3QiLCJFcnJvciIsImxpbmVOdW1iZXIiLCJFbmZvcmVzdGVyIiwiY29uc3RydWN0b3IiLCJzdHhsIiwicHJldiIsImNvbnRleHQiLCJkb25lIiwiaXNMaXN0IiwidGVybSIsInJlc3QiLCJwZWVrIiwibiIsImdldCIsImFkdmFuY2UiLCJyZXQiLCJlbmZvcmVzdCIsInR5cGUiLCJzaXplIiwicmVzdWx0IiwiZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCIsImVuZm9yZXN0TW9kdWxlIiwiZW5mb3Jlc3RCb2R5IiwiZW5mb3Jlc3RNb2R1bGVJdGVtIiwibG9va2FoZWFkIiwiaXNJbXBvcnRUcmFuc2Zvcm0iLCJlbmZvcmVzdEltcG9ydERlY2xhcmF0aW9uIiwiaXNFeHBvcnRUcmFuc2Zvcm0iLCJlbmZvcmVzdEV4cG9ydERlY2xhcmF0aW9uIiwiZW5mb3Jlc3RTdGF0ZW1lbnQiLCJpc0NvbXBpbGV0aW1lVHJhbnNmb3JtIiwiZXhwYW5kTWFjcm8iLCJpc1B1bmN0dWF0b3IiLCJtb2R1bGVTcGVjaWZpZXIiLCJlbmZvcmVzdEZyb21DbGF1c2UiLCJFeHBvcnRBbGxGcm9tIiwiaXNCcmFjZXMiLCJuYW1lZEV4cG9ydHMiLCJlbmZvcmVzdEV4cG9ydENsYXVzZSIsImlzSWRlbnRpZmllciIsIkV4cG9ydEZyb20iLCJpc0NsYXNzVHJhbnNmb3JtIiwiRXhwb3J0IiwiZGVjbGFyYXRpb24iLCJlbmZvcmVzdENsYXNzIiwiaXNFeHByIiwiaXNGbkRlY2xUcmFuc2Zvcm0iLCJlbmZvcmVzdEZ1bmN0aW9uIiwiaXNEZWZhdWx0VHJhbnNmb3JtIiwiRXhwb3J0RGVmYXVsdCIsImJvZHkiLCJpbkRlZmF1bHQiLCJjb25zdW1lU2VtaWNvbG9uIiwiaXNWYXJEZWNsVHJhbnNmb3JtIiwiaXNMZXREZWNsVHJhbnNmb3JtIiwiaXNDb25zdERlY2xUcmFuc2Zvcm0iLCJpc1N5bnRheHJlY0RlY2xUcmFuc2Zvcm0iLCJpc1N5bnRheERlY2xUcmFuc2Zvcm0iLCJpc09wZXJhdG9yRGVjbFRyYW5zZm9ybSIsImVuZm9yZXN0VmFyaWFibGVEZWNsYXJhdGlvbiIsImNyZWF0ZUVycm9yIiwiZW5mIiwibWF0Y2hDdXJsaWVzIiwicHVzaCIsImVuZm9yZXN0RXhwb3J0U3BlY2lmaWVyIiwiY29uc3VtZUNvbW1hIiwibmFtZSIsImVuZm9yZXN0SWRlbnRpZmllciIsImV4cG9ydGVkTmFtZSIsIkV4cG9ydFNwZWNpZmllciIsImRlZmF1bHRCaW5kaW5nIiwibmFtZWRJbXBvcnRzIiwiZm9yU3ludGF4IiwiaXNTdHJpbmdMaXRlcmFsIiwiSW1wb3J0IiwiaXNLZXl3b3JkIiwiZW5mb3Jlc3RCaW5kaW5nSWRlbnRpZmllciIsImltcG9ydHMiLCJlbmZvcmVzdE5hbWVkSW1wb3J0cyIsImZyb21DbGF1c2UiLCJuYW1lc3BhY2VCaW5kaW5nIiwiZW5mb3Jlc3ROYW1lc3BhY2VCaW5kaW5nIiwiSW1wb3J0TmFtZXNwYWNlIiwibWF0Y2hQdW5jdHVhdG9yIiwibWF0Y2hJZGVudGlmaWVyIiwiZW5mb3Jlc3RJbXBvcnRTcGVjaWZpZXJzIiwibWF0Y2hSYXdTeW50YXgiLCJJbXBvcnRTcGVjaWZpZXIiLCJiaW5kaW5nIiwiQmluZGluZ0lkZW50aWZpZXIiLCJtYXRjaFN0cmluZ0xpdGVyYWwiLCJlbmZvcmVzdFN0YXRlbWVudExpc3RJdGVtIiwiaXNUZXJtIiwiU3RhdGVtZW50IiwiZW5mb3Jlc3RCbG9ja1N0YXRlbWVudCIsImlzV2hpbGVUcmFuc2Zvcm0iLCJlbmZvcmVzdFdoaWxlU3RhdGVtZW50IiwiaXNJZlRyYW5zZm9ybSIsImVuZm9yZXN0SWZTdGF0ZW1lbnQiLCJpc0ZvclRyYW5zZm9ybSIsImVuZm9yZXN0Rm9yU3RhdGVtZW50IiwiaXNTd2l0Y2hUcmFuc2Zvcm0iLCJlbmZvcmVzdFN3aXRjaFN0YXRlbWVudCIsImlzQnJlYWtUcmFuc2Zvcm0iLCJlbmZvcmVzdEJyZWFrU3RhdGVtZW50IiwiaXNDb250aW51ZVRyYW5zZm9ybSIsImVuZm9yZXN0Q29udGludWVTdGF0ZW1lbnQiLCJpc0RvVHJhbnNmb3JtIiwiZW5mb3Jlc3REb1N0YXRlbWVudCIsImlzRGVidWdnZXJUcmFuc2Zvcm0iLCJlbmZvcmVzdERlYnVnZ2VyU3RhdGVtZW50IiwiaXNXaXRoVHJhbnNmb3JtIiwiZW5mb3Jlc3RXaXRoU3RhdGVtZW50IiwiaXNUcnlUcmFuc2Zvcm0iLCJlbmZvcmVzdFRyeVN0YXRlbWVudCIsImlzVGhyb3dUcmFuc2Zvcm0iLCJlbmZvcmVzdFRocm93U3RhdGVtZW50IiwiZW5mb3Jlc3RMYWJlbGVkU3RhdGVtZW50Iiwic3RtdCIsIlZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQiLCJpc1JldHVyblN0bXRUcmFuc2Zvcm0iLCJlbmZvcmVzdFJldHVyblN0YXRlbWVudCIsIkVtcHR5U3RhdGVtZW50IiwiZW5mb3Jlc3RFeHByZXNzaW9uU3RhdGVtZW50IiwibGFiZWwiLCJMYWJlbGVkU3RhdGVtZW50IiwibWF0Y2hLZXl3b3JkIiwiQnJlYWtTdGF0ZW1lbnQiLCJlbmZvcmVzdEJsb2NrIiwiY2F0Y2hDbGF1c2UiLCJlbmZvcmVzdENhdGNoQ2xhdXNlIiwiZmluYWxpemVyIiwiVHJ5RmluYWxseVN0YXRlbWVudCIsIlRyeUNhdGNoU3RhdGVtZW50IiwiYmluZGluZ1BhcmVucyIsIm1hdGNoUGFyZW5zIiwiZW5mb3Jlc3RCaW5kaW5nVGFyZ2V0IiwiQ2F0Y2hDbGF1c2UiLCJleHByZXNzaW9uIiwiZW5mb3Jlc3RFeHByZXNzaW9uIiwiVGhyb3dTdGF0ZW1lbnQiLCJvYmpQYXJlbnMiLCJvYmplY3QiLCJXaXRoU3RhdGVtZW50IiwiRGVidWdnZXJTdGF0ZW1lbnQiLCJ0ZXN0Qm9keSIsInRlc3QiLCJEb1doaWxlU3RhdGVtZW50Iiwia3dkIiwiQ29udGludWVTdGF0ZW1lbnQiLCJsaW5lTnVtYmVyRXEiLCJjb25kIiwiZGlzY3JpbWluYW50IiwiU3dpdGNoU3RhdGVtZW50IiwiY2FzZXMiLCJlbmZvcmVzdFN3aXRjaENhc2VzIiwiZGVmYXVsdENhc2UiLCJlbmZvcmVzdFN3aXRjaERlZmF1bHQiLCJwb3N0RGVmYXVsdENhc2VzIiwiU3dpdGNoU3RhdGVtZW50V2l0aERlZmF1bHQiLCJwcmVEZWZhdWx0Q2FzZXMiLCJlbmZvcmVzdFN3aXRjaENhc2UiLCJTd2l0Y2hDYXNlIiwiY29uc2VxdWVudCIsImVuZm9yZXN0U3dpdGNoQ2FzZUJvZHkiLCJlbmZvcmVzdFN0YXRlbWVudExpc3RJblN3aXRjaENhc2VCb2R5IiwiU3dpdGNoRGVmYXVsdCIsImluaXQiLCJyaWdodCIsImxlZnQiLCJ1cGRhdGUiLCJjbnN0IiwiRm9yU3RhdGVtZW50IiwiRm9ySW5TdGF0ZW1lbnQiLCJGb3JPZlN0YXRlbWVudCIsImtpbmQiLCJhbHRlcm5hdGUiLCJJZlN0YXRlbWVudCIsIldoaWxlU3RhdGVtZW50IiwiQmxvY2tTdGF0ZW1lbnQiLCJibG9jayIsIkJsb2NrIiwic3RhdGVtZW50cyIsImt3Iiwic3VwciIsImZyb21JZGVudGlmaWVyIiwiZWxlbWVudHMiLCJpc1N0YXRpYyIsIm1ldGhvZE9yS2V5IiwiZW5mb3Jlc3RNZXRob2REZWZpbml0aW9uIiwiU3RhdGljUHJvcGVydHlOYW1lIiwidmFsIiwiQ2xhc3NFbGVtZW50IiwibWV0aG9kIiwiQ2xhc3NFeHByZXNzaW9uIiwiQ2xhc3NEZWNsYXJhdGlvbiIsInN1cGVyIiwiYWxsb3dQdW5jdHVhdG9yIiwiaXNCcmFja2V0cyIsImVuZm9yZXN0QXJyYXlCaW5kaW5nIiwiZW5mb3Jlc3RPYmplY3RCaW5kaW5nIiwicHJvcGVydGllcyIsImVuZm9yZXN0QmluZGluZ1Byb3BlcnR5IiwiT2JqZWN0QmluZGluZyIsImVuZm9yZXN0UHJvcGVydHlOYW1lIiwiaXNBc3NpZ24iLCJleHByIiwiQmluZGluZ1Byb3BlcnR5UHJvcGVydHkiLCJCaW5kaW5nV2l0aERlZmF1bHQiLCJlbmZvcmVzdEJpbmRpbmdFbGVtZW50IiwiYnJhY2tldCIsIm1hdGNoU3F1YXJlcyIsInJlc3RFbGVtZW50IiwiZWwiLCJBcnJheUJpbmRpbmciLCJlbmZvcmVzdFB1bmN0dWF0b3IiLCJSZXR1cm5TdGF0ZW1lbnQiLCJkZWNscyIsImVuZm9yZXN0VmFyaWFibGVEZWNsYXJhdG9yIiwiaXNTeW50YXgiLCJpc09wZXJhdG9yIiwiY29uY2F0IiwiVmFyaWFibGVEZWNsYXJhdGlvbiIsImRlY2xhcmF0b3JzIiwiaWQiLCJBc3NvY1ZhbHVlcyIsImFzc29jIiwicHJlYyIsImluZGV4T2YiLCJqb2luIiwibWF0Y2hMaXRlcmFsIiwiT3BlcmF0b3JEZWNsYXJhdG9yIiwiVmFyaWFibGVEZWNsYXJhdG9yIiwic3RhcnQiLCJFeHByZXNzaW9uU3RhdGVtZW50Iiwib3BlcmF0b3IiLCJCaW5hcnlFeHByZXNzaW9uIiwib3BDdHgiLCJjb21iaW5lIiwic3RhY2siLCJlbmZvcmVzdEFzc2lnbm1lbnRFeHByZXNzaW9uIiwibGFzdCIsInBvcCIsImlzTW9kdWxlTmFtZXNwYWNlVHJhbnNmb3JtIiwibmFtZXNwYWNlIiwiZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQiLCJtb2QiLCJleHBvcnRlZE5hbWVzIiwiZmluZCIsImV4TmFtZSIsInVuc2hpZnQiLCJFeHByZXNzaW9uIiwiaXNZaWVsZFRyYW5zZm9ybSIsImVuZm9yZXN0WWllbGRFeHByZXNzaW9uIiwiaXNQYXJlbnMiLCJlbmZvcmVzdEFycm93RXhwcmVzc2lvbiIsImlzU3ludGF4VGVtcGxhdGUiLCJlbmZvcmVzdFN5bnRheFRlbXBsYXRlIiwiUGFyZW50aGVzaXplZEV4cHJlc3Npb24iLCJpc051bWVyaWNMaXRlcmFsIiwiaXNUZW1wbGF0ZSIsImlzQm9vbGVhbkxpdGVyYWwiLCJpc051bGxMaXRlcmFsIiwiaXNSZWd1bGFyRXhwcmVzc2lvbiIsImVuZm9yZXN0UHJpbWFyeUV4cHJlc3Npb24iLCJpc0N1c3RvbVByZWZpeE9wZXJhdG9yIiwiZW5mb3Jlc3RVbmFyeUV4cHJlc3Npb24iLCJpc1ZhckJpbmRpbmdUcmFuc2Zvcm0iLCJsb29rc3R4Iiwib2YiLCJpc05ld1RyYW5zZm9ybSIsImlzU3VwZXJUcmFuc2Zvcm0iLCJlbmZvcmVzdExlZnRIYW5kU2lkZUV4cHJlc3Npb24iLCJhbGxvd0NhbGwiLCJpc0N1c3RvbUJpbmFyeU9wZXJhdG9yIiwiZW5mb3Jlc3RCaW5hcnlFeHByZXNzaW9uIiwiaXNVcGRhdGVPcGVyYXRvciIsImlzQ3VzdG9tUG9zdGZpeE9wZXJhdG9yIiwiZW5mb3Jlc3RVcGRhdGVFeHByZXNzaW9uIiwiZW5mb3Jlc3RUZW1wbGF0ZUxpdGVyYWwiLCJ0cmFuc2Zvcm1EZXN0cnVjdHVyaW5nIiwib3AiLCJBc3NpZ25tZW50RXhwcmVzc2lvbiIsIkNvbXBvdW5kQXNzaWdubWVudEV4cHJlc3Npb24iLCJlbmZvcmVzdENvbmRpdGlvbmFsRXhwcmVzc2lvbiIsImVuZm9yZXN0VGhpc0V4cHJlc3Npb24iLCJlbmZvcmVzdElkZW50aWZpZXJFeHByZXNzaW9uIiwiZW5mb3Jlc3ROdW1lcmljTGl0ZXJhbCIsImVuZm9yZXN0U3RyaW5nTGl0ZXJhbCIsImVuZm9yZXN0Qm9vbGVhbkxpdGVyYWwiLCJlbmZvcmVzdE51bGxMaXRlcmFsIiwiZW5mb3Jlc3RSZWd1bGFyRXhwcmVzc2lvbkxpdGVyYWwiLCJlbmZvcmVzdE9iamVjdEV4cHJlc3Npb24iLCJlbmZvcmVzdEFycmF5RXhwcmVzc2lvbiIsIlN1cGVyIiwiZW5mb3Jlc3ROZXdFeHByZXNzaW9uIiwiaXNUaGlzVHJhbnNmb3JtIiwiZW5mb3Jlc3RDYWxsRXhwcmVzc2lvbiIsImVuZm9yZXN0Q29tcHV0ZWRNZW1iZXJFeHByZXNzaW9uIiwiZW5mb3Jlc3RTdGF0aWNNZW1iZXJFeHByZXNzaW9uIiwiSWRlbnRpZmllckV4cHJlc3Npb24iLCJMaXRlcmFsQm9vbGVhbkV4cHJlc3Npb24iLCJUZW1wbGF0ZUV4cHJlc3Npb24iLCJ0YWciLCJlbmZvcmVzdFRlbXBsYXRlRWxlbWVudHMiLCJMaXRlcmFsU3RyaW5nRXhwcmVzc2lvbiIsIm51bSIsIkxpdGVyYWxJbmZpbml0eUV4cHJlc3Npb24iLCJMaXRlcmFsTnVtZXJpY0V4cHJlc3Npb24iLCJyZVN0eCIsImxhc3RTbGFzaCIsInRva2VuIiwibGFzdEluZGV4T2YiLCJwYXR0ZXJuIiwic2xpY2UiLCJmbGFncyIsIkxpdGVyYWxSZWdFeHBFeHByZXNzaW9uIiwiTGl0ZXJhbE51bGxFeHByZXNzaW9uIiwiVGhpc0V4cHJlc3Npb24iLCJlbmZvcmVzdEFyZ3VtZW50TGlzdCIsImFyZyIsIlNwcmVhZEVsZW1lbnQiLCJOZXdUYXJnZXRFeHByZXNzaW9uIiwiY2FsbGVlIiwiYXJncyIsIk5ld0V4cHJlc3Npb24iLCJhcmd1bWVudHMiLCJDb21wdXRlZE1lbWJlckV4cHJlc3Npb24iLCJ0cmFuc2Zvcm1EZXN0cnVjdHVyaW5nV2l0aERlZmF1bHQiLCJCaW5kaW5nUHJvcGVydHlJZGVudGlmaWVyIiwibWFwIiwidCIsInBhcmVuIiwiQ2FsbEV4cHJlc3Npb25FIiwicCIsInBhcmFtcyIsImVuZm9yZXN0Rm9ybWFsUGFyYW1ldGVycyIsIkFycm93RXhwcmVzc2lvbkUiLCJBcnJvd0V4cHJlc3Npb24iLCJZaWVsZEV4cHJlc3Npb24iLCJpc0dlbmVyYXRvciIsIllpZWxkR2VuZXJhdG9yRXhwcmVzc2lvbiIsIlN5bnRheFRlbXBsYXRlIiwidGVtcGxhdGUiLCJtYXRjaFJhd0RlbGltaXRlciIsInByb3BlcnR5IiwiU3RhdGljTWVtYmVyRXhwcmVzc2lvbiIsImFyciIsImlzU3ByZWFkIiwiQXJyYXlFeHByZXNzaW9uIiwib2JqIiwibGFzdFByb3AiLCJwcm9wIiwiZW5mb3Jlc3RQcm9wZXJ0eURlZmluaXRpb24iLCJPYmplY3RFeHByZXNzaW9uIiwiU2hvcnRoYW5kUHJvcGVydHkiLCJEYXRhUHJvcGVydHkiLCJpc1Byb3BlcnR5TmFtZSIsIkdldHRlciIsInBhcmFtIiwiU2V0dGVyIiwiZm9ybWFsUGFyYW1zIiwiTWV0aG9kIiwiQ29tcHV0ZWRQcm9wZXJ0eU5hbWUiLCJmbktleXdvcmQiLCJGdW5jdGlvbkV4cHJlc3Npb25FIiwiRnVuY3Rpb25EZWNsYXJhdGlvbkUiLCJpdGVtcyIsImVuZm9yZXN0UGFyYW0iLCJGb3JtYWxQYXJhbWV0ZXJzIiwibGVmdFRlcm0iLCJvcGVyYXRvclRyYW5zZm9ybSIsImYiLCJjYWxsIiwiVXBkYXRlRXhwcmVzc2lvbiIsImlzUHJlZml4Iiwib3BlcmFuZCIsInJpZ2h0VGVybSIsImV4cGFuZE9wZXJhdG9yIiwiVW5hcnlFeHByZXNzaW9uIiwiQ29uZGl0aW9uYWxFeHByZXNzaW9uIiwib3BTdHgiLCJtYXRjaFRlbXBsYXRlIiwiaXQiLCJpc0RlbGltaXRlciIsIlRlbXBsYXRlRWxlbWVudCIsInJhd1ZhbHVlIiwidGV4dCIsInN5bnRheFRyYW5zZm9ybSIsInJlc29sdmUiLCJwaGFzZSIsInVzZVNpdGVTY29wZSIsImludHJvZHVjZWRTY29wZSIsInVzZVNjb3BlIiwiY3R4Iiwic2NvcGVSZWR1Y2VyIiwic2NvcGUiLCJmbGlwIiwiYmluZGluZ3MiLCJ0ZXJtcyIsInJlZHVjZSIsIl9yZXN0IiwiYXBwbHkiLCJzYWZlQ2hlY2siLCJtYXRjaCIsImlzRU9GIiwic2FmZVJlc29sdmUiLCJpc1RyYW5zZm9ybSIsInRyYW5zIiwiZW52Iiwic3RvcmUiLCJnZXRPckVsc2UiLCJpc1RyYW5zZm9ybUluc3RhbmNlIiwiaGFzIiwiYSIsImIiLCJtYXRjaFVuYXJ5T3BlcmF0b3IiLCJtZXNzYWdlIiwib2ZmZW5kaW5nIiwiZmxhdHRlbiIsInMiLCJzdmFsIiwidG9TdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFLQTs7SUFBa0JBLEM7O0FBQ2xCOztBQUNBOzs7O0FBSUE7O0FBZ0NBOztBQUNBOztBQUNBOztBQU9BOzs7O0FBR0E7O0FBQ0E7O0FBRUE7Ozs7Ozs7O0FBbERBLE1BQU1DLE9B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LFFBQVYsRUFBL0I7QUFDRDtBQUNELFdBQU8sSUFBSXRhLEtBQUosQ0FBVWlhLFVBQVUsSUFBVixHQUFpQnZCLEdBQTNCLENBQVA7QUFDRDtBQWhvRnFCO1FBQVh4WSxVLEdBQUFBLFUiLCJmaWxlIjoiZW5mb3Jlc3Rlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5pbXBvcnQge1xuICBpc0lkZW50aWZpZXJFeHByZXNzaW9uLFxuICBpc1N0YXRpY01lbWJlckV4cHJlc3Npb24sXG4gIGlzQ29tcHV0ZWRNZW1iZXJFeHByZXNzaW9uLFxufSBmcm9tICcuL3Rlcm1zJztcbmltcG9ydCBUZXJtLCAqIGFzIFQgZnJvbSAnc3dlZXQtc3BlYyc7XG5pbXBvcnQgeyBNYXliZSB9IGZyb20gJ3JhbWRhLWZhbnRhc3knO1xuaW1wb3J0IFNjb3BlUmVkdWNlciBmcm9tICcuL3Njb3BlLXJlZHVjZXInO1xuY29uc3QgSnVzdCA9IE1heWJlLkp1c3Q7XG5jb25zdCBOb3RoaW5nID0gTWF5YmUuTm90aGluZztcblxuaW1wb3J0IHtcbiAgRnVuY3Rpb25EZWNsVHJhbnNmb3JtLFxuICBWYXJpYWJsZURlY2xUcmFuc2Zvcm0sXG4gIE5ld1RyYW5zZm9ybSxcbiAgTGV0RGVjbFRyYW5zZm9ybSxcbiAgQ29uc3REZWNsVHJhbnNmb3JtLFxuICBTeW50YXhEZWNsVHJhbnNmb3JtLFxuICBTeW50YXhyZWNEZWNsVHJhbnNmb3JtLFxuICBPcGVyYXRvckRlY2xUcmFuc2Zvcm0sXG4gIFJldHVyblN0YXRlbWVudFRyYW5zZm9ybSxcbiAgV2hpbGVUcmFuc2Zvcm0sXG4gIElmVHJhbnNmb3JtLFxuICBGb3JUcmFuc2Zvcm0sXG4gIFN3aXRjaFRyYW5zZm9ybSxcbiAgQnJlYWtUcmFuc2Zvcm0sXG4gIENvbnRpbnVlVHJhbnNmb3JtLFxuICBEb1RyYW5zZm9ybSxcbiAgRGVidWdnZXJUcmFuc2Zvcm0sXG4gIFlpZWxkVHJhbnNmb3JtLFxuICBXaXRoVHJhbnNmb3JtLFxuICBJbXBvcnRUcmFuc2Zvcm0sXG4gIEV4cG9ydFRyYW5zZm9ybSxcbiAgU3VwZXJUcmFuc2Zvcm0sXG4gIFRoaXNUcmFuc2Zvcm0sXG4gIENsYXNzVHJhbnNmb3JtLFxuICBEZWZhdWx0VHJhbnNmb3JtLFxuICBUcnlUcmFuc2Zvcm0sXG4gIFRocm93VHJhbnNmb3JtLFxuICBDb21waWxldGltZVRyYW5zZm9ybSxcbiAgVmFyQmluZGluZ1RyYW5zZm9ybSxcbiAgTW9kdWxlTmFtZXNwYWNlVHJhbnNmb3JtLFxufSBmcm9tICcuL3RyYW5zZm9ybXMnO1xuaW1wb3J0IHsgTGlzdCB9IGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQgeyBleHBlY3QsIGFzc2VydCB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7XG4gIGlzT3BlcmF0b3IsXG4gIGlzVW5hcnlPcGVyYXRvcixcbiAgZ2V0T3BlcmF0b3JBc3NvYyxcbiAgZ2V0T3BlcmF0b3JQcmVjLFxuICBvcGVyYXRvckx0LFxufSBmcm9tICcuL29wZXJhdG9ycyc7XG5pbXBvcnQgU3ludGF4LCB7IEFMTF9QSEFTRVMgfSBmcm9tICcuL3N5bnRheCc7XG5pbXBvcnQgdHlwZSB7IFN5bWJvbENsYXNzIH0gZnJvbSAnLi9zeW1ib2wnO1xuXG5pbXBvcnQgeyBmcmVzaFNjb3BlIH0gZnJvbSAnLi9zY29wZSc7XG5pbXBvcnQgeyBzYW5pdGl6ZVJlcGxhY2VtZW50VmFsdWVzIH0gZnJvbSAnLi9sb2FkLXN5bnRheCc7XG5cbmltcG9ydCBNYWNyb0NvbnRleHQgZnJvbSAnLi9tYWNyby1jb250ZXh0JztcblxuY29uc3QgRVhQUl9MT09QX09QRVJBVE9SID0ge307XG5jb25zdCBFWFBSX0xPT1BfTk9fQ0hBTkdFID0ge307XG5jb25zdCBFWFBSX0xPT1BfRVhQQU5TSU9OID0ge307XG5cbmZ1bmN0aW9uIGdldExpbmVOdW1iZXIoeDogYW55KSB7XG4gIGxldCBzdHg7XG4gIGlmICh4IGluc3RhbmNlb2YgU3ludGF4KSB7XG4gICAgc3R4ID0geDtcbiAgfSBlbHNlIGlmICh4IGluc3RhbmNlb2YgVC5SYXdTeW50YXgpIHtcbiAgICBzdHggPSB4LnZhbHVlO1xuICB9IGVsc2UgaWYgKHggaW5zdGFuY2VvZiBULlJhd0RlbGltaXRlcikge1xuICAgIHJldHVybiBnZXRMaW5lTnVtYmVyKHguaW5uZXIuZmlyc3QoKSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgaW1wbGVtZW50ZWQgeWV0ICR7eH1gKTtcbiAgfVxuICByZXR1cm4gc3R4LmxpbmVOdW1iZXIoKTtcbn1cblxuZXhwb3J0IGNsYXNzIEVuZm9yZXN0ZXIge1xuICBkb25lOiBib29sZWFuO1xuICB0ZXJtOiA/VGVybTtcbiAgcmVzdDogTGlzdDxUZXJtPjtcbiAgcHJldjogTGlzdDxUZXJtPjtcbiAgY29udGV4dDoge1xuICAgIGVudjogTWFwPHN0cmluZywgYW55PixcbiAgICBzdG9yZTogTWFwPHN0cmluZywgYW55PixcbiAgICBwaGFzZTogbnVtYmVyIHwge30sXG4gICAgdXNlU2NvcGU6IFN5bWJvbENsYXNzLFxuICAgIGJpbmRpbmdzOiBhbnksXG4gIH07XG4gIG9wQ3R4OiB7XG4gICAgcHJlYzogbnVtYmVyLFxuICAgIGNvbWJpbmU6ICh4OiBhbnkpID0+IGFueSxcbiAgICBzdGFjazogTGlzdDwqPixcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihzdHhsOiBMaXN0PFRlcm0+LCBwcmV2OiBMaXN0PFRlcm0+LCBjb250ZXh0OiBhbnkpIHtcbiAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICBhc3NlcnQoTGlzdC5pc0xpc3Qoc3R4bCksICdleHBlY3RpbmcgYSBsaXN0IG9mIHRlcm1zIHRvIGVuZm9yZXN0Jyk7XG4gICAgYXNzZXJ0KExpc3QuaXNMaXN0KHByZXYpLCAnZXhwZWN0aW5nIGEgbGlzdCBvZiB0ZXJtcyB0byBlbmZvcmVzdCcpO1xuICAgIGFzc2VydChjb250ZXh0LCAnZXhwZWN0aW5nIGEgY29udGV4dCB0byBlbmZvcmVzdCcpO1xuICAgIHRoaXMudGVybSA9IG51bGw7XG5cbiAgICB0aGlzLnJlc3QgPSBzdHhsO1xuICAgIHRoaXMucHJldiA9IHByZXY7XG5cbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB9XG5cbiAgcGVlayhuOiBudW1iZXIgPSAwKTogP1Rlcm0ge1xuICAgIHJldHVybiB0aGlzLnJlc3QuZ2V0KG4pO1xuICB9XG5cbiAgYWR2YW5jZSgpIHtcbiAgICBsZXQgcmV0OiA/VGVybSA9IHRoaXMucmVzdC5maXJzdCgpO1xuICAgIHRoaXMucmVzdCA9IHRoaXMucmVzdC5yZXN0KCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8qXG4gICBlbmZvcmVzdCB3b3JrcyBvdmVyOlxuICAgcHJldiAtIGEgbGlzdCBvZiB0aGUgcHJldmlvdXNseSBlbmZvcmVzdCBUZXJtc1xuICAgdGVybSAtIHRoZSBjdXJyZW50IHRlcm0gYmVpbmcgZW5mb3Jlc3RlZCAoaW5pdGlhbGx5IG51bGwpXG4gICByZXN0IC0gcmVtYWluaW5nIFRlcm1zIHRvIGVuZm9yZXN0XG4gICAqL1xuICBlbmZvcmVzdCh0eXBlPzogJ2V4cHJlc3Npb24nIHwgJ01vZHVsZScgPSAnTW9kdWxlJykge1xuICAgIC8vIGluaXRpYWxpemUgdGhlIHRlcm1cbiAgICB0aGlzLnRlcm0gPSBudWxsO1xuXG4gICAgaWYgKHRoaXMucmVzdC5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMudGVybTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh0eXBlID09PSAnZXhwcmVzc2lvbicpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSB0aGlzLmVuZm9yZXN0TW9kdWxlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVzdC5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZW5mb3Jlc3RNb2R1bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RCb2R5KCk7XG4gIH1cblxuICBlbmZvcmVzdEJvZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RNb2R1bGVJdGVtKCk7XG4gIH1cblxuICBlbmZvcmVzdE1vZHVsZUl0ZW0oKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuXG4gICAgaWYgKHRoaXMuaXNJbXBvcnRUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdEltcG9ydERlY2xhcmF0aW9uKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwb3J0VHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RFeHBvcnREZWNsYXJhdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFN0YXRlbWVudCgpO1xuICB9XG5cbiAgZW5mb3Jlc3RFeHBvcnREZWNsYXJhdGlvbigpIHtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKHRoaXMuaXNDb21waWxldGltZVRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICB0aGlzLmV4cGFuZE1hY3JvKCk7XG4gICAgICBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkLCAnKicpKSB7XG4gICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgIGxldCBtb2R1bGVTcGVjaWZpZXIgPSB0aGlzLmVuZm9yZXN0RnJvbUNsYXVzZSgpO1xuICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydEFsbEZyb20oeyBtb2R1bGVTcGVjaWZpZXIgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQnJhY2VzKGxvb2thaGVhZCkpIHtcbiAgICAgIGxldCBuYW1lZEV4cG9ydHMgPSB0aGlzLmVuZm9yZXN0RXhwb3J0Q2xhdXNlKCk7XG4gICAgICBsZXQgbW9kdWxlU3BlY2lmaWVyID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLmlzSWRlbnRpZmllcih0aGlzLnBlZWsoKSwgJ2Zyb20nKSkge1xuICAgICAgICBtb2R1bGVTcGVjaWZpZXIgPSB0aGlzLmVuZm9yZXN0RnJvbUNsYXVzZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydEZyb20oeyBuYW1lZEV4cG9ydHMsIG1vZHVsZVNwZWNpZmllciB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNDbGFzc1RyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gbmV3IFQuRXhwb3J0KHtcbiAgICAgICAgZGVjbGFyYXRpb246IHRoaXMuZW5mb3Jlc3RDbGFzcyh7IGlzRXhwcjogZmFsc2UgfSksXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNGbkRlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydCh7XG4gICAgICAgIGRlY2xhcmF0aW9uOiB0aGlzLmVuZm9yZXN0RnVuY3Rpb24oeyBpc0V4cHI6IGZhbHNlIH0pLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzRGVmYXVsdFRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgIGlmICh0aGlzLmlzQ29tcGlsZXRpbWVUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgICB0aGlzLmV4cGFuZE1hY3JvKCk7XG4gICAgICAgIGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc0ZuRGVjbFRyYW5zZm9ybSh0aGlzLnBlZWsoKSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydERlZmF1bHQoe1xuICAgICAgICAgIGJvZHk6IHRoaXMuZW5mb3Jlc3RGdW5jdGlvbih7IGlzRXhwcjogZmFsc2UsIGluRGVmYXVsdDogdHJ1ZSB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNDbGFzc1RyYW5zZm9ybSh0aGlzLnBlZWsoKSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydERlZmF1bHQoe1xuICAgICAgICAgIGJvZHk6IHRoaXMuZW5mb3Jlc3RDbGFzcyh7IGlzRXhwcjogZmFsc2UsIGluRGVmYXVsdDogdHJ1ZSB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYm9keSA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCgpO1xuICAgICAgICB0aGlzLmNvbnN1bWVTZW1pY29sb24oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydERlZmF1bHQoeyBib2R5IH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLmlzVmFyRGVjbFRyYW5zZm9ybShsb29rYWhlYWQpIHx8XG4gICAgICB0aGlzLmlzTGV0RGVjbFRyYW5zZm9ybShsb29rYWhlYWQpIHx8XG4gICAgICB0aGlzLmlzQ29uc3REZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNTeW50YXhyZWNEZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNTeW50YXhEZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNPcGVyYXRvckRlY2xUcmFuc2Zvcm0obG9va2FoZWFkKVxuICAgICkge1xuICAgICAgcmV0dXJuIG5ldyBULkV4cG9ydCh7XG4gICAgICAgIGRlY2xhcmF0aW9uOiB0aGlzLmVuZm9yZXN0VmFyaWFibGVEZWNsYXJhdGlvbigpLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAndW5leHBlY3RlZCBzeW50YXgnKTtcbiAgfVxuXG4gIGVuZm9yZXN0RXhwb3J0Q2xhdXNlKCkge1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcih0aGlzLm1hdGNoQ3VybGllcygpLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlIChlbmYucmVzdC5zaXplICE9PSAwKSB7XG4gICAgICByZXN1bHQucHVzaChlbmYuZW5mb3Jlc3RFeHBvcnRTcGVjaWZpZXIoKSk7XG4gICAgICBlbmYuY29uc3VtZUNvbW1hKCk7XG4gICAgfVxuICAgIHJldHVybiBMaXN0KHJlc3VsdCk7XG4gIH1cblxuICBlbmZvcmVzdEV4cG9ydFNwZWNpZmllcigpIHtcbiAgICBsZXQgbmFtZSA9IHRoaXMuZW5mb3Jlc3RJZGVudGlmaWVyKCk7XG4gICAgaWYgKHRoaXMuaXNJZGVudGlmaWVyKHRoaXMucGVlaygpLCAnYXMnKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICBsZXQgZXhwb3J0ZWROYW1lID0gdGhpcy5lbmZvcmVzdElkZW50aWZpZXIoKTtcbiAgICAgIHJldHVybiBuZXcgVC5FeHBvcnRTcGVjaWZpZXIoeyBuYW1lLCBleHBvcnRlZE5hbWUgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5FeHBvcnRTcGVjaWZpZXIoe1xuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIGV4cG9ydGVkTmFtZTogbmFtZSxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0SW1wb3J0RGVjbGFyYXRpb24oKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGxldCBkZWZhdWx0QmluZGluZyA9IG51bGw7XG4gICAgbGV0IG5hbWVkSW1wb3J0cyA9IExpc3QoKTtcbiAgICBsZXQgZm9yU3ludGF4ID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5pc1N0cmluZ0xpdGVyYWwobG9va2FoZWFkKSkge1xuICAgICAgbGV0IG1vZHVsZVNwZWNpZmllciA9IHRoaXMuYWR2YW5jZSgpO1xuICAgICAgdGhpcy5jb25zdW1lU2VtaWNvbG9uKCk7XG4gICAgICByZXR1cm4gbmV3IFQuSW1wb3J0KHtcbiAgICAgICAgZGVmYXVsdEJpbmRpbmcsXG4gICAgICAgIG5hbWVkSW1wb3J0cyxcbiAgICAgICAgbW9kdWxlU3BlY2lmaWVyLFxuICAgICAgICBmb3JTeW50YXgsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkKSB8fCB0aGlzLmlzS2V5d29yZChsb29rYWhlYWQpKSB7XG4gICAgICBkZWZhdWx0QmluZGluZyA9IHRoaXMuZW5mb3Jlc3RCaW5kaW5nSWRlbnRpZmllcigpO1xuICAgICAgaWYgKCF0aGlzLmlzUHVuY3R1YXRvcih0aGlzLnBlZWsoKSwgJywnKSkge1xuICAgICAgICBsZXQgbW9kdWxlU3BlY2lmaWVyID0gdGhpcy5lbmZvcmVzdEZyb21DbGF1c2UoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuaXNLZXl3b3JkKHRoaXMucGVlaygpLCAnZm9yJykgJiZcbiAgICAgICAgICB0aGlzLmlzSWRlbnRpZmllcih0aGlzLnBlZWsoMSksICdzeW50YXgnKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICBmb3JTeW50YXggPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBULkltcG9ydCh7XG4gICAgICAgICAgZGVmYXVsdEJpbmRpbmcsXG4gICAgICAgICAgbW9kdWxlU3BlY2lmaWVyLFxuICAgICAgICAgIG5hbWVkSW1wb3J0czogTGlzdCgpLFxuICAgICAgICAgIGZvclN5bnRheCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZUNvbW1hKCk7XG4gICAgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKHRoaXMuaXNCcmFjZXMobG9va2FoZWFkKSkge1xuICAgICAgbGV0IGltcG9ydHMgPSB0aGlzLmVuZm9yZXN0TmFtZWRJbXBvcnRzKCk7XG4gICAgICBsZXQgZnJvbUNsYXVzZSA9IHRoaXMuZW5mb3Jlc3RGcm9tQ2xhdXNlKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuaXNLZXl3b3JkKHRoaXMucGVlaygpLCAnZm9yJykgJiZcbiAgICAgICAgdGhpcy5pc0lkZW50aWZpZXIodGhpcy5wZWVrKDEpLCAnc3ludGF4JylcbiAgICAgICkge1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIGZvclN5bnRheCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgVC5JbXBvcnQoe1xuICAgICAgICBkZWZhdWx0QmluZGluZyxcbiAgICAgICAgZm9yU3ludGF4LFxuICAgICAgICBuYW1lZEltcG9ydHM6IGltcG9ydHMsXG4gICAgICAgIG1vZHVsZVNwZWNpZmllcjogZnJvbUNsYXVzZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkLCAnKicpKSB7XG4gICAgICBsZXQgbmFtZXNwYWNlQmluZGluZyA9IHRoaXMuZW5mb3Jlc3ROYW1lc3BhY2VCaW5kaW5nKCk7XG4gICAgICBsZXQgbW9kdWxlU3BlY2lmaWVyID0gdGhpcy5lbmZvcmVzdEZyb21DbGF1c2UoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5pc0tleXdvcmQodGhpcy5wZWVrKCksICdmb3InKSAmJlxuICAgICAgICB0aGlzLmlzSWRlbnRpZmllcih0aGlzLnBlZWsoMSksICdzeW50YXgnKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgZm9yU3ludGF4ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgVC5JbXBvcnROYW1lc3BhY2Uoe1xuICAgICAgICBkZWZhdWx0QmluZGluZyxcbiAgICAgICAgZm9yU3ludGF4LFxuICAgICAgICBuYW1lc3BhY2VCaW5kaW5nLFxuICAgICAgICBtb2R1bGVTcGVjaWZpZXIsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICd1bmV4cGVjdGVkIHN5bnRheCcpO1xuICB9XG5cbiAgZW5mb3Jlc3ROYW1lc3BhY2VCaW5kaW5nKCkge1xuICAgIHRoaXMubWF0Y2hQdW5jdHVhdG9yKCcqJyk7XG4gICAgdGhpcy5tYXRjaElkZW50aWZpZXIoJ2FzJyk7XG4gICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RCaW5kaW5nSWRlbnRpZmllcigpO1xuICB9XG5cbiAgZW5mb3Jlc3ROYW1lZEltcG9ydHMoKSB7XG4gICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKHRoaXMubWF0Y2hDdXJsaWVzKCksIExpc3QoKSwgdGhpcy5jb250ZXh0KTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgd2hpbGUgKGVuZi5yZXN0LnNpemUgIT09IDApIHtcbiAgICAgIHJlc3VsdC5wdXNoKGVuZi5lbmZvcmVzdEltcG9ydFNwZWNpZmllcnMoKSk7XG4gICAgICBlbmYuY29uc3VtZUNvbW1hKCk7XG4gICAgfVxuICAgIHJldHVybiBMaXN0KHJlc3VsdCk7XG4gIH1cblxuICBlbmZvcmVzdEltcG9ydFNwZWNpZmllcnMoKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGxldCBuYW1lO1xuICAgIGlmIChcbiAgICAgIHRoaXMuaXNJZGVudGlmaWVyKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNQdW5jdHVhdG9yKGxvb2thaGVhZClcbiAgICApIHtcbiAgICAgIG5hbWUgPSB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgICBpZiAoIXRoaXMuaXNJZGVudGlmaWVyKHRoaXMucGVlaygpLCAnYXMnKSkge1xuICAgICAgICByZXR1cm4gbmV3IFQuSW1wb3J0U3BlY2lmaWVyKHtcbiAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgIGJpbmRpbmc6IG5ldyBULkJpbmRpbmdJZGVudGlmaWVyKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tYXRjaElkZW50aWZpZXIoJ2FzJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAndW5leHBlY3RlZCB0b2tlbiBpbiBpbXBvcnQgc3BlY2lmaWVyJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5JbXBvcnRTcGVjaWZpZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIGJpbmRpbmc6IHRoaXMuZW5mb3Jlc3RCaW5kaW5nSWRlbnRpZmllcigpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RGcm9tQ2xhdXNlKCkge1xuICAgIHRoaXMubWF0Y2hJZGVudGlmaWVyKCdmcm9tJyk7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMubWF0Y2hTdHJpbmdMaXRlcmFsKCk7XG4gICAgdGhpcy5jb25zdW1lU2VtaWNvbG9uKCk7XG4gICAgcmV0dXJuIGxvb2thaGVhZDtcbiAgfVxuXG4gIGVuZm9yZXN0U3RhdGVtZW50TGlzdEl0ZW0oKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuXG4gICAgaWYgKHRoaXMuaXNGbkRlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RGdW5jdGlvbih7IGlzRXhwcjogZmFsc2UgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQ2xhc3NUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RDbGFzcyh7IGlzRXhwcjogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0U3RhdGVtZW50KCk7XG4gICAgfVxuICB9XG5cbiAgZW5mb3Jlc3RTdGF0ZW1lbnQoKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuXG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzQ29tcGlsZXRpbWVUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgdGhpcy5leHBhbmRNYWNybygpO1xuICAgICAgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy50ZXJtID09PSBudWxsICYmXG4gICAgICB0aGlzLmlzVGVybShsb29rYWhlYWQpICYmXG4gICAgICBsb29rYWhlYWQgaW5zdGFuY2VvZiBULlN0YXRlbWVudFxuICAgICkge1xuICAgICAgLy8gVE9ETzogY2hlY2sgdGhhdCB0aGlzIGlzIGFjdHVhbGx5IGFuIHN0YXRlbWVudFxuICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0JyYWNlcyhsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdEJsb2NrU3RhdGVtZW50KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzV2hpbGVUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RXaGlsZVN0YXRlbWVudCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0lmVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0SWZTdGF0ZW1lbnQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzRm9yVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0Rm9yU3RhdGVtZW50KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1N3aXRjaFRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFN3aXRjaFN0YXRlbWVudCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNCcmVha1RyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdEJyZWFrU3RhdGVtZW50KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0NvbnRpbnVlVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0Q29udGludWVTdGF0ZW1lbnQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzRG9UcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3REb1N0YXRlbWVudCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNEZWJ1Z2dlclRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdERlYnVnZ2VyU3RhdGVtZW50KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1dpdGhUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RXaXRoU3RhdGVtZW50KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1RyeVRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFRyeVN0YXRlbWVudCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNUaHJvd1RyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFRocm93U3RhdGVtZW50KCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcHV0IHNvbWV3aGVyZSBlbHNlXG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzS2V5d29yZChsb29rYWhlYWQsICdjbGFzcycpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdENsYXNzKHsgaXNFeHByOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNGbkRlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RGdW5jdGlvbih7IGlzRXhwcjogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy50ZXJtID09PSBudWxsICYmXG4gICAgICB0aGlzLmlzSWRlbnRpZmllcihsb29rYWhlYWQpICYmXG4gICAgICB0aGlzLmlzUHVuY3R1YXRvcih0aGlzLnBlZWsoMSksICc6JylcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0TGFiZWxlZFN0YXRlbWVudCgpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMudGVybSA9PT0gbnVsbCAmJlxuICAgICAgKHRoaXMuaXNWYXJEZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkgfHxcbiAgICAgICAgdGhpcy5pc0xldERlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzQ29uc3REZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkgfHxcbiAgICAgICAgdGhpcy5pc1N5bnRheHJlY0RlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzU3ludGF4RGVjbFRyYW5zZm9ybShsb29rYWhlYWQpIHx8XG4gICAgICAgIHRoaXMuaXNPcGVyYXRvckRlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSlcbiAgICApIHtcbiAgICAgIGxldCBzdG10ID0gbmV3IFQuVmFyaWFibGVEZWNsYXJhdGlvblN0YXRlbWVudCh7XG4gICAgICAgIGRlY2xhcmF0aW9uOiB0aGlzLmVuZm9yZXN0VmFyaWFibGVEZWNsYXJhdGlvbigpLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbnN1bWVTZW1pY29sb24oKTtcbiAgICAgIHJldHVybiBzdG10O1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1JldHVyblN0bXRUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RSZXR1cm5TdGF0ZW1lbnQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNQdW5jdHVhdG9yKGxvb2thaGVhZCwgJzsnKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICByZXR1cm4gbmV3IFQuRW1wdHlTdGF0ZW1lbnQoe30pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVuZm9yZXN0RXhwcmVzc2lvblN0YXRlbWVudCgpO1xuICB9XG5cbiAgZW5mb3Jlc3RMYWJlbGVkU3RhdGVtZW50KCkge1xuICAgIGxldCBsYWJlbCA9IHRoaXMubWF0Y2hJZGVudGlmaWVyKCk7XG4gICAgdGhpcy5tYXRjaFB1bmN0dWF0b3IoJzonKTtcbiAgICBsZXQgc3RtdCA9IHRoaXMuZW5mb3Jlc3RTdGF0ZW1lbnQoKTtcblxuICAgIHJldHVybiBuZXcgVC5MYWJlbGVkU3RhdGVtZW50KHtcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIGJvZHk6IHN0bXQsXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdEJyZWFrU3RhdGVtZW50KCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCdicmVhaycpO1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBsZXQgbGFiZWwgPSBudWxsO1xuICAgIGlmICh0aGlzLnJlc3Quc2l6ZSA9PT0gMCB8fCB0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICc7JykpIHtcbiAgICAgIHRoaXMuY29uc3VtZVNlbWljb2xvbigpO1xuICAgICAgcmV0dXJuIG5ldyBULkJyZWFrU3RhdGVtZW50KHsgbGFiZWwgfSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMuaXNJZGVudGlmaWVyKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ3lpZWxkJykgfHxcbiAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ2xldCcpXG4gICAgKSB7XG4gICAgICBsYWJlbCA9IHRoaXMuZW5mb3Jlc3RJZGVudGlmaWVyKCk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZVNlbWljb2xvbigpO1xuXG4gICAgcmV0dXJuIG5ldyBULkJyZWFrU3RhdGVtZW50KHsgbGFiZWwgfSk7XG4gIH1cblxuICBlbmZvcmVzdFRyeVN0YXRlbWVudCgpIHtcbiAgICB0aGlzLm1hdGNoS2V5d29yZCgndHJ5Jyk7XG4gICAgbGV0IGJvZHkgPSB0aGlzLmVuZm9yZXN0QmxvY2soKTtcbiAgICBpZiAodGhpcy5pc0tleXdvcmQodGhpcy5wZWVrKCksICdjYXRjaCcpKSB7XG4gICAgICBsZXQgY2F0Y2hDbGF1c2UgPSB0aGlzLmVuZm9yZXN0Q2F0Y2hDbGF1c2UoKTtcbiAgICAgIGlmICh0aGlzLmlzS2V5d29yZCh0aGlzLnBlZWsoKSwgJ2ZpbmFsbHknKSkge1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgbGV0IGZpbmFsaXplciA9IHRoaXMuZW5mb3Jlc3RCbG9jaygpO1xuICAgICAgICByZXR1cm4gbmV3IFQuVHJ5RmluYWxseVN0YXRlbWVudCh7XG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICBjYXRjaENsYXVzZSxcbiAgICAgICAgICBmaW5hbGl6ZXIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBULlRyeUNhdGNoU3RhdGVtZW50KHsgYm9keSwgY2F0Y2hDbGF1c2UgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzS2V5d29yZCh0aGlzLnBlZWsoKSwgJ2ZpbmFsbHknKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICBsZXQgZmluYWxpemVyID0gdGhpcy5lbmZvcmVzdEJsb2NrKCk7XG4gICAgICByZXR1cm4gbmV3IFQuVHJ5RmluYWxseVN0YXRlbWVudCh7IGJvZHksIGNhdGNoQ2xhdXNlOiBudWxsLCBmaW5hbGl6ZXIgfSk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IodGhpcy5wZWVrKCksICd0cnkgd2l0aCBubyBjYXRjaCBvciBmaW5hbGx5Jyk7XG4gIH1cblxuICBlbmZvcmVzdENhdGNoQ2xhdXNlKCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCdjYXRjaCcpO1xuICAgIGxldCBiaW5kaW5nUGFyZW5zID0gdGhpcy5tYXRjaFBhcmVucygpO1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3RlcihiaW5kaW5nUGFyZW5zLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgbGV0IGJpbmRpbmcgPSBlbmYuZW5mb3Jlc3RCaW5kaW5nVGFyZ2V0KCk7XG4gICAgbGV0IGJvZHkgPSB0aGlzLmVuZm9yZXN0QmxvY2soKTtcbiAgICByZXR1cm4gbmV3IFQuQ2F0Y2hDbGF1c2UoeyBiaW5kaW5nLCBib2R5IH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RUaHJvd1N0YXRlbWVudCgpIHtcbiAgICB0aGlzLm1hdGNoS2V5d29yZCgndGhyb3cnKTtcbiAgICBsZXQgZXhwcmVzc2lvbiA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uKCk7XG4gICAgdGhpcy5jb25zdW1lU2VtaWNvbG9uKCk7XG4gICAgcmV0dXJuIG5ldyBULlRocm93U3RhdGVtZW50KHsgZXhwcmVzc2lvbiB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0V2l0aFN0YXRlbWVudCgpIHtcbiAgICB0aGlzLm1hdGNoS2V5d29yZCgnd2l0aCcpO1xuICAgIGxldCBvYmpQYXJlbnMgPSB0aGlzLm1hdGNoUGFyZW5zKCk7XG4gICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKG9ialBhcmVucywgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCBvYmplY3QgPSBlbmYuZW5mb3Jlc3RFeHByZXNzaW9uKCk7XG4gICAgbGV0IGJvZHkgPSB0aGlzLmVuZm9yZXN0U3RhdGVtZW50KCk7XG4gICAgcmV0dXJuIG5ldyBULldpdGhTdGF0ZW1lbnQoeyBvYmplY3QsIGJvZHkgfSk7XG4gIH1cblxuICBlbmZvcmVzdERlYnVnZ2VyU3RhdGVtZW50KCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCdkZWJ1Z2dlcicpO1xuXG4gICAgcmV0dXJuIG5ldyBULkRlYnVnZ2VyU3RhdGVtZW50KHt9KTtcbiAgfVxuXG4gIGVuZm9yZXN0RG9TdGF0ZW1lbnQoKSB7XG4gICAgdGhpcy5tYXRjaEtleXdvcmQoJ2RvJyk7XG4gICAgbGV0IGJvZHkgPSB0aGlzLmVuZm9yZXN0U3RhdGVtZW50KCk7XG4gICAgdGhpcy5tYXRjaEtleXdvcmQoJ3doaWxlJyk7XG4gICAgbGV0IHRlc3RCb2R5ID0gdGhpcy5tYXRjaFBhcmVucygpO1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcih0ZXN0Qm9keSwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCB0ZXN0ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgIHRoaXMuY29uc3VtZVNlbWljb2xvbigpO1xuICAgIHJldHVybiBuZXcgVC5Eb1doaWxlU3RhdGVtZW50KHsgYm9keSwgdGVzdCB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0Q29udGludWVTdGF0ZW1lbnQoKSB7XG4gICAgbGV0IGt3ZCA9IHRoaXMubWF0Y2hLZXl3b3JkKCdjb250aW51ZScpO1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBsZXQgbGFiZWwgPSBudWxsO1xuICAgIGlmICh0aGlzLnJlc3Quc2l6ZSA9PT0gMCB8fCB0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICc7JykpIHtcbiAgICAgIHRoaXMuY29uc3VtZVNlbWljb2xvbigpO1xuICAgICAgcmV0dXJuIG5ldyBULkNvbnRpbnVlU3RhdGVtZW50KHsgbGFiZWwgfSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGxvb2thaGVhZCBpbnN0YW5jZW9mIFQuUmF3U3ludGF4ICYmXG4gICAgICB0aGlzLmxpbmVOdW1iZXJFcShrd2QsIGxvb2thaGVhZCkgJiZcbiAgICAgICh0aGlzLmlzSWRlbnRpZmllcihsb29rYWhlYWQpIHx8XG4gICAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ3lpZWxkJykgfHxcbiAgICAgICAgdGhpcy5pc0tleXdvcmQobG9va2FoZWFkLCAnbGV0JykpXG4gICAgKSB7XG4gICAgICBsYWJlbCA9IHRoaXMuZW5mb3Jlc3RJZGVudGlmaWVyKCk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZVNlbWljb2xvbigpO1xuXG4gICAgcmV0dXJuIG5ldyBULkNvbnRpbnVlU3RhdGVtZW50KHsgbGFiZWwgfSk7XG4gIH1cblxuICBlbmZvcmVzdFN3aXRjaFN0YXRlbWVudCgpIHtcbiAgICB0aGlzLm1hdGNoS2V5d29yZCgnc3dpdGNoJyk7XG4gICAgbGV0IGNvbmQgPSB0aGlzLm1hdGNoUGFyZW5zKCk7XG4gICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKGNvbmQsIExpc3QoKSwgdGhpcy5jb250ZXh0KTtcbiAgICBsZXQgZGlzY3JpbWluYW50ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgIGxldCBib2R5ID0gdGhpcy5tYXRjaEN1cmxpZXMoKTtcblxuICAgIGlmIChib2R5LnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBuZXcgVC5Td2l0Y2hTdGF0ZW1lbnQoe1xuICAgICAgICBkaXNjcmltaW5hbnQ6IGRpc2NyaW1pbmFudCxcbiAgICAgICAgY2FzZXM6IExpc3QoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbmYgPSBuZXcgRW5mb3Jlc3Rlcihib2R5LCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgbGV0IGNhc2VzID0gZW5mLmVuZm9yZXN0U3dpdGNoQ2FzZXMoKTtcbiAgICBsZXQgbG9va2FoZWFkID0gZW5mLnBlZWsoKTtcbiAgICBpZiAoZW5mLmlzS2V5d29yZChsb29rYWhlYWQsICdkZWZhdWx0JykpIHtcbiAgICAgIGxldCBkZWZhdWx0Q2FzZSA9IGVuZi5lbmZvcmVzdFN3aXRjaERlZmF1bHQoKTtcbiAgICAgIGxldCBwb3N0RGVmYXVsdENhc2VzID0gZW5mLmVuZm9yZXN0U3dpdGNoQ2FzZXMoKTtcbiAgICAgIHJldHVybiBuZXcgVC5Td2l0Y2hTdGF0ZW1lbnRXaXRoRGVmYXVsdCh7XG4gICAgICAgIGRpc2NyaW1pbmFudCxcbiAgICAgICAgcHJlRGVmYXVsdENhc2VzOiBjYXNlcyxcbiAgICAgICAgZGVmYXVsdENhc2UsXG4gICAgICAgIHBvc3REZWZhdWx0Q2FzZXMsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBULlN3aXRjaFN0YXRlbWVudCh7IGRpc2NyaW1pbmFudCwgY2FzZXMgfSk7XG4gIH1cblxuICBlbmZvcmVzdFN3aXRjaENhc2VzKCkge1xuICAgIGxldCBjYXNlcyA9IFtdO1xuICAgIHdoaWxlICghKHRoaXMucmVzdC5zaXplID09PSAwIHx8IHRoaXMuaXNLZXl3b3JkKHRoaXMucGVlaygpLCAnZGVmYXVsdCcpKSkge1xuICAgICAgY2FzZXMucHVzaCh0aGlzLmVuZm9yZXN0U3dpdGNoQ2FzZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIExpc3QoY2FzZXMpO1xuICB9XG5cbiAgZW5mb3Jlc3RTd2l0Y2hDYXNlKCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCdjYXNlJyk7XG4gICAgcmV0dXJuIG5ldyBULlN3aXRjaENhc2Uoe1xuICAgICAgdGVzdDogdGhpcy5lbmZvcmVzdEV4cHJlc3Npb24oKSxcbiAgICAgIGNvbnNlcXVlbnQ6IHRoaXMuZW5mb3Jlc3RTd2l0Y2hDYXNlQm9keSgpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RTd2l0Y2hDYXNlQm9keSgpIHtcbiAgICB0aGlzLm1hdGNoUHVuY3R1YXRvcignOicpO1xuICAgIHJldHVybiB0aGlzLmVuZm9yZXN0U3RhdGVtZW50TGlzdEluU3dpdGNoQ2FzZUJvZHkoKTtcbiAgfVxuXG4gIGVuZm9yZXN0U3RhdGVtZW50TGlzdEluU3dpdGNoQ2FzZUJvZHkoKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlIChcbiAgICAgICEoXG4gICAgICAgIHRoaXMucmVzdC5zaXplID09PSAwIHx8XG4gICAgICAgIHRoaXMuaXNLZXl3b3JkKHRoaXMucGVlaygpLCAnZGVmYXVsdCcpIHx8XG4gICAgICAgIHRoaXMuaXNLZXl3b3JkKHRoaXMucGVlaygpLCAnY2FzZScpXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXN1bHQucHVzaCh0aGlzLmVuZm9yZXN0U3RhdGVtZW50TGlzdEl0ZW0oKSk7XG4gICAgfVxuICAgIHJldHVybiBMaXN0KHJlc3VsdCk7XG4gIH1cblxuICBlbmZvcmVzdFN3aXRjaERlZmF1bHQoKSB7XG4gICAgdGhpcy5tYXRjaEtleXdvcmQoJ2RlZmF1bHQnKTtcbiAgICByZXR1cm4gbmV3IFQuU3dpdGNoRGVmYXVsdCh7XG4gICAgICBjb25zZXF1ZW50OiB0aGlzLmVuZm9yZXN0U3dpdGNoQ2FzZUJvZHkoKSxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0Rm9yU3RhdGVtZW50KCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCdmb3InKTtcbiAgICBsZXQgY29uZCA9IHRoaXMubWF0Y2hQYXJlbnMoKTtcbiAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIoY29uZCwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCBsb29rYWhlYWQsIHRlc3QsIGluaXQsIHJpZ2h0LCBsZWZ0LCB1cGRhdGUsIGNuc3Q7XG5cbiAgICAvLyBjYXNlIHdoZXJlIGluaXQgaXMgbnVsbFxuICAgIGlmIChlbmYuaXNQdW5jdHVhdG9yKGVuZi5wZWVrKCksICc7JykpIHtcbiAgICAgIGVuZi5hZHZhbmNlKCk7XG4gICAgICBpZiAoIWVuZi5pc1B1bmN0dWF0b3IoZW5mLnBlZWsoKSwgJzsnKSkge1xuICAgICAgICB0ZXN0ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgfVxuICAgICAgZW5mLm1hdGNoUHVuY3R1YXRvcignOycpO1xuICAgICAgaWYgKGVuZi5yZXN0LnNpemUgIT09IDApIHtcbiAgICAgICAgcmlnaHQgPSBlbmYuZW5mb3Jlc3RFeHByZXNzaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFQuRm9yU3RhdGVtZW50KHtcbiAgICAgICAgaW5pdDogbnVsbCxcbiAgICAgICAgdGVzdDogdGVzdCxcbiAgICAgICAgdXBkYXRlOiByaWdodCxcbiAgICAgICAgYm9keTogdGhpcy5lbmZvcmVzdFN0YXRlbWVudCgpLFxuICAgICAgfSk7XG4gICAgICAvLyBjYXNlIHdoZXJlIGluaXQgaXMgbm90IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGVzdGluZ1xuICAgICAgbG9va2FoZWFkID0gZW5mLnBlZWsoKTtcbiAgICAgIGlmIChcbiAgICAgICAgZW5mLmlzVmFyRGVjbFRyYW5zZm9ybShsb29rYWhlYWQpIHx8XG4gICAgICAgIGVuZi5pc0xldERlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSB8fFxuICAgICAgICBlbmYuaXNDb25zdERlY2xUcmFuc2Zvcm0obG9va2FoZWFkKVxuICAgICAgKSB7XG4gICAgICAgIGluaXQgPSBlbmYuZW5mb3Jlc3RWYXJpYWJsZURlY2xhcmF0aW9uKCk7XG4gICAgICAgIGxvb2thaGVhZCA9IGVuZi5wZWVrKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmlzS2V5d29yZChsb29rYWhlYWQsICdpbicpIHx8XG4gICAgICAgICAgdGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkLCAnb2YnKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodGhpcy5pc0tleXdvcmQobG9va2FoZWFkLCAnaW4nKSkge1xuICAgICAgICAgICAgZW5mLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJpZ2h0ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgY25zdCA9IFQuRm9ySW5TdGF0ZW1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChcbiAgICAgICAgICAgICAgdGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkLCAnb2YnKSxcbiAgICAgICAgICAgICAgJ2V4cGVjdGluZyBgb2ZgIGtleXdvcmQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVuZi5hZHZhbmNlKCk7XG4gICAgICAgICAgICByaWdodCA9IGVuZi5lbmZvcmVzdEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIGNuc3QgPSBULkZvck9mU3RhdGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IGNuc3Qoe1xuICAgICAgICAgICAgbGVmdDogaW5pdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm9keTogdGhpcy5lbmZvcmVzdFN0YXRlbWVudCgpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVuZi5tYXRjaFB1bmN0dWF0b3IoJzsnKTtcbiAgICAgICAgaWYgKGVuZi5pc1B1bmN0dWF0b3IoZW5mLnBlZWsoKSwgJzsnKSkge1xuICAgICAgICAgIGVuZi5hZHZhbmNlKCk7XG4gICAgICAgICAgdGVzdCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVzdCA9IGVuZi5lbmZvcmVzdEV4cHJlc3Npb24oKTtcbiAgICAgICAgICBlbmYubWF0Y2hQdW5jdHVhdG9yKCc7Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuaXNLZXl3b3JkKGVuZi5wZWVrKDEpLCAnaW4nKSB8fFxuICAgICAgICAgIHRoaXMuaXNJZGVudGlmaWVyKGVuZi5wZWVrKDEpLCAnb2YnKVxuICAgICAgICApIHtcbiAgICAgICAgICBsZWZ0ID0gZW5mLmVuZm9yZXN0QmluZGluZ0lkZW50aWZpZXIoKTtcbiAgICAgICAgICBsZXQga2luZCA9IGVuZi5hZHZhbmNlKCk7XG4gICAgICAgICAgaWYgKHRoaXMuaXNLZXl3b3JkKGtpbmQsICdpbicpKSB7XG4gICAgICAgICAgICBjbnN0ID0gVC5Gb3JJblN0YXRlbWVudDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY25zdCA9IFQuRm9yT2ZTdGF0ZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJpZ2h0ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgICAgIHJldHVybiBuZXcgY25zdCh7XG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICBib2R5OiB0aGlzLmVuZm9yZXN0U3RhdGVtZW50KCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdCA9IGVuZi5lbmZvcmVzdEV4cHJlc3Npb24oKTtcbiAgICAgICAgZW5mLm1hdGNoUHVuY3R1YXRvcignOycpO1xuICAgICAgICBpZiAoZW5mLmlzUHVuY3R1YXRvcihlbmYucGVlaygpLCAnOycpKSB7XG4gICAgICAgICAgZW5mLmFkdmFuY2UoKTtcbiAgICAgICAgICB0ZXN0ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXN0ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgICAgIGVuZi5tYXRjaFB1bmN0dWF0b3IoJzsnKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUgPSBlbmYuZW5mb3Jlc3RFeHByZXNzaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFQuRm9yU3RhdGVtZW50KHtcbiAgICAgICAgaW5pdCxcbiAgICAgICAgdGVzdCxcbiAgICAgICAgdXBkYXRlLFxuICAgICAgICBib2R5OiB0aGlzLmVuZm9yZXN0U3RhdGVtZW50KCksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBlbmZvcmVzdElmU3RhdGVtZW50KCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCdpZicpO1xuICAgIGxldCBjb25kID0gdGhpcy5tYXRjaFBhcmVucygpO1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcihjb25kLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgbGV0IGxvb2thaGVhZCA9IGVuZi5wZWVrKCk7XG4gICAgbGV0IHRlc3QgPSBlbmYuZW5mb3Jlc3RFeHByZXNzaW9uKCk7XG4gICAgaWYgKHRlc3QgPT09IG51bGwpIHtcbiAgICAgIHRocm93IGVuZi5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdleHBlY3RpbmcgYW4gZXhwcmVzc2lvbicpO1xuICAgIH1cbiAgICBsZXQgY29uc2VxdWVudCA9IHRoaXMuZW5mb3Jlc3RTdGF0ZW1lbnQoKTtcbiAgICBsZXQgYWx0ZXJuYXRlID0gbnVsbDtcbiAgICBpZiAodGhpcy5pc0tleXdvcmQodGhpcy5wZWVrKCksICdlbHNlJykpIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgYWx0ZXJuYXRlID0gdGhpcy5lbmZvcmVzdFN0YXRlbWVudCgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFQuSWZTdGF0ZW1lbnQoeyB0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUgfSk7XG4gIH1cblxuICBlbmZvcmVzdFdoaWxlU3RhdGVtZW50KCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCd3aGlsZScpO1xuICAgIGxldCBjb25kID0gdGhpcy5tYXRjaFBhcmVucygpO1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcihjb25kLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgbGV0IGxvb2thaGVhZCA9IGVuZi5wZWVrKCk7XG4gICAgbGV0IHRlc3QgPSBlbmYuZW5mb3Jlc3RFeHByZXNzaW9uKCk7XG4gICAgaWYgKHRlc3QgPT09IG51bGwpIHtcbiAgICAgIHRocm93IGVuZi5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdleHBlY3RpbmcgYW4gZXhwcmVzc2lvbicpO1xuICAgIH1cbiAgICBsZXQgYm9keSA9IHRoaXMuZW5mb3Jlc3RTdGF0ZW1lbnQoKTtcblxuICAgIHJldHVybiBuZXcgVC5XaGlsZVN0YXRlbWVudCh7IHRlc3QsIGJvZHkgfSk7XG4gIH1cblxuICBlbmZvcmVzdEJsb2NrU3RhdGVtZW50KCkge1xuICAgIHJldHVybiBuZXcgVC5CbG9ja1N0YXRlbWVudCh7XG4gICAgICBibG9jazogdGhpcy5lbmZvcmVzdEJsb2NrKCksXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdEJsb2NrKCkge1xuICAgIHJldHVybiBuZXcgVC5CbG9jayh7XG4gICAgICBzdGF0ZW1lbnRzOiB0aGlzLm1hdGNoQ3VybGllcygpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RDbGFzcyh7XG4gICAgaXNFeHByID0gZmFsc2UsXG4gICAgaW5EZWZhdWx0ID0gZmFsc2UsXG4gIH06IHtcbiAgICBpc0V4cHI/OiBib29sZWFuLFxuICAgIGluRGVmYXVsdD86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICBsZXQga3cgPSB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgbGV0IG5hbWUgPSBudWxsLFxuICAgICAgc3VwciA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5pc0lkZW50aWZpZXIodGhpcy5wZWVrKCkpKSB7XG4gICAgICBuYW1lID0gdGhpcy5lbmZvcmVzdEJpbmRpbmdJZGVudGlmaWVyKCk7XG4gICAgfSBlbHNlIGlmICghaXNFeHByKSB7XG4gICAgICBpZiAoaW5EZWZhdWx0KSB7XG4gICAgICAgIG5hbWUgPSBuZXcgVC5CaW5kaW5nSWRlbnRpZmllcih7XG4gICAgICAgICAgbmFtZTogU3ludGF4LmZyb21JZGVudGlmaWVyKCdfZGVmYXVsdCcsIGt3KSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKHRoaXMucGVlaygpLCAndW5leHBlY3RlZCBzeW50YXgnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0tleXdvcmQodGhpcy5wZWVrKCksICdleHRlbmRzJykpIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgc3VwciA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCgpO1xuICAgIH1cblxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcih0aGlzLm1hdGNoQ3VybGllcygpLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgd2hpbGUgKGVuZi5yZXN0LnNpemUgIT09IDApIHtcbiAgICAgIGlmIChlbmYuaXNQdW5jdHVhdG9yKGVuZi5wZWVrKCksICc7JykpIHtcbiAgICAgICAgZW5mLmFkdmFuY2UoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBpc1N0YXRpYyA9IGZhbHNlO1xuICAgICAgbGV0IHsgbWV0aG9kT3JLZXksIGtpbmQgfSA9IGVuZi5lbmZvcmVzdE1ldGhvZERlZmluaXRpb24oKTtcbiAgICAgIGlmIChcbiAgICAgICAga2luZCA9PT0gJ2lkZW50aWZpZXInICYmXG4gICAgICAgIG1ldGhvZE9yS2V5IGluc3RhbmNlb2YgVC5TdGF0aWNQcm9wZXJ0eU5hbWUgJiZcbiAgICAgICAgbWV0aG9kT3JLZXkudmFsdWUudmFsKCkgPT09ICdzdGF0aWMnXG4gICAgICApIHtcbiAgICAgICAgaXNTdGF0aWMgPSB0cnVlO1xuICAgICAgICAoeyBtZXRob2RPcktleSwga2luZCB9ID0gZW5mLmVuZm9yZXN0TWV0aG9kRGVmaW5pdGlvbigpKTtcbiAgICAgIH1cbiAgICAgIGlmIChraW5kID09PSAnbWV0aG9kJykge1xuICAgICAgICBlbGVtZW50cy5wdXNoKG5ldyBULkNsYXNzRWxlbWVudCh7IGlzU3RhdGljLCBtZXRob2Q6IG1ldGhvZE9yS2V5IH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IoXG4gICAgICAgICAgZW5mLnBlZWsoKSxcbiAgICAgICAgICAnT25seSBtZXRob2RzIGFyZSBhbGxvd2VkIGluIGNsYXNzZXMnLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IChpc0V4cHIgPyBULkNsYXNzRXhwcmVzc2lvbiA6IFQuQ2xhc3NEZWNsYXJhdGlvbikoe1xuICAgICAgbmFtZSxcbiAgICAgIHN1cGVyOiBzdXByLFxuICAgICAgZWxlbWVudHM6IExpc3QoZWxlbWVudHMpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RCaW5kaW5nVGFyZ2V0KFxuICAgIHsgYWxsb3dQdW5jdHVhdG9yID0gZmFsc2UgfTogeyBhbGxvd1B1bmN0dWF0b3I/OiBib29sZWFuIH0gPSB7fSxcbiAgKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGlmIChcbiAgICAgIHRoaXMuaXNJZGVudGlmaWVyKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCkgfHxcbiAgICAgIChhbGxvd1B1bmN0dWF0b3IgJiYgdGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkKSlcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0QmluZGluZ0lkZW50aWZpZXIoeyBhbGxvd1B1bmN0dWF0b3IgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQnJhY2tldHMobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RBcnJheUJpbmRpbmcoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNCcmFjZXMobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RPYmplY3RCaW5kaW5nKCk7XG4gICAgfVxuICAgIGFzc2VydChmYWxzZSwgJ25vdCBpbXBsZW1lbnRlZCB5ZXQnKTtcbiAgfVxuXG4gIGVuZm9yZXN0T2JqZWN0QmluZGluZygpIHtcbiAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIodGhpcy5tYXRjaEN1cmxpZXMoKSwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCBwcm9wZXJ0aWVzID0gW107XG5cbiAgICAvL1RPRE86IGltcGxlbWVudCBvYmplY3QgcmVzdCBvcGVyYXRvciB3aGVuIGl0IGxhbmRzXG4gICAgd2hpbGUgKGVuZi5yZXN0LnNpemUgIT09IDApIHtcbiAgICAgIHByb3BlcnRpZXMucHVzaChlbmYuZW5mb3Jlc3RCaW5kaW5nUHJvcGVydHkoKSk7XG5cbiAgICAgIGlmIChlbmYucmVzdC5zaXplID4gMCAmJiAhZW5mLmlzUHVuY3R1YXRvcihlbmYucGVlaygpLCAnLCcpKSB7XG4gICAgICAgIHRocm93IGVuZi5jcmVhdGVFcnJvcihlbmYucGVlaygpLCAndW5leHBlY3RlZCB0b2tlbicpO1xuICAgICAgfVxuXG4gICAgICBlbmYuY29uc3VtZUNvbW1hKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBULk9iamVjdEJpbmRpbmcoe1xuICAgICAgcHJvcGVydGllczogTGlzdChwcm9wZXJ0aWVzKSxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0QmluZGluZ1Byb3BlcnR5KCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBsZXQgeyBuYW1lLCBiaW5kaW5nIH0gPSB0aGlzLmVuZm9yZXN0UHJvcGVydHlOYW1lKCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkKSB8fFxuICAgICAgdGhpcy5pc0tleXdvcmQobG9va2FoZWFkLCAnbGV0JykgfHxcbiAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ3lpZWxkJylcbiAgICApIHtcbiAgICAgIGlmICghdGhpcy5pc1B1bmN0dWF0b3IodGhpcy5wZWVrKCksICc6JykpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBc3NpZ24odGhpcy5wZWVrKCkpKSB7XG4gICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgbGV0IGV4cHIgPSB0aGlzLmVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFQuQmluZGluZ1Byb3BlcnR5UHJvcGVydHkoe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGJpbmRpbmc6IG5ldyBULkJpbmRpbmdXaXRoRGVmYXVsdCh7XG4gICAgICAgICAgICAgIGJpbmRpbmcsXG4gICAgICAgICAgICAgIGluaXQ6IGV4cHIsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFQuQmluZGluZ1Byb3BlcnR5UHJvcGVydHkoe1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYmluZGluZyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWF0Y2hQdW5jdHVhdG9yKCc6Jyk7XG4gICAgYmluZGluZyA9IHRoaXMuZW5mb3Jlc3RCaW5kaW5nRWxlbWVudCgpO1xuICAgIHJldHVybiBuZXcgVC5CaW5kaW5nUHJvcGVydHlQcm9wZXJ0eSh7XG4gICAgICBuYW1lLFxuICAgICAgYmluZGluZyxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0QXJyYXlCaW5kaW5nKCkge1xuICAgIGxldCBicmFja2V0ID0gdGhpcy5tYXRjaFNxdWFyZXMoKTtcbiAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIoYnJhY2tldCwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCBlbGVtZW50cyA9IFtdLFxuICAgICAgcmVzdEVsZW1lbnQgPSBudWxsO1xuICAgIHdoaWxlIChlbmYucmVzdC5zaXplICE9PSAwKSB7XG4gICAgICBsZXQgZWwgPSBudWxsO1xuICAgICAgaWYgKCFlbmYuaXNQdW5jdHVhdG9yKGVuZi5wZWVrKCksICcsJykpIHtcbiAgICAgICAgaWYgKGVuZi5pc1B1bmN0dWF0b3IoZW5mLnBlZWsoKSwgJy4uLicpKSB7XG4gICAgICAgICAgZW5mLmFkdmFuY2UoKTtcbiAgICAgICAgICByZXN0RWxlbWVudCA9IGVuZi5lbmZvcmVzdEJpbmRpbmdUYXJnZXQoKTtcbiAgICAgICAgICBpZiAoZW5mLnJlc3Quc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRocm93IGVuZi5jcmVhdGVFcnJvcihcbiAgICAgICAgICAgICAgZW5mLnJlc3QuZmlyc3QoKSxcbiAgICAgICAgICAgICAgJ1Jlc3QgZWxlbWVudCBtdXN0IGJlIGxhc3QgZWxlbWVudCBpbiBhcnJheScsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbCA9IGVuZi5lbmZvcmVzdEJpbmRpbmdFbGVtZW50KCk7XG5cbiAgICAgICAgICBpZiAoZWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgZW5mLmNyZWF0ZUVycm9yKGVuZi5wZWVrKCksICdleHBlY3RlZCBleHByZXNzaW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlbmYucmVzdC5zaXplID4gMCAmJiAhZW5mLmlzUHVuY3R1YXRvcihlbmYucGVlaygpLCAnLCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBlbmYuY3JlYXRlRXJyb3IoZW5mLnBlZWsoKSwgJ3VuZXhwZWN0ZWQgdG9rZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXN0RWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgICBlbmYuY29uc3VtZUNvbW1hKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5BcnJheUJpbmRpbmcoe1xuICAgICAgZWxlbWVudHM6IExpc3QoZWxlbWVudHMpLFxuICAgICAgcmVzdEVsZW1lbnQsXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdEJpbmRpbmdFbGVtZW50KCkge1xuICAgIGxldCBiaW5kaW5nID0gdGhpcy5lbmZvcmVzdEJpbmRpbmdUYXJnZXQoKTtcblxuICAgIGlmICh0aGlzLmlzQXNzaWduKHRoaXMucGVlaygpKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICBsZXQgaW5pdCA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCgpO1xuICAgICAgYmluZGluZyA9IG5ldyBULkJpbmRpbmdXaXRoRGVmYXVsdCh7IGJpbmRpbmcsIGluaXQgfSk7XG4gICAgfVxuICAgIHJldHVybiBiaW5kaW5nO1xuICB9XG5cbiAgZW5mb3Jlc3RCaW5kaW5nSWRlbnRpZmllcihcbiAgICB7IGFsbG93UHVuY3R1YXRvciB9OiB7IGFsbG93UHVuY3R1YXRvcj86IGJvb2xlYW4gfSA9IHt9LFxuICApIHtcbiAgICBsZXQgbmFtZTtcbiAgICBpZiAoYWxsb3dQdW5jdHVhdG9yICYmIHRoaXMuaXNQdW5jdHVhdG9yKHRoaXMucGVlaygpKSkge1xuICAgICAgbmFtZSA9IHRoaXMuZW5mb3Jlc3RQdW5jdHVhdG9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSB0aGlzLmVuZm9yZXN0SWRlbnRpZmllcigpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFQuQmluZGluZ0lkZW50aWZpZXIoeyBuYW1lIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RQdW5jdHVhdG9yKCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBpZiAodGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcbiAgICB9XG4gICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdleHBlY3RpbmcgYSBwdW5jdHVhdG9yJyk7XG4gIH1cblxuICBlbmZvcmVzdElkZW50aWZpZXIoKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGlmICh0aGlzLmlzSWRlbnRpZmllcihsb29rYWhlYWQpIHx8IHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIGFuIGlkZW50aWZpZXInKTtcbiAgfVxuXG4gIGVuZm9yZXN0UmV0dXJuU3RhdGVtZW50KCkge1xuICAgIGxldCBrdyA9IHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG5cbiAgICAvLyBzaG9ydCBjaXJjdWl0IGZvciB0aGUgZW1wdHkgZXhwcmVzc2lvbiBjYXNlXG4gICAgaWYgKFxuICAgICAgdGhpcy5yZXN0LnNpemUgPT09IDAgfHxcbiAgICAgIChsb29rYWhlYWQgJiYgIXRoaXMubGluZU51bWJlckVxKGt3LCBsb29rYWhlYWQpKVxuICAgICkge1xuICAgICAgcmV0dXJuIG5ldyBULlJldHVyblN0YXRlbWVudCh7XG4gICAgICAgIGV4cHJlc3Npb246IG51bGwsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgdGVybSA9IG51bGw7XG4gICAgaWYgKCF0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICc7JykpIHtcbiAgICAgIHRlcm0gPSB0aGlzLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICB0ZXJtICE9IG51bGwsXG4gICAgICAgICdFeHBlY3RpbmcgYW4gZXhwcmVzc2lvbiB0byBmb2xsb3cgcmV0dXJuIGtleXdvcmQnLFxuICAgICAgICBsb29rYWhlYWQsXG4gICAgICAgIHRoaXMucmVzdCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5jb25zdW1lU2VtaWNvbG9uKCk7XG4gICAgcmV0dXJuIG5ldyBULlJldHVyblN0YXRlbWVudCh7XG4gICAgICBleHByZXNzaW9uOiB0ZXJtLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RWYXJpYWJsZURlY2xhcmF0aW9uKCkge1xuICAgIGxldCBraW5kO1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLmFkdmFuY2UoKTtcblxuICAgIGlmICh0aGlzLmlzVmFyRGVjbFRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICBraW5kID0gJ3Zhcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzTGV0RGVjbFRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICBraW5kID0gJ2xldCc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQ29uc3REZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIGtpbmQgPSAnY29uc3QnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1N5bnRheERlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAga2luZCA9ICdzeW50YXgnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1N5bnRheHJlY0RlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAga2luZCA9ICdzeW50YXhyZWMnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc09wZXJhdG9yRGVjbFRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICBraW5kID0gJ29wZXJhdG9yJztcbiAgICB9XG5cbiAgICBsZXQgZGVjbHMgPSBMaXN0KCk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IHRlcm0gPSB0aGlzLmVuZm9yZXN0VmFyaWFibGVEZWNsYXJhdG9yKHtcbiAgICAgICAgaXNTeW50YXg6XG4gICAgICAgICAga2luZCA9PT0gJ3N5bnRheCcgfHwga2luZCA9PT0gJ3N5bnRheHJlYycgfHwga2luZCA9PT0gJ29wZXJhdG9yJyxcbiAgICAgICAgaXNPcGVyYXRvcjoga2luZCA9PT0gJ29wZXJhdG9yJyxcbiAgICAgIH0pO1xuICAgICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgICAgLy8gVE9ETzogYnVnIGluIGltbXV0YWJsZSB0eXBlIGRlZmluaXRpb25zIGZvciBjb25jYXQsXG4gICAgICAvLyB1cGdyYWRlIHRvIHY0IHdoZW4gaXQgaXMgcmVsZWFzZWRcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9pbW11dGFibGUtanMvcHVsbC8xMTUzXG4gICAgICBkZWNscyA9IGRlY2xzLmNvbmNhdCgodGVybTogYW55KSk7XG5cbiAgICAgIGlmICh0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICcsJykpIHtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFQuVmFyaWFibGVEZWNsYXJhdGlvbih7XG4gICAgICBraW5kOiBraW5kLFxuICAgICAgZGVjbGFyYXRvcnM6IGRlY2xzLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RWYXJpYWJsZURlY2xhcmF0b3Ioe1xuICAgIGlzU3ludGF4LFxuICAgIGlzT3BlcmF0b3IsXG4gIH06IHtcbiAgICBpc1N5bnRheDogYm9vbGVhbixcbiAgICBpc09wZXJhdG9yOiBib29sZWFuLFxuICB9KSB7XG4gICAgbGV0IGlkID0gdGhpcy5lbmZvcmVzdEJpbmRpbmdUYXJnZXQoeyBhbGxvd1B1bmN0dWF0b3I6IGlzU3ludGF4IH0pO1xuICAgIGNvbnN0IEFzc29jVmFsdWVzID0gWydsZWZ0JywgJ3JpZ2h0JywgJ3ByZWZpeCcsICdwb3N0Zml4J107XG5cbiAgICBsZXQgYXNzb2MsIHByZWM7XG4gICAgaWYgKGlzT3BlcmF0b3IpIHtcbiAgICAgIGFzc29jID0gdGhpcy5tYXRjaElkZW50aWZpZXIoKTtcbiAgICAgIGlmIChBc3NvY1ZhbHVlcy5pbmRleE9mKGFzc29jLnZhbCgpKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihcbiAgICAgICAgICB0aGlzLnBlZWsoKSxcbiAgICAgICAgICBgQXNzb2NpYXRpdml0eSBtdXN0IGJlIG9uZSBvZiAke0Fzc29jVmFsdWVzLmpvaW4oJywnKX1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcHJlYyA9IHRoaXMubWF0Y2hMaXRlcmFsKCk7XG4gICAgfVxuXG4gICAgbGV0IGluaXQ7XG4gICAgaWYgKHRoaXMuaXNQdW5jdHVhdG9yKHRoaXMucGVlaygpLCAnPScpKSB7XG4gICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcih0aGlzLnJlc3QsIExpc3QoKSwgdGhpcy5jb250ZXh0KTtcbiAgICAgIGluaXQgPSBlbmYuZW5mb3Jlc3QoJ2V4cHJlc3Npb24nKTtcbiAgICAgIHRoaXMucmVzdCA9IGVuZi5yZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaXNPcGVyYXRvcikge1xuICAgICAgcmV0dXJuIG5ldyBULk9wZXJhdG9yRGVjbGFyYXRvcih7XG4gICAgICAgIGJpbmRpbmc6IGlkLFxuICAgICAgICBpbml0LFxuICAgICAgICBwcmVjLFxuICAgICAgICBhc3NvYyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFQuVmFyaWFibGVEZWNsYXJhdG9yKHtcbiAgICAgIGJpbmRpbmc6IGlkLFxuICAgICAgaW5pdDogaW5pdCxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0RXhwcmVzc2lvblN0YXRlbWVudCgpIHtcbiAgICBsZXQgc3RhcnQgPSB0aGlzLnJlc3QuZ2V0KDApO1xuICAgIGxldCBleHByID0gdGhpcy5lbmZvcmVzdEV4cHJlc3Npb24oKTtcbiAgICBpZiAoZXhwciA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihzdGFydCwgJ25vdCBhIHZhbGlkIGV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lU2VtaWNvbG9uKCk7XG5cbiAgICByZXR1cm4gbmV3IFQuRXhwcmVzc2lvblN0YXRlbWVudCh7XG4gICAgICBleHByZXNzaW9uOiBleHByLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RFeHByZXNzaW9uKCkge1xuICAgIGxldCBsZWZ0ID0gdGhpcy5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCk7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGlmICh0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICcsJykpIHtcbiAgICAgIHdoaWxlICh0aGlzLnJlc3Quc2l6ZSAhPT0gMCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNQdW5jdHVhdG9yKHRoaXMucGVlaygpLCAnLCcpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wZXJhdG9yID0gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLmVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKTtcbiAgICAgICAgbGVmdCA9IG5ldyBULkJpbmFyeUV4cHJlc3Npb24oe1xuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgb3BlcmF0b3I6IG9wZXJhdG9yLnZhbCgpLFxuICAgICAgICAgIHJpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50ZXJtID0gbnVsbDtcbiAgICByZXR1cm4gbGVmdDtcbiAgfVxuXG4gIGVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKSB7XG4gICAgdGhpcy50ZXJtID0gbnVsbDtcbiAgICB0aGlzLm9wQ3R4ID0ge1xuICAgICAgcHJlYzogMCxcbiAgICAgIGNvbWJpbmU6IHggPT4geCxcbiAgICAgIHN0YWNrOiBMaXN0KCksXG4gICAgfTtcblxuICAgIGRvIHtcbiAgICAgIGxldCB0ZXJtID0gdGhpcy5lbmZvcmVzdEFzc2lnbm1lbnRFeHByZXNzaW9uKCk7XG4gICAgICAvLyBubyBjaGFuZ2UgbWVhbnMgd2UndmUgZG9uZSBhcyBtdWNoIGVuZm9yZXN0aW5nIGFzIHBvc3NpYmxlXG4gICAgICAvLyBpZiBub3RoaW5nIGNoYW5nZWQsIG1heWJlIHdlIGp1c3QgbmVlZCB0byBwb3AgdGhlIGV4cHIgc3RhY2tcbiAgICAgIGlmICh0ZXJtID09PSBFWFBSX0xPT1BfTk9fQ0hBTkdFICYmIHRoaXMub3BDdHguc3RhY2suc2l6ZSA+IDApIHtcbiAgICAgICAgdGhpcy50ZXJtID0gdGhpcy5vcEN0eC5jb21iaW5lKHRoaXMudGVybSk7XG4gICAgICAgIGxldCB7IHByZWMsIGNvbWJpbmUgfSA9IHRoaXMub3BDdHguc3RhY2subGFzdCgpO1xuICAgICAgICB0aGlzLm9wQ3R4LnByZWMgPSBwcmVjO1xuICAgICAgICB0aGlzLm9wQ3R4LmNvbWJpbmUgPSBjb21iaW5lO1xuICAgICAgICB0aGlzLm9wQ3R4LnN0YWNrID0gdGhpcy5vcEN0eC5zdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSBpZiAodGVybSA9PT0gRVhQUl9MT09QX05PX0NIQU5HRSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAodGVybSA9PT0gRVhQUl9MT09QX09QRVJBVE9SIHx8IHRlcm0gPT09IEVYUFJfTE9PUF9FWFBBTlNJT04pIHtcbiAgICAgICAgLy8gb3BlcmF0b3IgbWVhbnMgYW4gb3BDdHggd2FzIHB1c2hlZCBvbiB0aGUgc3RhY2tcbiAgICAgICAgdGhpcy50ZXJtID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGVybSA9ICh0ZXJtOiBhbnkpOyAvLyBUT0RPOiBkb24ndCBvdmVybG9hZCB0aGUgdGVybSdzIHR5cGUgd2l0aCBFWFBSX0xPT1BfT1BFUkFUT1IgZXRjLlxuICAgICAgfVxuICAgIH0gd2hpbGUgKHRydWUpOyAvLyBnZXQgYSBmaXhwb2ludFxuICAgIHJldHVybiB0aGlzLnRlcm07XG4gIH1cblxuICBlbmZvcmVzdEFzc2lnbm1lbnRFeHByZXNzaW9uKCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc01vZHVsZU5hbWVzcGFjZVRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lOiB3ZSBuZWVkIHRvIHJlZmFjdG9yIHRoZSBlbmZvcmVzdGVyIHRvIG1ha2UgZmxvdyB3b3JrIGJldHRlclxuICAgICAgbGV0IG5hbWVzcGFjZSA9IHRoaXMuZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQodGhpcy5hZHZhbmNlKCkudmFsdWUpO1xuICAgICAgdGhpcy5tYXRjaFB1bmN0dWF0b3IoJy4nKTtcbiAgICAgIGxldCBuYW1lID0gdGhpcy5tYXRjaElkZW50aWZpZXIoKTtcbiAgICAgIC8vICRGbG93Rml4TWU6IHdlIG5lZWQgdG8gcmVmYWN0b3IgdGhlIGVuZm9yZXN0ZXIgdG8gbWFrZSBmbG93IHdvcmsgYmV0dGVyXG4gICAgICBsZXQgZXhwb3J0ZWROYW1lID0gbmFtZXNwYWNlLm1vZC5leHBvcnRlZE5hbWVzLmZpbmQoXG4gICAgICAgIGV4TmFtZSA9PiBleE5hbWUuZXhwb3J0ZWROYW1lLnZhbCgpID09PSBuYW1lLnZhbCgpLFxuICAgICAgKTtcbiAgICAgIHRoaXMucmVzdCA9IHRoaXMucmVzdC51bnNoaWZ0KFxuICAgICAgICBuZXcgVC5SYXdTeW50YXgoe1xuICAgICAgICAgIHZhbHVlOiBTeW50YXguZnJvbUlkZW50aWZpZXIobmFtZS52YWwoKSwgZXhwb3J0ZWROYW1lLmV4cG9ydGVkTmFtZSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICAgIGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0NvbXBpbGV0aW1lVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHRoaXMuZXhwYW5kTWFjcm8oKTtcbiAgICAgIGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMudGVybSA9PT0gbnVsbCAmJlxuICAgICAgdGhpcy5pc1Rlcm0obG9va2FoZWFkKSAmJlxuICAgICAgbG9va2FoZWFkIGluc3RhbmNlb2YgVC5FeHByZXNzaW9uXG4gICAgKSB7XG4gICAgICAvLyBUT0RPOiBjaGVjayB0aGF0IHRoaXMgaXMgYWN0dWFsbHkgYW4gZXhwcmVzc2lvblxuICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1lpZWxkVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0WWllbGRFeHByZXNzaW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzQ2xhc3NUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RDbGFzcyh7IGlzRXhwcjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnRlcm0gPT09IG51bGwgJiZcbiAgICAgIGxvb2thaGVhZCAmJlxuICAgICAgKHRoaXMuaXNJZGVudGlmaWVyKGxvb2thaGVhZCkgfHwgdGhpcy5pc1BhcmVucyhsb29rYWhlYWQpKSAmJlxuICAgICAgdGhpcy5pc1B1bmN0dWF0b3IodGhpcy5wZWVrKDEpLCAnPT4nKSAmJlxuICAgICAgdGhpcy5saW5lTnVtYmVyRXEobG9va2FoZWFkLCB0aGlzLnBlZWsoMSkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdEFycm93RXhwcmVzc2lvbigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1N5bnRheFRlbXBsYXRlKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0U3ludGF4VGVtcGxhdGUoKTtcbiAgICB9XG5cbiAgICAvLyAoJHg6ZXhwcilcbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNQYXJlbnMobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIG5ldyBULlBhcmVudGhlc2l6ZWRFeHByZXNzaW9uKHtcbiAgICAgICAgaW5uZXI6IHRoaXMubWF0Y2hQYXJlbnMoKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMudGVybSA9PT0gbnVsbCAmJlxuICAgICAgKHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ3RoaXMnKSB8fFxuICAgICAgICB0aGlzLmlzSWRlbnRpZmllcihsb29rYWhlYWQpIHx8XG4gICAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ2xldCcpIHx8XG4gICAgICAgIHRoaXMuaXNLZXl3b3JkKGxvb2thaGVhZCwgJ3lpZWxkJykgfHxcbiAgICAgICAgdGhpcy5pc051bWVyaWNMaXRlcmFsKGxvb2thaGVhZCkgfHxcbiAgICAgICAgdGhpcy5pc1N0cmluZ0xpdGVyYWwobG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzVGVtcGxhdGUobG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzQm9vbGVhbkxpdGVyYWwobG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzTnVsbExpdGVyYWwobG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzUmVndWxhckV4cHJlc3Npb24obG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzRm5EZWNsVHJhbnNmb3JtKGxvb2thaGVhZCkgfHxcbiAgICAgICAgdGhpcy5pc0JyYWNlcyhsb29rYWhlYWQpIHx8XG4gICAgICAgIHRoaXMuaXNCcmFja2V0cyhsb29rYWhlYWQpKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RQcmltYXJ5RXhwcmVzc2lvbigpO1xuICAgIH1cblxuICAgIC8vIHByZWZpeCB1bmFyeVxuICAgIGlmIChcbiAgICAgIHRoaXMudGVybSA9PT0gbnVsbCAmJlxuICAgICAgKHRoaXMuaXNPcGVyYXRvcihsb29rYWhlYWQpIHx8IHRoaXMuaXNDdXN0b21QcmVmaXhPcGVyYXRvcihsb29rYWhlYWQpKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RVbmFyeUV4cHJlc3Npb24oKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnRlcm0gPT09IG51bGwgJiZcbiAgICAgIHRoaXMuaXNWYXJCaW5kaW5nVHJhbnNmb3JtKGxvb2thaGVhZCkgJiZcbiAgICAgIGxvb2thaGVhZCBpbnN0YW5jZW9mIFQuUmF3U3ludGF4XG4gICAgKSB7XG4gICAgICBsZXQgbG9va3N0eCA9IGxvb2thaGVhZC52YWx1ZTtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGxldCBpZCA9IHRoaXMuZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQobG9va3N0eCkuaWQ7XG4gICAgICBpZiAoaWQgIT09IGxvb2tzdHgpIHtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIHRoaXMucmVzdCA9IExpc3Qub2YoaWQpLmNvbmNhdCh0aGlzLnJlc3QpO1xuICAgICAgICByZXR1cm4gRVhQUl9MT09QX0VYUEFOU0lPTjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy50ZXJtID09PSBudWxsICYmXG4gICAgICAgICh0aGlzLmlzTmV3VHJhbnNmb3JtKGxvb2thaGVhZCkgfHwgdGhpcy5pc1N1cGVyVHJhbnNmb3JtKGxvb2thaGVhZCkpKSB8fFxuICAgICAgLy8gYW5kIHRoZW4gY2hlY2sgdGhlIGNhc2VzIHdoZXJlIHRoZSB0ZXJtIHBhcnQgb2YgcCBpcyBzb21ldGhpbmcuLi5cbiAgICAgICh0aGlzLnRlcm0gJiZcbiAgICAgICAgLy8gJHg6ZXhwciAuICRwcm9wOmlkZW50XG4gICAgICAgICgodGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkLCAnLicpICYmXG4gICAgICAgICAgKHRoaXMuaXNJZGVudGlmaWVyKHRoaXMucGVlaygxKSkgfHwgdGhpcy5pc0tleXdvcmQodGhpcy5wZWVrKDEpKSkpIHx8XG4gICAgICAgICAgLy8gJHg6ZXhwciBbICRiOmV4cHIgXVxuICAgICAgICAgIHRoaXMuaXNCcmFja2V0cyhsb29rYWhlYWQpIHx8XG4gICAgICAgICAgLy8gJHg6ZXhwciAoLi4uKVxuICAgICAgICAgIHRoaXMuaXNQYXJlbnMobG9va2FoZWFkKSkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdExlZnRIYW5kU2lkZUV4cHJlc3Npb24oeyBhbGxvd0NhbGw6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gJGw6ZXhwciAkb3A6YmluYXJ5T3BlcmF0b3IgJHI6ZXhwclxuICAgIGlmICh0aGlzLnRlcm0gJiYgdGhpcy5pc0N1c3RvbUJpbmFyeU9wZXJhdG9yKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0QmluYXJ5RXhwcmVzc2lvbigpO1xuICAgIH1cblxuICAgIC8vIHBvc3RmaXggdW5hcnlcbiAgICBpZiAoXG4gICAgICB0aGlzLnRlcm0gJiZcbiAgICAgICh0aGlzLmlzVXBkYXRlT3BlcmF0b3IobG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzQ3VzdG9tUG9zdGZpeE9wZXJhdG9yKGxvb2thaGVhZCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFVwZGF0ZUV4cHJlc3Npb24oKTtcbiAgICB9XG5cbiAgICAvLyAkbDpleHByICRvcDpiaW5hcnlPcGVyYXRvciAkcjpleHByXG4gICAgaWYgKFxuICAgICAgdGhpcy50ZXJtICYmXG4gICAgICAodGhpcy5pc09wZXJhdG9yKGxvb2thaGVhZCkgfHwgdGhpcy5pc0N1c3RvbUJpbmFyeU9wZXJhdG9yKGxvb2thaGVhZCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdEJpbmFyeUV4cHJlc3Npb24oKTtcbiAgICB9XG5cbiAgICAvLyAkeDppZCBgLi4uYFxuICAgIGlmICh0aGlzLnRlcm0gJiYgdGhpcy5pc1RlbXBsYXRlKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0VGVtcGxhdGVMaXRlcmFsKCk7XG4gICAgfVxuXG4gICAgLy8gJHg6ZXhwciA9ICRpbml0OmV4cHJcbiAgICBpZiAodGhpcy50ZXJtICYmIHRoaXMuaXNBc3NpZ24obG9va2FoZWFkKSkge1xuICAgICAgbGV0IGJpbmRpbmcgPSB0aGlzLnRyYW5zZm9ybURlc3RydWN0dXJpbmcodGhpcy50ZXJtKTtcbiAgICAgIGxldCBvcCA9IHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcblxuICAgICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKHRoaXMucmVzdCwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgICAgbGV0IGluaXQgPSBlbmYuZW5mb3Jlc3QoJ2V4cHJlc3Npb24nKTtcbiAgICAgIHRoaXMucmVzdCA9IGVuZi5yZXN0O1xuXG4gICAgICBpZiAob3AudmFsKCkgPT09ICc9Jykge1xuICAgICAgICByZXR1cm4gbmV3IFQuQXNzaWdubWVudEV4cHJlc3Npb24oe1xuICAgICAgICAgIGJpbmRpbmcsXG4gICAgICAgICAgZXhwcmVzc2lvbjogaW5pdCxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFQuQ29tcG91bmRBc3NpZ25tZW50RXhwcmVzc2lvbih7XG4gICAgICAgICAgYmluZGluZyxcbiAgICAgICAgICBvcGVyYXRvcjogb3AudmFsKCksXG4gICAgICAgICAgZXhwcmVzc2lvbjogaW5pdCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVybSAmJiB0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICc/JykpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0Q29uZGl0aW9uYWxFeHByZXNzaW9uKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEVYUFJfTE9PUF9OT19DSEFOR0U7XG4gIH1cblxuICBlbmZvcmVzdFByaW1hcnlFeHByZXNzaW9uKCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICAvLyAkeDpUaGlzRXhwcmVzc2lvblxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0tleXdvcmQobG9va2FoZWFkLCAndGhpcycpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFRoaXNFeHByZXNzaW9uKCk7XG4gICAgfVxuICAgIC8vICR4OmlkZW50XG4gICAgaWYgKFxuICAgICAgdGhpcy50ZXJtID09PSBudWxsICYmXG4gICAgICAodGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkKSB8fFxuICAgICAgICB0aGlzLmlzS2V5d29yZChsb29rYWhlYWQsICdsZXQnKSB8fFxuICAgICAgICB0aGlzLmlzS2V5d29yZChsb29rYWhlYWQsICd5aWVsZCcpKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RJZGVudGlmaWVyRXhwcmVzc2lvbigpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNOdW1lcmljTGl0ZXJhbChsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdE51bWVyaWNMaXRlcmFsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1N0cmluZ0xpdGVyYWwobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RTdHJpbmdMaXRlcmFsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc1RlbXBsYXRlKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0VGVtcGxhdGVMaXRlcmFsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0Jvb2xlYW5MaXRlcmFsKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZm9yZXN0Qm9vbGVhbkxpdGVyYWwoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGVybSA9PT0gbnVsbCAmJiB0aGlzLmlzTnVsbExpdGVyYWwobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3ROdWxsTGl0ZXJhbCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNSZWd1bGFyRXhwcmVzc2lvbihsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdFJlZ3VsYXJFeHByZXNzaW9uTGl0ZXJhbCgpO1xuICAgIH1cbiAgICAvLyAkeDpGdW5jdGlvbkV4cHJlc3Npb25cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNGbkRlY2xUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5mb3Jlc3RGdW5jdGlvbih7IGlzRXhwcjogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLy8geyAkcDpwcm9wICgsKSAuLi4gfVxuICAgIGlmICh0aGlzLnRlcm0gPT09IG51bGwgJiYgdGhpcy5pc0JyYWNlcyhsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdE9iamVjdEV4cHJlc3Npb24oKTtcbiAgICB9XG4gICAgLy8gWyR4OmV4cHIgKCwpIC4uLl1cbiAgICBpZiAodGhpcy50ZXJtID09PSBudWxsICYmIHRoaXMuaXNCcmFja2V0cyhsb29rYWhlYWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmZvcmVzdEFycmF5RXhwcmVzc2lvbigpO1xuICAgIH1cbiAgICBhc3NlcnQoZmFsc2UsICdOb3QgYSBwcmltYXJ5IGV4cHJlc3Npb24nKTtcbiAgfVxuXG4gIGVuZm9yZXN0TGVmdEhhbmRTaWRlRXhwcmVzc2lvbih7IGFsbG93Q2FsbCB9OiB7IGFsbG93Q2FsbDogYm9vbGVhbiB9KSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuXG4gICAgaWYgKHRoaXMuaXNDb21waWxldGltZVRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICB0aGlzLmV4cGFuZE1hY3JvKCk7XG4gICAgICBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1N1cGVyVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgdGhpcy50ZXJtID0gbmV3IFQuU3VwZXIoe30pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc05ld1RyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICB0aGlzLnRlcm0gPSB0aGlzLmVuZm9yZXN0TmV3RXhwcmVzc2lvbigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1RoaXNUcmFuc2Zvcm0obG9va2FoZWFkKSkge1xuICAgICAgdGhpcy50ZXJtID0gdGhpcy5lbmZvcmVzdFRoaXNFeHByZXNzaW9uKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQnJhY2VzKGxvb2thaGVhZCkpIHtcbiAgICAgIHRoaXMudGVybSA9IHRoaXMuZW5mb3Jlc3RQcmltYXJ5RXhwcmVzc2lvbigpO1xuICAgICAgcmV0dXJuIHRoaXMudGVybTtcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgICBpZiAodGhpcy5pc1BhcmVucyhsb29rYWhlYWQpKSB7XG4gICAgICAgIGlmICghYWxsb3dDYWxsKSB7XG4gICAgICAgICAgLy8gd2UncmUgZGVhbGluZyB3aXRoIGEgbmV3IGV4cHJlc3Npb25cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnRlcm0gJiZcbiAgICAgICAgICAgIChpc0lkZW50aWZpZXJFeHByZXNzaW9uKHRoaXMudGVybSkgfHxcbiAgICAgICAgICAgICAgaXNTdGF0aWNNZW1iZXJFeHByZXNzaW9uKHRoaXMudGVybSkgfHxcbiAgICAgICAgICAgICAgaXNDb21wdXRlZE1lbWJlckV4cHJlc3Npb24odGhpcy50ZXJtKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlcm07XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMudGVybSA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGVybSA9IHRoaXMuZW5mb3Jlc3RDYWxsRXhwcmVzc2lvbigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNCcmFja2V0cyhsb29rYWhlYWQpKSB7XG4gICAgICAgIHRoaXMudGVybSA9IHRoaXMudGVybVxuICAgICAgICAgID8gdGhpcy5lbmZvcmVzdENvbXB1dGVkTWVtYmVyRXhwcmVzc2lvbigpXG4gICAgICAgICAgOiB0aGlzLmVuZm9yZXN0UHJpbWFyeUV4cHJlc3Npb24oKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHRoaXMuaXNQdW5jdHVhdG9yKGxvb2thaGVhZCwgJy4nKSAmJlxuICAgICAgICAodGhpcy5pc0lkZW50aWZpZXIodGhpcy5wZWVrKDEpKSB8fCB0aGlzLmlzS2V5d29yZCh0aGlzLnBlZWsoMSkpKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMudGVybSA9IHRoaXMuZW5mb3Jlc3RTdGF0aWNNZW1iZXJFeHByZXNzaW9uKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUZW1wbGF0ZShsb29rYWhlYWQpKSB7XG4gICAgICAgIHRoaXMudGVybSA9IHRoaXMuZW5mb3Jlc3RUZW1wbGF0ZUxpdGVyYWwoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkKSkge1xuICAgICAgICBpZiAodGhpcy50ZXJtKSBicmVhaztcbiAgICAgICAgdGhpcy50ZXJtID0gbmV3IFQuSWRlbnRpZmllckV4cHJlc3Npb24oe1xuICAgICAgICAgIG5hbWU6IHRoaXMuZW5mb3Jlc3RJZGVudGlmaWVyKCksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRlcm07XG4gIH1cblxuICBlbmZvcmVzdEJvb2xlYW5MaXRlcmFsKCkge1xuICAgIHJldHVybiBuZXcgVC5MaXRlcmFsQm9vbGVhbkV4cHJlc3Npb24oe1xuICAgICAgdmFsdWU6IHRoaXMubWF0Y2hSYXdTeW50YXgoKS52YWwoKSA9PT0gJ3RydWUnLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RUZW1wbGF0ZUxpdGVyYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBULlRlbXBsYXRlRXhwcmVzc2lvbih7XG4gICAgICB0YWc6IHRoaXMudGVybSxcbiAgICAgIGVsZW1lbnRzOiB0aGlzLmVuZm9yZXN0VGVtcGxhdGVFbGVtZW50cygpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RTdHJpbmdMaXRlcmFsKCkge1xuICAgIHJldHVybiBuZXcgVC5MaXRlcmFsU3RyaW5nRXhwcmVzc2lvbih7XG4gICAgICB2YWx1ZTogdGhpcy5tYXRjaFJhd1N5bnRheCgpLnZhbCgpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3ROdW1lcmljTGl0ZXJhbCgpIHtcbiAgICBsZXQgbnVtID0gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuICAgIGlmIChudW0udmFsKCkgPT09IDEgLyAwKSB7XG4gICAgICByZXR1cm4gbmV3IFQuTGl0ZXJhbEluZmluaXR5RXhwcmVzc2lvbih7fSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5MaXRlcmFsTnVtZXJpY0V4cHJlc3Npb24oe1xuICAgICAgdmFsdWU6IG51bS52YWwoKSxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0SWRlbnRpZmllckV4cHJlc3Npb24oKSB7XG4gICAgcmV0dXJuIG5ldyBULklkZW50aWZpZXJFeHByZXNzaW9uKHtcbiAgICAgIG5hbWU6IHRoaXMubWF0Y2hSYXdTeW50YXgoKSxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0UmVndWxhckV4cHJlc3Npb25MaXRlcmFsKCkge1xuICAgIGxldCByZVN0eCA9IHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcblxuICAgIGxldCBsYXN0U2xhc2ggPSByZVN0eC50b2tlbi52YWx1ZS5sYXN0SW5kZXhPZignLycpO1xuICAgIGxldCBwYXR0ZXJuID0gcmVTdHgudG9rZW4udmFsdWUuc2xpY2UoMSwgbGFzdFNsYXNoKTtcbiAgICBsZXQgZmxhZ3MgPSByZVN0eC50b2tlbi52YWx1ZS5zbGljZShsYXN0U2xhc2ggKyAxKTtcbiAgICByZXR1cm4gbmV3IFQuTGl0ZXJhbFJlZ0V4cEV4cHJlc3Npb24oe1xuICAgICAgcGF0dGVybixcbiAgICAgIGZsYWdzLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3ROdWxsTGl0ZXJhbCgpIHtcbiAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICByZXR1cm4gbmV3IFQuTGl0ZXJhbE51bGxFeHByZXNzaW9uKHt9KTtcbiAgfVxuXG4gIGVuZm9yZXN0VGhpc0V4cHJlc3Npb24oKSB7XG4gICAgcmV0dXJuIG5ldyBULlRoaXNFeHByZXNzaW9uKHtcbiAgICAgIHN0eDogdGhpcy5tYXRjaFJhd1N5bnRheCgpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RBcmd1bWVudExpc3QoKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlICh0aGlzLnJlc3Quc2l6ZSA+IDApIHtcbiAgICAgIGxldCBhcmc7XG4gICAgICBpZiAodGhpcy5pc1B1bmN0dWF0b3IodGhpcy5wZWVrKCksICcuLi4nKSkge1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgYXJnID0gbmV3IFQuU3ByZWFkRWxlbWVudCh7XG4gICAgICAgICAgZXhwcmVzc2lvbjogdGhpcy5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJnID0gdGhpcy5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZXN0LnNpemUgPiAwKSB7XG4gICAgICAgIHRoaXMubWF0Y2hQdW5jdHVhdG9yKCcsJyk7XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChhcmcpO1xuICAgIH1cbiAgICByZXR1cm4gTGlzdChyZXN1bHQpO1xuICB9XG5cbiAgZW5mb3Jlc3ROZXdFeHByZXNzaW9uKCkge1xuICAgIHRoaXMubWF0Y2hLZXl3b3JkKCduZXcnKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmlzUHVuY3R1YXRvcih0aGlzLnBlZWsoKSwgJy4nKSAmJlxuICAgICAgdGhpcy5pc0lkZW50aWZpZXIodGhpcy5wZWVrKDEpLCAndGFyZ2V0JylcbiAgICApIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICByZXR1cm4gbmV3IFQuTmV3VGFyZ2V0RXhwcmVzc2lvbih7fSk7XG4gICAgfVxuXG4gICAgbGV0IGNhbGxlZSA9IHRoaXMuZW5mb3Jlc3RMZWZ0SGFuZFNpZGVFeHByZXNzaW9uKHsgYWxsb3dDYWxsOiBmYWxzZSB9KTtcbiAgICBsZXQgYXJncztcbiAgICBpZiAodGhpcy5pc1BhcmVucyh0aGlzLnBlZWsoKSkpIHtcbiAgICAgIGFyZ3MgPSB0aGlzLm1hdGNoUGFyZW5zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MgPSBMaXN0KCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5OZXdFeHByZXNzaW9uKHtcbiAgICAgIGNhbGxlZSxcbiAgICAgIGFyZ3VtZW50czogYXJncyxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0Q29tcHV0ZWRNZW1iZXJFeHByZXNzaW9uKCkge1xuICAgIGxldCBlbmYgPSBuZXcgRW5mb3Jlc3Rlcih0aGlzLm1hdGNoU3F1YXJlcygpLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgcmV0dXJuIG5ldyBULkNvbXB1dGVkTWVtYmVyRXhwcmVzc2lvbih7XG4gICAgICBvYmplY3Q6IHRoaXMudGVybSxcbiAgICAgIGV4cHJlc3Npb246IGVuZi5lbmZvcmVzdEV4cHJlc3Npb24oKSxcbiAgICB9KTtcbiAgfVxuXG4gIHRyYW5zZm9ybURlc3RydWN0dXJpbmcodGVybTogYW55KSB7XG4gICAgc3dpdGNoICh0ZXJtLnR5cGUpIHtcbiAgICAgIGNhc2UgJ0lkZW50aWZpZXJFeHByZXNzaW9uJzpcbiAgICAgICAgcmV0dXJuIG5ldyBULkJpbmRpbmdJZGVudGlmaWVyKHsgbmFtZTogdGVybS5uYW1lIH0pO1xuXG4gICAgICBjYXNlICdQYXJlbnRoZXNpemVkRXhwcmVzc2lvbic6XG4gICAgICAgIGlmICh0ZXJtLmlubmVyLnNpemUgPT09IDEgJiYgdGhpcy5pc0lkZW50aWZpZXIodGVybS5pbm5lci5nZXQoMCkpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBULkJpbmRpbmdJZGVudGlmaWVyKHsgbmFtZTogdGVybS5pbm5lci5nZXQoMCkudmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlcm07XG4gICAgICBjYXNlICdEYXRhUHJvcGVydHknOlxuICAgICAgICByZXR1cm4gbmV3IFQuQmluZGluZ1Byb3BlcnR5UHJvcGVydHkoe1xuICAgICAgICAgIG5hbWU6IHRlcm0ubmFtZSxcbiAgICAgICAgICBiaW5kaW5nOiB0aGlzLnRyYW5zZm9ybURlc3RydWN0dXJpbmdXaXRoRGVmYXVsdCh0ZXJtLmV4cHJlc3Npb24pLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgJ1Nob3J0aGFuZFByb3BlcnR5JzpcbiAgICAgICAgcmV0dXJuIG5ldyBULkJpbmRpbmdQcm9wZXJ0eUlkZW50aWZpZXIoe1xuICAgICAgICAgIGJpbmRpbmc6IG5ldyBULkJpbmRpbmdJZGVudGlmaWVyKHsgbmFtZTogdGVybS5uYW1lIH0pLFxuICAgICAgICAgIGluaXQ6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAnT2JqZWN0RXhwcmVzc2lvbic6XG4gICAgICAgIHJldHVybiBuZXcgVC5PYmplY3RCaW5kaW5nKHtcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB0ZXJtLnByb3BlcnRpZXMubWFwKHQgPT4gdGhpcy50cmFuc2Zvcm1EZXN0cnVjdHVyaW5nKHQpKSxcbiAgICAgICAgfSk7XG4gICAgICBjYXNlICdBcnJheUV4cHJlc3Npb24nOiB7XG4gICAgICAgIGxldCBsYXN0ID0gdGVybS5lbGVtZW50cy5sYXN0KCk7XG4gICAgICAgIGlmIChsYXN0ICE9IG51bGwgJiYgbGFzdC50eXBlID09PSAnU3ByZWFkRWxlbWVudCcpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFQuQXJyYXlCaW5kaW5nKHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiB0ZXJtLmVsZW1lbnRzXG4gICAgICAgICAgICAgIC5zbGljZSgwLCAtMSlcbiAgICAgICAgICAgICAgLm1hcCh0ID0+IHQgJiYgdGhpcy50cmFuc2Zvcm1EZXN0cnVjdHVyaW5nV2l0aERlZmF1bHQodCkpLFxuICAgICAgICAgICAgcmVzdEVsZW1lbnQ6IHRoaXMudHJhbnNmb3JtRGVzdHJ1Y3R1cmluZ1dpdGhEZWZhdWx0KFxuICAgICAgICAgICAgICBsYXN0LmV4cHJlc3Npb24sXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBuZXcgVC5BcnJheUJpbmRpbmcoe1xuICAgICAgICAgICAgZWxlbWVudHM6IHRlcm0uZWxlbWVudHMubWFwKFxuICAgICAgICAgICAgICB0ID0+IHQgJiYgdGhpcy50cmFuc2Zvcm1EZXN0cnVjdHVyaW5nV2l0aERlZmF1bHQodCksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcmVzdEVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhc2UgJ1N0YXRpY1Byb3BlcnR5TmFtZSc6XG4gICAgICAgIHJldHVybiBuZXcgVC5CaW5kaW5nSWRlbnRpZmllcih7XG4gICAgICAgICAgbmFtZTogdGVybS52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICBjYXNlICdDb21wdXRlZE1lbWJlckV4cHJlc3Npb24nOlxuICAgICAgY2FzZSAnU3RhdGljTWVtYmVyRXhwcmVzc2lvbic6XG4gICAgICBjYXNlICdBcnJheUJpbmRpbmcnOlxuICAgICAgY2FzZSAnQmluZGluZ0lkZW50aWZpZXInOlxuICAgICAgY2FzZSAnQmluZGluZ1Byb3BlcnR5SWRlbnRpZmllcic6XG4gICAgICBjYXNlICdCaW5kaW5nUHJvcGVydHlQcm9wZXJ0eSc6XG4gICAgICBjYXNlICdCaW5kaW5nV2l0aERlZmF1bHQnOlxuICAgICAgY2FzZSAnT2JqZWN0QmluZGluZyc6XG4gICAgICAgIHJldHVybiB0ZXJtO1xuICAgIH1cbiAgICBhc3NlcnQoZmFsc2UsICdub3QgaW1wbGVtZW50ZWQgeWV0IGZvciAnICsgdGVybS50eXBlKTtcbiAgfVxuXG4gIHRyYW5zZm9ybURlc3RydWN0dXJpbmdXaXRoRGVmYXVsdCh0ZXJtOiBhbnkpIHtcbiAgICBzd2l0Y2ggKHRlcm0udHlwZSkge1xuICAgICAgY2FzZSAnQXNzaWdubWVudEV4cHJlc3Npb24nOlxuICAgICAgICByZXR1cm4gbmV3IFQuQmluZGluZ1dpdGhEZWZhdWx0KHtcbiAgICAgICAgICBiaW5kaW5nOiB0aGlzLnRyYW5zZm9ybURlc3RydWN0dXJpbmcodGVybS5iaW5kaW5nKSxcbiAgICAgICAgICBpbml0OiB0ZXJtLmV4cHJlc3Npb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1EZXN0cnVjdHVyaW5nKHRlcm0pO1xuICB9XG5cbiAgZW5mb3Jlc3RDYWxsRXhwcmVzc2lvbigpIHtcbiAgICBsZXQgcGFyZW4gPSB0aGlzLm1hdGNoUGFyZW5zKCk7XG4gICAgcmV0dXJuIG5ldyBULkNhbGxFeHByZXNzaW9uRSh7XG4gICAgICBjYWxsZWU6IHRoaXMudGVybSxcbiAgICAgIGFyZ3VtZW50czogcGFyZW4sXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdEFycm93RXhwcmVzc2lvbigpIHtcbiAgICBsZXQgZW5mO1xuICAgIGlmICh0aGlzLmlzSWRlbnRpZmllcih0aGlzLnBlZWsoKSkpIHtcbiAgICAgIGVuZiA9IG5ldyBFbmZvcmVzdGVyKFxuICAgICAgICBMaXN0Lm9mKCh0aGlzLmFkdmFuY2UoKTogYW55KSksXG4gICAgICAgIExpc3QoKSxcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHAgPSB0aGlzLm1hdGNoUGFyZW5zKCk7XG4gICAgICBlbmYgPSBuZXcgRW5mb3Jlc3RlcihwLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgfVxuICAgIGxldCBwYXJhbXMgPSBlbmYuZW5mb3Jlc3RGb3JtYWxQYXJhbWV0ZXJzKCk7XG4gICAgdGhpcy5tYXRjaFB1bmN0dWF0b3IoJz0+Jyk7XG5cbiAgICBsZXQgYm9keTtcbiAgICBpZiAodGhpcy5pc0JyYWNlcyh0aGlzLnBlZWsoKSkpIHtcbiAgICAgIGJvZHkgPSB0aGlzLm1hdGNoQ3VybGllcygpO1xuICAgICAgcmV0dXJuIG5ldyBULkFycm93RXhwcmVzc2lvbkUoeyBwYXJhbXMsIGJvZHkgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZiA9IG5ldyBFbmZvcmVzdGVyKHRoaXMucmVzdCwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgICAgYm9keSA9IGVuZi5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCk7XG4gICAgICB0aGlzLnJlc3QgPSBlbmYucmVzdDtcbiAgICAgIHJldHVybiBuZXcgVC5BcnJvd0V4cHJlc3Npb24oeyBwYXJhbXMsIGJvZHkgfSk7XG4gICAgfVxuICB9XG5cbiAgZW5mb3Jlc3RZaWVsZEV4cHJlc3Npb24oKSB7XG4gICAgbGV0IGt3ZCA9IHRoaXMubWF0Y2hLZXl3b3JkKCd5aWVsZCcpO1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMucmVzdC5zaXplID09PSAwIHx8XG4gICAgICAobG9va2FoZWFkICYmICF0aGlzLmxpbmVOdW1iZXJFcShrd2QsIGxvb2thaGVhZCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbmV3IFQuWWllbGRFeHByZXNzaW9uKHtcbiAgICAgICAgZXhwcmVzc2lvbjogbnVsbCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaXNHZW5lcmF0b3IgPSBmYWxzZTtcbiAgICAgIGlmICh0aGlzLmlzUHVuY3R1YXRvcih0aGlzLnBlZWsoKSwgJyonKSkge1xuICAgICAgICBpc0dlbmVyYXRvciA9IHRydWU7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgfVxuICAgICAgbGV0IGV4cHIgPSB0aGlzLmVuZm9yZXN0RXhwcmVzc2lvbigpO1xuICAgICAgcmV0dXJuIG5ldyAoaXNHZW5lcmF0b3JcbiAgICAgICAgPyBULllpZWxkR2VuZXJhdG9yRXhwcmVzc2lvblxuICAgICAgICA6IFQuWWllbGRFeHByZXNzaW9uKSh7XG4gICAgICAgIGV4cHJlc3Npb246IGV4cHIsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBlbmZvcmVzdFN5bnRheFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBuZXcgVC5TeW50YXhUZW1wbGF0ZSh7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy5tYXRjaFJhd0RlbGltaXRlcigpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RTdGF0aWNNZW1iZXJFeHByZXNzaW9uKCkge1xuICAgIGxldCBvYmplY3QgPSB0aGlzLnRlcm07XG4gICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgbGV0IHByb3BlcnR5ID0gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuXG4gICAgcmV0dXJuIG5ldyBULlN0YXRpY01lbWJlckV4cHJlc3Npb24oe1xuICAgICAgb2JqZWN0OiBvYmplY3QsXG4gICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdEFycmF5RXhwcmVzc2lvbigpIHtcbiAgICBsZXQgYXJyID0gdGhpcy5tYXRjaFNxdWFyZXMoKTtcblxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xuXG4gICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKGFyciwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuXG4gICAgd2hpbGUgKGVuZi5yZXN0LnNpemUgPiAwKSB7XG4gICAgICBsZXQgbG9va2FoZWFkID0gZW5mLnBlZWsoKTtcbiAgICAgIGxldCBleHByZXNzaW9uID0gbnVsbDtcbiAgICAgIGlmICghZW5mLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICcsJykpIHtcbiAgICAgICAgbGV0IGlzU3ByZWFkID0gZmFsc2U7XG4gICAgICAgIGlmIChlbmYuaXNQdW5jdHVhdG9yKGxvb2thaGVhZCwgJy4uLicpKSB7XG4gICAgICAgICAgZW5mLmFkdmFuY2UoKTtcbiAgICAgICAgICBpc1NwcmVhZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwcmVzc2lvbiA9IGVuZi5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCk7XG4gICAgICAgIGlmIChleHByZXNzaW9uID09IG51bGwpIHtcbiAgICAgICAgICAvLyB0aGlzIHdhcyBhIG1hY3JvIHRoYXQgZXhwYW5kZWQgdG8gbm90aGluZ1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmYucmVzdC5zaXplID4gMCAmJiAhZW5mLmlzUHVuY3R1YXRvcihlbmYucGVlaygpLCAnLCcpKSB7XG4gICAgICAgICAgdGhyb3cgZW5mLmNyZWF0ZUVycm9yKGVuZi5wZWVrKCksICd1bmV4cGVjdGVkIHRva2VuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3ByZWFkKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBULlNwcmVhZEVsZW1lbnQoeyBleHByZXNzaW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbmYuY29uc3VtZUNvbW1hKCk7XG4gICAgICBlbGVtZW50cy5wdXNoKGV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVC5BcnJheUV4cHJlc3Npb24oe1xuICAgICAgZWxlbWVudHM6IExpc3QoZWxlbWVudHMpLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RPYmplY3RFeHByZXNzaW9uKCkge1xuICAgIGxldCBvYmogPSB0aGlzLm1hdGNoQ3VybGllcygpO1xuXG4gICAgbGV0IHByb3BlcnRpZXMgPSBMaXN0KCk7XG5cbiAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIob2JqLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG5cbiAgICBsZXQgbGFzdFByb3AgPSBudWxsO1xuICAgIC8vVE9ETzogaW1wbGVtZW50IG9iamVjdCBzcHJlYWQgb3BlcmF0b3Igd2hlbiBpdCBsYW5kc1xuICAgIHdoaWxlIChlbmYucmVzdC5zaXplID4gMCkge1xuICAgICAgbGV0IHByb3AgPSBlbmYuZW5mb3Jlc3RQcm9wZXJ0eURlZmluaXRpb24oKTtcblxuICAgICAgaWYgKGVuZi5yZXN0LnNpemUgPiAwICYmICFlbmYuaXNQdW5jdHVhdG9yKGVuZi5wZWVrKCksICcsJykpIHtcbiAgICAgICAgdGhyb3cgZW5mLmNyZWF0ZUVycm9yKGVuZi5wZWVrKCksICd1bmV4cGVjdGVkIHRva2VuJyk7XG4gICAgICB9XG5cbiAgICAgIGVuZi5jb25zdW1lQ29tbWEoKTtcbiAgICAgIC8vIFRPRE86IGJ1ZyBpbiBpbW11dGFibGUgdHlwZSBkZWZpbml0aW9ucyBmb3IgY29uY2F0LFxuICAgICAgLy8gdXBncmFkZSB0byB2NCB3aGVuIGl0IGlzIHJlbGVhc2VkXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svaW1tdXRhYmxlLWpzL3B1bGwvMTE1M1xuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMuY29uY2F0KChwcm9wOiBhbnkpKTtcblxuICAgICAgaWYgKGxhc3RQcm9wID09PSBwcm9wKSB7XG4gICAgICAgIHRocm93IGVuZi5jcmVhdGVFcnJvcihwcm9wLCAnaW52YWxpZCBzeW50YXggaW4gb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgICBsYXN0UHJvcCA9IHByb3A7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBULk9iamVjdEV4cHJlc3Npb24oe1xuICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyxcbiAgICB9KTtcbiAgfVxuXG4gIGVuZm9yZXN0UHJvcGVydHlEZWZpbml0aW9uKCkge1xuICAgIGxldCB7IG1ldGhvZE9yS2V5LCBraW5kIH0gPSB0aGlzLmVuZm9yZXN0TWV0aG9kRGVmaW5pdGlvbigpO1xuXG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlICdtZXRob2QnOlxuICAgICAgICByZXR1cm4gbWV0aG9kT3JLZXk7XG4gICAgICBjYXNlICdpZGVudGlmaWVyJzpcbiAgICAgICAgaWYgKHRoaXMuaXNBc3NpZ24odGhpcy5wZWVrKCkpKSB7XG4gICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgbGV0IGluaXQgPSB0aGlzLmVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFQuQmluZGluZ1Byb3BlcnR5SWRlbnRpZmllcih7XG4gICAgICAgICAgICBpbml0LFxuICAgICAgICAgICAgYmluZGluZzogdGhpcy50cmFuc2Zvcm1EZXN0cnVjdHVyaW5nKG1ldGhvZE9yS2V5KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pc1B1bmN0dWF0b3IodGhpcy5wZWVrKCksICc6JykpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFQuU2hvcnRoYW5kUHJvcGVydHkoe1xuICAgICAgICAgICAgbmFtZTogKG1ldGhvZE9yS2V5OiBhbnkpLnZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXRjaFB1bmN0dWF0b3IoJzonKTtcbiAgICBsZXQgZXhwciA9IHRoaXMuZW5mb3Jlc3RFeHByZXNzaW9uTG9vcCgpO1xuXG4gICAgcmV0dXJuIG5ldyBULkRhdGFQcm9wZXJ0eSh7XG4gICAgICBuYW1lOiBtZXRob2RPcktleSxcbiAgICAgIGV4cHJlc3Npb246IGV4cHIsXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdE1ldGhvZERlZmluaXRpb24oKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGxldCBpc0dlbmVyYXRvciA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICcqJykpIHtcbiAgICAgIGlzR2VuZXJhdG9yID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuaXNJZGVudGlmaWVyKGxvb2thaGVhZCwgJ2dldCcpICYmXG4gICAgICB0aGlzLmlzUHJvcGVydHlOYW1lKHRoaXMucGVlaygxKSlcbiAgICApIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgbGV0IHsgbmFtZSB9ID0gdGhpcy5lbmZvcmVzdFByb3BlcnR5TmFtZSgpO1xuICAgICAgdGhpcy5tYXRjaFBhcmVucygpO1xuICAgICAgbGV0IGJvZHkgPSB0aGlzLm1hdGNoQ3VybGllcygpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWV0aG9kT3JLZXk6IG5ldyBULkdldHRlcih7IG5hbWUsIGJvZHkgfSksXG4gICAgICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5pc0lkZW50aWZpZXIobG9va2FoZWFkLCAnc2V0JykgJiZcbiAgICAgIHRoaXMuaXNQcm9wZXJ0eU5hbWUodGhpcy5wZWVrKDEpKVxuICAgICkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICBsZXQgeyBuYW1lIH0gPSB0aGlzLmVuZm9yZXN0UHJvcGVydHlOYW1lKCk7XG4gICAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIodGhpcy5tYXRjaFBhcmVucygpLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgICBsZXQgcGFyYW0gPSBlbmYuZW5mb3Jlc3RCaW5kaW5nRWxlbWVudCgpO1xuICAgICAgbGV0IGJvZHkgPSB0aGlzLm1hdGNoQ3VybGllcygpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWV0aG9kT3JLZXk6IG5ldyBULlNldHRlcih7IG5hbWUsIHBhcmFtLCBib2R5IH0pLFxuICAgICAgICBraW5kOiAnbWV0aG9kJyxcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCB7IG5hbWUgfSA9IHRoaXMuZW5mb3Jlc3RQcm9wZXJ0eU5hbWUoKTtcbiAgICBpZiAodGhpcy5pc1BhcmVucyh0aGlzLnBlZWsoKSkpIHtcbiAgICAgIGxldCBwYXJhbXMgPSB0aGlzLm1hdGNoUGFyZW5zKCk7XG4gICAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIocGFyYW1zLCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgICBsZXQgZm9ybWFsUGFyYW1zID0gZW5mLmVuZm9yZXN0Rm9ybWFsUGFyYW1ldGVycygpO1xuXG4gICAgICBsZXQgYm9keSA9IHRoaXMubWF0Y2hDdXJsaWVzKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXRob2RPcktleTogbmV3IFQuTWV0aG9kKHtcbiAgICAgICAgICBpc0dlbmVyYXRvcixcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHBhcmFtczogZm9ybWFsUGFyYW1zLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgIH0pLFxuICAgICAgICBraW5kOiAnbWV0aG9kJyxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBtZXRob2RPcktleTogbmFtZSxcbiAgICAgIGtpbmQ6XG4gICAgICAgIHRoaXMuaXNJZGVudGlmaWVyKGxvb2thaGVhZCkgfHwgdGhpcy5pc0tleXdvcmQobG9va2FoZWFkKVxuICAgICAgICAgID8gJ2lkZW50aWZpZXInXG4gICAgICAgICAgOiAncHJvcGVydHknLFxuICAgIH07XG4gIH1cblxuICBlbmZvcmVzdFByb3BlcnR5TmFtZSgpIHtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG5cbiAgICBpZiAodGhpcy5pc1N0cmluZ0xpdGVyYWwobG9va2FoZWFkKSB8fCB0aGlzLmlzTnVtZXJpY0xpdGVyYWwobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmV3IFQuU3RhdGljUHJvcGVydHlOYW1lKHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy5tYXRjaFJhd1N5bnRheCgpLFxuICAgICAgICB9KSxcbiAgICAgICAgYmluZGluZzogbnVsbCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQnJhY2tldHMobG9va2FoZWFkKSkge1xuICAgICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKHRoaXMubWF0Y2hTcXVhcmVzKCksIExpc3QoKSwgdGhpcy5jb250ZXh0KTtcbiAgICAgIGxldCBleHByID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5ldyBULkNvbXB1dGVkUHJvcGVydHlOYW1lKHtcbiAgICAgICAgICBleHByZXNzaW9uOiBleHByLFxuICAgICAgICB9KSxcbiAgICAgICAgYmluZGluZzogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBuYW1lID0gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBuZXcgVC5TdGF0aWNQcm9wZXJ0eU5hbWUoeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgIGJpbmRpbmc6IG5ldyBULkJpbmRpbmdJZGVudGlmaWVyKHsgbmFtZSB9KSxcbiAgICB9O1xuICB9XG5cbiAgZW5mb3Jlc3RGdW5jdGlvbih7XG4gICAgaXNFeHByLFxuICAgIGluRGVmYXVsdCxcbiAgfToge1xuICAgIGlzRXhwcj86IGJvb2xlYW4sXG4gICAgaW5EZWZhdWx0PzogYm9vbGVhbixcbiAgfSkge1xuICAgIGxldCBuYW1lID0gbnVsbCxcbiAgICAgIHBhcmFtcyxcbiAgICAgIGJvZHk7XG4gICAgbGV0IGlzR2VuZXJhdG9yID0gZmFsc2U7XG4gICAgLy8gZWF0IHRoZSBmdW5jdGlvbiBrZXl3b3JkXG4gICAgbGV0IGZuS2V5d29yZCA9IHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG5cbiAgICBpZiAodGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkLCAnKicpKSB7XG4gICAgICBpc0dlbmVyYXRvciA9IHRydWU7XG4gICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgIGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1BhcmVucyhsb29rYWhlYWQpKSB7XG4gICAgICBuYW1lID0gdGhpcy5lbmZvcmVzdEJpbmRpbmdJZGVudGlmaWVyKCk7XG4gICAgfSBlbHNlIGlmIChpbkRlZmF1bHQpIHtcbiAgICAgIG5hbWUgPSBuZXcgVC5CaW5kaW5nSWRlbnRpZmllcih7XG4gICAgICAgIG5hbWU6IFN5bnRheC5mcm9tSWRlbnRpZmllcignKmRlZmF1bHQqJywgZm5LZXl3b3JkKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHBhcmFtcyA9IHRoaXMubWF0Y2hQYXJlbnMoKTtcblxuICAgIGJvZHkgPSB0aGlzLm1hdGNoQ3VybGllcygpO1xuXG4gICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKHBhcmFtcywgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCBmb3JtYWxQYXJhbXMgPSBlbmYuZW5mb3Jlc3RGb3JtYWxQYXJhbWV0ZXJzKCk7XG5cbiAgICByZXR1cm4gbmV3IChpc0V4cHIgPyBULkZ1bmN0aW9uRXhwcmVzc2lvbkUgOiBULkZ1bmN0aW9uRGVjbGFyYXRpb25FKSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgaXNHZW5lcmF0b3I6IGlzR2VuZXJhdG9yLFxuICAgICAgcGFyYW1zOiBmb3JtYWxQYXJhbXMsXG4gICAgICBib2R5OiBib2R5LFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RGb3JtYWxQYXJhbWV0ZXJzKCkge1xuICAgIGxldCBpdGVtcyA9IFtdO1xuICAgIGxldCByZXN0ID0gbnVsbDtcbiAgICB3aGlsZSAodGhpcy5yZXN0LnNpemUgIT09IDApIHtcbiAgICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICAgIGlmICh0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICcuLi4nKSkge1xuICAgICAgICB0aGlzLm1hdGNoUHVuY3R1YXRvcignLi4uJyk7XG4gICAgICAgIHJlc3QgPSB0aGlzLmVuZm9yZXN0QmluZGluZ0lkZW50aWZpZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpdGVtcy5wdXNoKHRoaXMuZW5mb3Jlc3RQYXJhbSgpKTtcbiAgICAgIHRoaXMuY29uc3VtZUNvbW1hKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5Gb3JtYWxQYXJhbWV0ZXJzKHtcbiAgICAgIGl0ZW1zOiBMaXN0KGl0ZW1zKSxcbiAgICAgIHJlc3QsXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdFBhcmFtKCkge1xuICAgIHJldHVybiB0aGlzLmVuZm9yZXN0QmluZGluZ0VsZW1lbnQoKTtcbiAgfVxuXG4gIGVuZm9yZXN0VXBkYXRlRXhwcmVzc2lvbigpIHtcbiAgICBjb25zdCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBjb25zdCBsZWZ0VGVybSA9IHRoaXMudGVybTtcbiAgICBpZiAoIWxvb2thaGVhZCkge1xuICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdhc3NlcnRpb24gZmFpbHVyZTogb3BlcmF0b3IgaXMgbnVsbCcpO1xuICAgIH1cbiAgICBsZXQgb3BlcmF0b3IgPSB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgaWYgKHRoaXMuaXNDb21waWxldGltZVRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICBjb25zdCBvcGVyYXRvclRyYW5zZm9ybSA9IHRoaXMuZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQob3BlcmF0b3IpO1xuICAgICAgaWYgKCFvcGVyYXRvclRyYW5zZm9ybSB8fCBvcGVyYXRvclRyYW5zZm9ybS52YWx1ZS50eXBlICE9PSAnb3BlcmF0b3InKSB7XG4gICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAndW5leHBlY3RlZCB0cmFuc2Zvcm0nKTtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHQgPSBvcGVyYXRvclRyYW5zZm9ybS52YWx1ZS5mLmNhbGwobnVsbCwgbGVmdFRlcm0pO1xuICAgICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKHJlc3VsdCwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgICAgcmV0dXJuIGVuZi5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVC5VcGRhdGVFeHByZXNzaW9uKHtcbiAgICAgIGlzUHJlZml4OiBmYWxzZSxcbiAgICAgIG9wZXJhdG9yOiBvcGVyYXRvci52YWwoKSxcbiAgICAgIG9wZXJhbmQ6IHRoaXMudHJhbnNmb3JtRGVzdHJ1Y3R1cmluZyhsZWZ0VGVybSksXG4gICAgfSk7XG4gIH1cblxuICBlbmZvcmVzdFVuYXJ5RXhwcmVzc2lvbigpIHtcbiAgICBjb25zdCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBpZiAoIWxvb2thaGVhZCkge1xuICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdhc3NlcnRpb24gZmFpbHVyZTogb3BlcmF0b3IgaXMgbnVsbCcpO1xuICAgIH1cbiAgICBsZXQgb3BlcmF0b3IgPSB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgbGV0IHByZWMsIGNvbWJpbmU7XG4gICAgaWYgKHRoaXMuaXNDb21waWxldGltZVRyYW5zZm9ybShsb29rYWhlYWQpKSB7XG4gICAgICBjb25zdCBvcGVyYXRvclRyYW5zZm9ybSA9IHRoaXMuZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQobG9va2FoZWFkKTtcbiAgICAgIGlmICghb3BlcmF0b3JUcmFuc2Zvcm0gfHwgb3BlcmF0b3JUcmFuc2Zvcm0udmFsdWUudHlwZSAhPT0gJ29wZXJhdG9yJykge1xuICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKGxvb2thaGVhZCwgJ3VuZXhwZWN0ZWQgdHJhbnNmb3JtJyk7XG4gICAgICB9XG4gICAgICBwcmVjID0gb3BlcmF0b3JUcmFuc2Zvcm0udmFsdWUucHJlYztcbiAgICAgIGNvbWJpbmUgPSByaWdodFRlcm0gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5leHBhbmRPcGVyYXRvcihsb29rYWhlYWQsIG9wZXJhdG9yVHJhbnNmb3JtLCBbcmlnaHRUZXJtXSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhbGwgYnVpbHRpbnMgYXJlIDE2XG4gICAgICBwcmVjID0gMTY7XG4gICAgICBjb21iaW5lID0gcmlnaHRUZXJtID0+IHtcbiAgICAgICAgaWYgKG9wZXJhdG9yLnZhbCgpID09PSAnKysnIHx8IG9wZXJhdG9yLnZhbCgpID09PSAnLS0nKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBULlVwZGF0ZUV4cHJlc3Npb24oe1xuICAgICAgICAgICAgb3BlcmF0b3I6IG9wZXJhdG9yLnZhbCgpLFxuICAgICAgICAgICAgb3BlcmFuZDogdGhpcy50cmFuc2Zvcm1EZXN0cnVjdHVyaW5nKHJpZ2h0VGVybSksXG4gICAgICAgICAgICBpc1ByZWZpeDogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFQuVW5hcnlFeHByZXNzaW9uKHtcbiAgICAgICAgICAgIG9wZXJhdG9yOiBvcGVyYXRvci52YWwoKSxcbiAgICAgICAgICAgIG9wZXJhbmQ6IHJpZ2h0VGVybSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLm9wQ3R4LnN0YWNrID0gdGhpcy5vcEN0eC5zdGFjay5wdXNoKHtcbiAgICAgIHByZWM6IHRoaXMub3BDdHgucHJlYyxcbiAgICAgIGNvbWJpbmU6IHRoaXMub3BDdHguY29tYmluZSxcbiAgICB9KTtcbiAgICB0aGlzLm9wQ3R4LnByZWMgPSBwcmVjO1xuICAgIHRoaXMub3BDdHguY29tYmluZSA9IHJpZ2h0VGVybSA9PiB7XG4gICAgICByZXR1cm4gY29tYmluZShyaWdodFRlcm0pO1xuICAgIH07XG4gICAgcmV0dXJuIEVYUFJfTE9PUF9PUEVSQVRPUjtcbiAgfVxuXG4gIGVuZm9yZXN0Q29uZGl0aW9uYWxFeHByZXNzaW9uKCkge1xuICAgIC8vIGZpcnN0LCBwb3AgdGhlIG9wZXJhdG9yIHN0YWNrXG4gICAgbGV0IHRlc3QgPSB0aGlzLm9wQ3R4LmNvbWJpbmUodGhpcy50ZXJtKTtcbiAgICBpZiAodGhpcy5vcEN0eC5zdGFjay5zaXplID4gMCkge1xuICAgICAgbGV0IHsgcHJlYywgY29tYmluZSB9ID0gdGhpcy5vcEN0eC5zdGFjay5sYXN0KCk7XG4gICAgICB0aGlzLm9wQ3R4LnN0YWNrID0gdGhpcy5vcEN0eC5zdGFjay5wb3AoKTtcbiAgICAgIHRoaXMub3BDdHgucHJlYyA9IHByZWM7XG4gICAgICB0aGlzLm9wQ3R4LmNvbWJpbmUgPSBjb21iaW5lO1xuICAgIH1cblxuICAgIHRoaXMubWF0Y2hQdW5jdHVhdG9yKCc/Jyk7XG4gICAgbGV0IGVuZiA9IG5ldyBFbmZvcmVzdGVyKHRoaXMucmVzdCwgTGlzdCgpLCB0aGlzLmNvbnRleHQpO1xuICAgIGxldCBjb25zZXF1ZW50ID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKTtcbiAgICBlbmYubWF0Y2hQdW5jdHVhdG9yKCc6Jyk7XG4gICAgZW5mID0gbmV3IEVuZm9yZXN0ZXIoZW5mLnJlc3QsIExpc3QoKSwgdGhpcy5jb250ZXh0KTtcbiAgICBsZXQgYWx0ZXJuYXRlID0gZW5mLmVuZm9yZXN0RXhwcmVzc2lvbkxvb3AoKTtcbiAgICB0aGlzLnJlc3QgPSBlbmYucmVzdDtcbiAgICByZXR1cm4gbmV3IFQuQ29uZGl0aW9uYWxFeHByZXNzaW9uKHtcbiAgICAgIHRlc3QsXG4gICAgICBjb25zZXF1ZW50LFxuICAgICAgYWx0ZXJuYXRlLFxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3Jlc3RCaW5hcnlFeHByZXNzaW9uKCkge1xuICAgIGxldCBsZWZ0VGVybSA9IHRoaXMudGVybTtcbiAgICBjb25zdCBvcFN0eDogYW55ID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKCFvcFN0eCkge1xuICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihvcFN0eCwgJ2Fzc2VydGlvbiBmYWlsdXJlOiBvcFN0eCBpcyBudWxsJyk7XG4gICAgfVxuXG4gICAgbGV0IHByZWMsIGFzc29jLCBjb21iaW5lO1xuICAgIGlmICh0aGlzLmlzQ29tcGlsZXRpbWVUcmFuc2Zvcm0odGhpcy5wZWVrKCkpKSB7XG4gICAgICBjb25zdCBvcGVyYXRvclRyYW5zZm9ybSA9IHRoaXMuZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQob3BTdHgudmFsdWUpO1xuICAgICAgaWYgKCFvcGVyYXRvclRyYW5zZm9ybSB8fCBvcGVyYXRvclRyYW5zZm9ybS52YWx1ZS50eXBlICE9PSAnb3BlcmF0b3InKSB7XG4gICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3Iob3BTdHgudmFsdWUsICd1bmV4cGVjdGVkIHRyYW5zZm9ybScpO1xuICAgICAgfVxuICAgICAgcHJlYyA9IG9wZXJhdG9yVHJhbnNmb3JtLnZhbHVlLnByZWM7XG4gICAgICBhc3NvYyA9IG9wZXJhdG9yVHJhbnNmb3JtLnZhbHVlLmFzc29jO1xuICAgICAgY29tYmluZSA9IChsZWZ0OiBhbnksIHJpZ2h0KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cGFuZE9wZXJhdG9yKG9wU3R4LCBvcGVyYXRvclRyYW5zZm9ybSwgW2xlZnQsIHJpZ2h0XSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmVjID0gZ2V0T3BlcmF0b3JQcmVjKG9wU3R4LnZhbHVlLnZhbCgpKTtcbiAgICAgIGFzc29jID0gZ2V0T3BlcmF0b3JBc3NvYyhvcFN0eC52YWx1ZS52YWwoKSk7XG4gICAgICBjb21iaW5lID0gKGxlZnQsIHJpZ2h0KSA9PlxuICAgICAgICBuZXcgVC5CaW5hcnlFeHByZXNzaW9uKHtcbiAgICAgICAgICBsZWZ0LFxuICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgIG9wZXJhdG9yOiBvcFN0eC52YWx1ZS52YWwoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdG9yTHQodGhpcy5vcEN0eC5wcmVjLCBwcmVjLCBhc3NvYykpIHtcbiAgICAgIHRoaXMub3BDdHguc3RhY2sgPSB0aGlzLm9wQ3R4LnN0YWNrLnB1c2goe1xuICAgICAgICBwcmVjOiB0aGlzLm9wQ3R4LnByZWMsXG4gICAgICAgIGNvbWJpbmU6IHRoaXMub3BDdHguY29tYmluZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vcEN0eC5wcmVjID0gcHJlYztcbiAgICAgIHRoaXMub3BDdHguY29tYmluZSA9IHJpZ2h0VGVybSA9PiB7XG4gICAgICAgIHJldHVybiBjb21iaW5lKGxlZnRUZXJtLCByaWdodFRlcm0pO1xuICAgICAgfTtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgcmV0dXJuIEVYUFJfTE9PUF9PUEVSQVRPUjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRlcm0gPSB0aGlzLm9wQ3R4LmNvbWJpbmUobGVmdFRlcm0pO1xuICAgICAgLy8gdGhpcy5yZXN0IGRvZXMgbm90IGNoYW5nZVxuICAgICAgbGV0IHsgcHJlYywgY29tYmluZSB9ID0gdGhpcy5vcEN0eC5zdGFjay5sYXN0KCk7XG4gICAgICB0aGlzLm9wQ3R4LnN0YWNrID0gdGhpcy5vcEN0eC5zdGFjay5wb3AoKTtcbiAgICAgIHRoaXMub3BDdHgucHJlYyA9IHByZWM7XG4gICAgICB0aGlzLm9wQ3R4LmNvbWJpbmUgPSBjb21iaW5lO1xuICAgICAgcmV0dXJuIHRlcm07XG4gICAgfVxuICB9XG5cbiAgZW5mb3Jlc3RUZW1wbGF0ZUVsZW1lbnRzKCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLm1hdGNoVGVtcGxhdGUoKTtcbiAgICBsZXQgZWxlbWVudHMgPSBsb29rYWhlYWQudG9rZW4uaXRlbXMubWFwKGl0ID0+IHtcbiAgICAgIGlmICh0aGlzLmlzRGVsaW1pdGVyKGl0KSkge1xuICAgICAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIoXG4gICAgICAgICAgaXQuaW5uZXIuc2xpY2UoMSwgaXQuaW5uZXIuc2l6ZSAtIDEpLFxuICAgICAgICAgIExpc3QoKSxcbiAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbmYuZW5mb3Jlc3QoJ2V4cHJlc3Npb24nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgVC5UZW1wbGF0ZUVsZW1lbnQoe1xuICAgICAgICByYXdWYWx1ZTogaXQudmFsdWUudG9rZW4uc2xpY2UudGV4dCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBlbGVtZW50cztcbiAgfVxuXG4gIGV4cGFuZE1hY3JvKCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICB3aGlsZSAodGhpcy5pc0NvbXBpbGV0aW1lVHJhbnNmb3JtKGxvb2thaGVhZCkpIHtcbiAgICAgIGxldCBuYW1lID0gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuXG4gICAgICBsZXQgc3ludGF4VHJhbnNmb3JtID0gdGhpcy5nZXRGcm9tQ29tcGlsZXRpbWVFbnZpcm9ubWVudChuYW1lKTtcbiAgICAgIGlmIChzeW50YXhUcmFuc2Zvcm0gPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYFRoZSBtYWNybyAke25hbWUucmVzb2x2ZShcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5waGFzZSxcbiAgICAgICAgICApfSBkb2VzIG5vdCBoYXZlIGEgYm91bmQgdmFsdWVgLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ludGF4VHJhbnNmb3JtLnZhbHVlLmYgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGBUaGUgbWFjcm8gJHtuYW1lLnJlc29sdmUoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucGhhc2UsXG4gICAgICAgICAgKX0gd2FzIG5vdCBib3VuZCB0byBhIGNhbGxhYmxlIHZhbHVlOiAke3N5bnRheFRyYW5zZm9ybS52YWx1ZS5mfWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBsZXQgdXNlU2l0ZVNjb3BlID0gZnJlc2hTY29wZSgndScpO1xuICAgICAgbGV0IGludHJvZHVjZWRTY29wZSA9IGZyZXNoU2NvcGUoJ2knKTtcbiAgICAgIC8vIFRPRE86IG5lZWRzIHRvIGJlIGEgbGlzdCBvZiBzY29wZXMgSSB0aGlua1xuICAgICAgdGhpcy5jb250ZXh0LnVzZVNjb3BlID0gdXNlU2l0ZVNjb3BlO1xuXG4gICAgICBsZXQgY3R4ID0gbmV3IE1hY3JvQ29udGV4dChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICB1c2VTaXRlU2NvcGUsXG4gICAgICAgIGludHJvZHVjZWRTY29wZSxcbiAgICAgICk7XG5cbiAgICAgIGxldCByZXN1bHQgPSBzYW5pdGl6ZVJlcGxhY2VtZW50VmFsdWVzKFxuICAgICAgICBzeW50YXhUcmFuc2Zvcm0udmFsdWUuZi5jYWxsKG51bGwsIGN0eCksXG4gICAgICApO1xuICAgICAgaWYgKCFMaXN0LmlzTGlzdChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IoXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICAnbWFjcm8gbXVzdCByZXR1cm4gYSBsaXN0IGJ1dCBnb3Q6ICcgKyByZXN1bHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBsZXQgc2NvcGVSZWR1Y2VyID0gbmV3IFNjb3BlUmVkdWNlcihcbiAgICAgICAgW3sgc2NvcGU6IGludHJvZHVjZWRTY29wZSwgcGhhc2U6IEFMTF9QSEFTRVMsIGZsaXA6IHRydWUgfV0sXG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kaW5ncyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKHRlcm1zID0+IHtcbiAgICAgICAgaWYgKHRlcm1zIGluc3RhbmNlb2YgU3ludGF4KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBULlJhd1N5bnRheCh7XG4gICAgICAgICAgICB2YWx1ZTogdGVybXMsXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lOiBmbG93IGRvZXNuJ3Qga25vdyBhYm91dCByZWR1Y2Ugb24gdGVybXMgeWV0XG4gICAgICAgICAgfSkucmVkdWNlKHNjb3BlUmVkdWNlcik7XG4gICAgICAgIH0gZWxzZSBpZiAoISh0ZXJtcyBpbnN0YW5jZW9mIFRlcm0pKSB7XG4gICAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAnbWFjcm8gbXVzdCByZXR1cm4gc3ludGF4IG9iamVjdHMgb3IgdGVybXMgYnV0IGdvdDogJyArIHRlcm1zLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlcm1zLnJlZHVjZShzY29wZVJlZHVjZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucmVzdCA9IHJlc3VsdC5jb25jYXQoY3R4Ll9yZXN0KHRoaXMpKTtcbiAgICAgIGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIH1cbiAgfVxuXG4gIGV4cGFuZE9wZXJhdG9yKG5hbWU6IFRlcm0sIG9wZXJhdG9yVHJhbnNmb3JtOiBhbnksIGFyZ3M6IEFycmF5PFRlcm0+KSB7XG4gICAgbGV0IHVzZVNpdGVTY29wZSA9IGZyZXNoU2NvcGUoJ3UnKTtcbiAgICBsZXQgaW50cm9kdWNlZFNjb3BlID0gZnJlc2hTY29wZSgnaScpO1xuICAgIC8vIFRPRE86IG5lZWRzIHRvIGJlIGEgbGlzdCBvZiBzY29wZXMgSSB0aGlua1xuICAgIHRoaXMuY29udGV4dC51c2VTY29wZSA9IHVzZVNpdGVTY29wZTtcbiAgICBhcmdzID0gYXJncy5tYXAoYXJnID0+IHtcbiAgICAgIC8vICRGbG93Rml4TWU6IGZsb3cgZG9lc24ndCBrbm93IGFib3V0IHJlZHVjZSBvbiB0ZXJtcyB5ZXRcbiAgICAgIHJldHVybiBhcmcucmVkdWNlKFxuICAgICAgICBuZXcgU2NvcGVSZWR1Y2VyKFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHsgc2NvcGU6IHVzZVNpdGVTY29wZSwgcGhhc2U6IEFMTF9QSEFTRVMsIGZsaXA6IGZhbHNlIH0sXG4gICAgICAgICAgICB7IHNjb3BlOiBpbnRyb2R1Y2VkU2NvcGUsIHBoYXNlOiBBTExfUEhBU0VTLCBmbGlwOiB0cnVlIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICB0aGlzLmNvbnRleHQuYmluZGluZ3MsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0pO1xuICAgIGxldCByZXN1bHQgPSBzYW5pdGl6ZVJlcGxhY2VtZW50VmFsdWVzKFxuICAgICAgb3BlcmF0b3JUcmFuc2Zvcm0udmFsdWUuZi5hcHBseShudWxsLCBhcmdzKSxcbiAgICApO1xuICAgIGxldCBzY29wZVJlZHVjZXIgPSBuZXcgU2NvcGVSZWR1Y2VyKFxuICAgICAgW3sgc2NvcGU6IGludHJvZHVjZWRTY29wZSwgcGhhc2U6IEFMTF9QSEFTRVMsIGZsaXA6IHRydWUgfV0sXG4gICAgICB0aGlzLmNvbnRleHQuYmluZGluZ3MsXG4gICAgICB0cnVlLFxuICAgICk7XG4gICAgcmVzdWx0ID0gcmVzdWx0Lm1hcCh0ZXJtcyA9PiB7XG4gICAgICBpZiAodGVybXMgaW5zdGFuY2VvZiBTeW50YXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBULlJhd1N5bnRheCh7XG4gICAgICAgICAgdmFsdWU6IHRlcm1zLFxuICAgICAgICAgIC8vICRGbG93Rml4TWU6IGZsb3cgZG9lc24ndCBrbm93IGFib3V0IHJlZHVjZSBvbiB0ZXJtcyB5ZXRcbiAgICAgICAgfSkucmVkdWNlKHNjb3BlUmVkdWNlcik7XG4gICAgICB9IGVsc2UgaWYgKCEodGVybXMgaW5zdGFuY2VvZiBUZXJtKSkge1xuICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgJ21hY3JvIG11c3QgcmV0dXJuIHN5bnRheCBvYmplY3RzIG9yIHRlcm1zIGJ1dCBnb3Q6ICcgKyB0ZXJtcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXJtcy5yZWR1Y2Uoc2NvcGVSZWR1Y2VyKTtcbiAgICB9KTtcbiAgICBsZXQgZW5mID0gbmV3IEVuZm9yZXN0ZXIocmVzdWx0LCBMaXN0KCksIHRoaXMuY29udGV4dCk7XG4gICAgcmV0dXJuIGVuZi5lbmZvcmVzdEV4cHJlc3Npb25Mb29wKCk7XG4gIH1cblxuICBjb25zdW1lU2VtaWNvbG9uKCkge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcblxuICAgIGlmIChsb29rYWhlYWQgJiYgdGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkLCAnOycpKSB7XG4gICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICB9XG4gIH1cblxuICBjb25zdW1lQ29tbWEoKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuXG4gICAgaWYgKGxvb2thaGVhZCAmJiB0aGlzLmlzUHVuY3R1YXRvcihsb29rYWhlYWQsICcsJykpIHtcbiAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNhZmVDaGVjayhvYmo6ID8oU3ludGF4IHwgVGVybSksIHR5cGU6IGFueSwgdmFsOiA/c3RyaW5nID0gbnVsbCkge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBUZXJtKSB7XG4gICAgICBpZiAob2JqIGluc3RhbmNlb2YgVC5SYXdTeW50YXgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBvYmoudmFsdWUgJiZcbiAgICAgICAgICAodHlwZW9mIG9iai52YWx1ZS5tYXRjaCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBvYmoudmFsdWUubWF0Y2godHlwZSwgdmFsKVxuICAgICAgICAgICAgOiBmYWxzZSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgVC5SYXdEZWxpbWl0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdkZWxpbWl0ZXInIHx8IG9iai5raW5kID09PSB0eXBlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgb2JqICYmICh0eXBlb2Ygb2JqLm1hdGNoID09PSAnZnVuY3Rpb24nID8gb2JqLm1hdGNoKHR5cGUsIHZhbCkgOiBmYWxzZSlcbiAgICApO1xuICB9XG5cbiAgaXNUZXJtKHRlcm06IGFueSkge1xuICAgIHJldHVybiB0ZXJtICYmIHRlcm0gaW5zdGFuY2VvZiBUZXJtO1xuICB9XG5cbiAgaXNFT0Yob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ2VvZicpO1xuICB9XG5cbiAgaXNJZGVudGlmaWVyKG9iajogPyhTeW50YXggfCBUZXJtKSwgdmFsOiA/c3RyaW5nID0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLnNhZmVDaGVjayhvYmosICdpZGVudGlmaWVyJywgdmFsKTtcbiAgfVxuXG4gIGlzUHJvcGVydHlOYW1lKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmlzSWRlbnRpZmllcihvYmopIHx8XG4gICAgICB0aGlzLmlzS2V5d29yZChvYmopIHx8XG4gICAgICB0aGlzLmlzTnVtZXJpY0xpdGVyYWwob2JqKSB8fFxuICAgICAgdGhpcy5pc1N0cmluZ0xpdGVyYWwob2JqKSB8fFxuICAgICAgdGhpcy5pc0JyYWNrZXRzKG9iailcbiAgICApO1xuICB9XG5cbiAgaXNOdW1lcmljTGl0ZXJhbChvYmo6ID8oU3ludGF4IHwgVGVybSksIHZhbDogP3N0cmluZyA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlQ2hlY2sob2JqLCAnbnVtYmVyJywgdmFsKTtcbiAgfVxuXG4gIGlzU3RyaW5nTGl0ZXJhbChvYmo6ID8oU3ludGF4IHwgVGVybSksIHZhbDogP3N0cmluZyA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlQ2hlY2sob2JqLCAnc3RyaW5nJywgdmFsKTtcbiAgfVxuXG4gIGlzVGVtcGxhdGUob2JqOiA/KFN5bnRheCB8IFRlcm0pLCB2YWw6ID9zdHJpbmcgPSBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ3RlbXBsYXRlJywgdmFsKTtcbiAgfVxuXG4gIGlzU3ludGF4VGVtcGxhdGUob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ3N5bnRheFRlbXBsYXRlJyk7XG4gIH1cblxuICBpc0Jvb2xlYW5MaXRlcmFsKG9iajogPyhTeW50YXggfCBUZXJtKSwgdmFsOiA/c3RyaW5nID0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLnNhZmVDaGVjayhvYmosICdib29sZWFuJywgdmFsKTtcbiAgfVxuXG4gIGlzTnVsbExpdGVyYWwob2JqOiA/KFN5bnRheCB8IFRlcm0pLCB2YWw6ID9zdHJpbmcgPSBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ251bGwnLCB2YWwpO1xuICB9XG5cbiAgaXNSZWd1bGFyRXhwcmVzc2lvbihvYmo6ID8oU3ludGF4IHwgVGVybSksIHZhbDogP3N0cmluZyA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlQ2hlY2sob2JqLCAncmVndWxhckV4cHJlc3Npb24nLCB2YWwpO1xuICB9XG5cbiAgaXNEZWxpbWl0ZXIob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ2RlbGltaXRlcicpO1xuICB9XG5cbiAgaXNQYXJlbnMob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ3BhcmVucycpO1xuICB9XG5cbiAgaXNCcmFjZXMob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ2JyYWNlcycpO1xuICB9XG5cbiAgaXNCcmFja2V0cyhvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlQ2hlY2sob2JqLCAnYnJhY2tldHMnKTtcbiAgfVxuXG4gIGlzQXNzaWduKG9iajogPyhTeW50YXggfCBUZXJtKSwgdmFsOiA/c3RyaW5nID0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLnNhZmVDaGVjayhvYmosICdhc3NpZ24nLCB2YWwpO1xuICB9XG5cbiAgaXNLZXl3b3JkKG9iajogPyhTeW50YXggfCBUZXJtKSwgdmFsOiA/c3RyaW5nID0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLnNhZmVDaGVjayhvYmosICdrZXl3b3JkJywgdmFsKTtcbiAgfVxuXG4gIGlzUHVuY3R1YXRvcihvYmo6ID8oU3ludGF4IHwgVGVybSksIHZhbDogP3N0cmluZyA9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlQ2hlY2sob2JqLCAncHVuY3R1YXRvcicsIHZhbCk7XG4gIH1cblxuICBpc09wZXJhdG9yKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5zYWZlQ2hlY2sob2JqLCAncHVuY3R1YXRvcicpIHx8XG4gICAgICAgIHRoaXMuc2FmZUNoZWNrKG9iaiwgJ2lkZW50aWZpZXInKSB8fFxuICAgICAgICB0aGlzLnNhZmVDaGVjayhvYmosICdrZXl3b3JkJykpICYmXG4gICAgICAoKG9iaiBpbnN0YW5jZW9mIFQuUmF3U3ludGF4ICYmIGlzT3BlcmF0b3Iob2JqLnZhbHVlKSkgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFN5bnRheCAmJiBpc09wZXJhdG9yKG9iaikpKVxuICAgICk7XG4gIH1cblxuICBpc0N1c3RvbVByZWZpeE9wZXJhdG9yKG9iajogYW55KSB7XG4gICAgaWYgKHRoaXMuaXNDb21waWxldGltZVRyYW5zZm9ybShvYmopKSB7XG4gICAgICBsZXQgdCA9IHRoaXMuZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQob2JqLnZhbHVlKTtcbiAgICAgIHJldHVybiB0ICYmIHQudmFsdWUuYXNzb2MgPT09ICdwcmVmaXgnO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpc0N1c3RvbVBvc3RmaXhPcGVyYXRvcihvYmo6IGFueSkge1xuICAgIGlmICh0aGlzLmlzQ29tcGlsZXRpbWVUcmFuc2Zvcm0ob2JqKSkge1xuICAgICAgbGV0IHQgPSB0aGlzLmdldEZyb21Db21waWxldGltZUVudmlyb25tZW50KG9iai52YWx1ZSk7XG4gICAgICByZXR1cm4gdCAmJiB0LnZhbHVlLmFzc29jID09PSAncG9zdGZpeCc7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzQ3VzdG9tQmluYXJ5T3BlcmF0b3Iob2JqOiBhbnkpIHtcbiAgICBpZiAodGhpcy5pc0NvbXBpbGV0aW1lVHJhbnNmb3JtKG9iaikpIHtcbiAgICAgIGxldCB0ID0gdGhpcy5nZXRGcm9tQ29tcGlsZXRpbWVFbnZpcm9ubWVudChvYmoudmFsdWUpO1xuICAgICAgcmV0dXJuIHQgJiYgKHQudmFsdWUuYXNzb2MgPT09ICdsZWZ0JyB8fCB0LnZhbHVlLmFzc29jID09PSAncmlnaHQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNVcGRhdGVPcGVyYXRvcihvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5zYWZlQ2hlY2sob2JqLCAncHVuY3R1YXRvcicsICcrKycpIHx8XG4gICAgICB0aGlzLnNhZmVDaGVjayhvYmosICdwdW5jdHVhdG9yJywgJy0tJylcbiAgICApO1xuICB9XG5cbiAgc2FmZVJlc29sdmUob2JqOiA/KFN5bnRheCB8IFRlcm0pLCBwaGFzZTogbnVtYmVyIHwge30pIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgVC5SYXdTeW50YXgpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqLnZhbHVlLnJlc29sdmUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBKdXN0KG9iai52YWx1ZS5yZXNvbHZlKHBoYXNlKSlcbiAgICAgICAgOiBOb3RoaW5nKCk7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBTeW50YXgpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqLnJlc29sdmUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBKdXN0KG9iai5yZXNvbHZlKHBoYXNlKSlcbiAgICAgICAgOiBOb3RoaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiBOb3RoaW5nKCk7XG4gIH1cblxuICBpc1RyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSksIHRyYW5zOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlUmVzb2x2ZShvYmosIHRoaXMuY29udGV4dC5waGFzZSlcbiAgICAgIC5tYXAoXG4gICAgICAgIG5hbWUgPT5cbiAgICAgICAgICB0aGlzLmNvbnRleHQuZW52LmdldChuYW1lKSA9PT0gdHJhbnMgfHxcbiAgICAgICAgICB0aGlzLmNvbnRleHQuc3RvcmUuZ2V0KG5hbWUpID09PSB0cmFucyxcbiAgICAgIClcbiAgICAgIC5nZXRPckVsc2UoZmFsc2UpO1xuICB9XG5cbiAgaXNUcmFuc2Zvcm1JbnN0YW5jZShvYmo6ID8oU3ludGF4IHwgVGVybSksIHRyYW5zOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5zYWZlUmVzb2x2ZShvYmosIHRoaXMuY29udGV4dC5waGFzZSlcbiAgICAgIC5tYXAoXG4gICAgICAgIG5hbWUgPT5cbiAgICAgICAgICB0aGlzLmNvbnRleHQuZW52LmdldChuYW1lKSBpbnN0YW5jZW9mIHRyYW5zIHx8XG4gICAgICAgICAgdGhpcy5jb250ZXh0LnN0b3JlLmdldChuYW1lKSBpbnN0YW5jZW9mIHRyYW5zLFxuICAgICAgKVxuICAgICAgLmdldE9yRWxzZShmYWxzZSk7XG4gIH1cblxuICBpc0ZuRGVjbFRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIEZ1bmN0aW9uRGVjbFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1ZhckRlY2xUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBWYXJpYWJsZURlY2xUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNMZXREZWNsVHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgTGV0RGVjbFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc0NvbnN0RGVjbFRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIENvbnN0RGVjbFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1N5bnRheERlY2xUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBTeW50YXhEZWNsVHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlzU3ludGF4cmVjRGVjbFRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIFN5bnRheHJlY0RlY2xUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNSZXR1cm5TdG10VHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgUmV0dXJuU3RhdGVtZW50VHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlzV2hpbGVUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBXaGlsZVRyYW5zZm9ybSk7XG4gIH1cblxuICBpc0ZvclRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIEZvclRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1N3aXRjaFRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIFN3aXRjaFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc0JyZWFrVHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgQnJlYWtUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNDb250aW51ZVRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIENvbnRpbnVlVHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlzRG9UcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBEb1RyYW5zZm9ybSk7XG4gIH1cblxuICBpc0RlYnVnZ2VyVHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgRGVidWdnZXJUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNXaXRoVHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgV2l0aFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc0ltcG9ydFRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIEltcG9ydFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc0V4cG9ydFRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIEV4cG9ydFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1RyeVRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIFRyeVRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1Rocm93VHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgVGhyb3dUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNPcGVyYXRvckRlY2xUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBPcGVyYXRvckRlY2xUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNJZlRyYW5zZm9ybShvYmo6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICByZXR1cm4gdGhpcy5pc1RyYW5zZm9ybShvYmosIElmVHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlzTmV3VHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgTmV3VHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlzU3VwZXJUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBTdXBlclRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1RoaXNUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBUaGlzVHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlzQ2xhc3NUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm0ob2JqLCBDbGFzc1RyYW5zZm9ybSk7XG4gIH1cblxuICBpc1lpZWxkVHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgWWllbGRUcmFuc2Zvcm0pO1xuICB9XG5cbiAgaXNEZWZhdWx0VHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtKG9iaiwgRGVmYXVsdFRyYW5zZm9ybSk7XG4gIH1cblxuICBpc0NvbXBpbGV0aW1lVHJhbnNmb3JtKG9iajogPyhTeW50YXggfCBUZXJtKSkge1xuICAgIHJldHVybiB0aGlzLmlzVHJhbnNmb3JtSW5zdGFuY2Uob2JqLCBDb21waWxldGltZVRyYW5zZm9ybSk7XG4gIH1cblxuICBpc01vZHVsZU5hbWVzcGFjZVRyYW5zZm9ybShvYmo6ID9UZXJtKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm1JbnN0YW5jZShvYmosIE1vZHVsZU5hbWVzcGFjZVRyYW5zZm9ybSk7XG4gIH1cblxuICBpc1ZhckJpbmRpbmdUcmFuc2Zvcm0ob2JqOiA/KFN5bnRheCB8IFRlcm0pKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm1JbnN0YW5jZShvYmosIFZhckJpbmRpbmdUcmFuc2Zvcm0pO1xuICB9XG5cbiAgZ2V0RnJvbUNvbXBpbGV0aW1lRW52aXJvbm1lbnQodGVybTogYW55KSB7XG4gICAgaWYgKHRoaXMuY29udGV4dC5lbnYuaGFzKHRlcm0ucmVzb2x2ZSh0aGlzLmNvbnRleHQucGhhc2UpKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5lbnYuZ2V0KHRlcm0ucmVzb2x2ZSh0aGlzLmNvbnRleHQucGhhc2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdG9yZS5nZXQodGVybS5yZXNvbHZlKHRoaXMuY29udGV4dC5waGFzZSkpO1xuICB9XG5cbiAgbGluZU51bWJlckVxKGE6ID8oVGVybSB8IFN5bnRheCksIGI6ID8oU3ludGF4IHwgVGVybSkpIHtcbiAgICBpZiAoIShhICYmIGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBnZXRMaW5lTnVtYmVyKGEpID09PSBnZXRMaW5lTnVtYmVyKGIpO1xuICB9XG5cbiAgbWF0Y2hSYXdEZWxpbWl0ZXIoKTogTGlzdDxUZXJtPiB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMuYWR2YW5jZSgpO1xuICAgIGlmIChsb29rYWhlYWQgaW5zdGFuY2VvZiBULlJhd0RlbGltaXRlcikge1xuICAgICAgLy8gJEZsb3dGaXhNZTogdGVybXMgYXJlIGN1cnJlbnRseSB0eXBlZCB3aXRoIGFycmF5cyBub3QgbGlzdHNcbiAgICAgIHJldHVybiBsb29rYWhlYWQuaW5uZXI7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIGEgUmF3RGVsaW1pdGVyJyk7XG4gIH1cblxuICBtYXRjaFJhd1N5bnRheCgpOiBTeW50YXgge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLmFkdmFuY2UoKTtcbiAgICBpZiAobG9va2FoZWFkIGluc3RhbmNlb2YgVC5SYXdTeW50YXgpIHtcbiAgICAgIHJldHVybiBsb29rYWhlYWQudmFsdWU7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIGEgUmF3U3ludGF4Jyk7XG4gIH1cblxuICBtYXRjaElkZW50aWZpZXIodmFsPzogc3RyaW5nKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGlmICh0aGlzLmlzSWRlbnRpZmllcihsb29rYWhlYWQsIHZhbCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIGFuIGlkZW50aWZpZXInKTtcbiAgfVxuXG4gIG1hdGNoS2V5d29yZCh2YWw6IHN0cmluZykge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBpZiAodGhpcy5pc0tleXdvcmQobG9va2FoZWFkLCB2YWwpKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuICAgIH1cbiAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKGxvb2thaGVhZCwgJ2V4cGVjdGluZyAnICsgdmFsKTtcbiAgfVxuXG4gIG1hdGNoTGl0ZXJhbCgpIHtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc051bWVyaWNMaXRlcmFsKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNTdHJpbmdMaXRlcmFsKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNCb29sZWFuTGl0ZXJhbChsb29rYWhlYWQpIHx8XG4gICAgICB0aGlzLmlzTnVsbExpdGVyYWwobG9va2FoZWFkKSB8fFxuICAgICAgdGhpcy5pc1RlbXBsYXRlKGxvb2thaGVhZCkgfHxcbiAgICAgIHRoaXMuaXNSZWd1bGFyRXhwcmVzc2lvbihsb29rYWhlYWQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuICAgIH1cbiAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKGxvb2thaGVhZCwgJ2V4cGVjdGluZyBhIGxpdGVyYWwnKTtcbiAgfVxuXG4gIG1hdGNoU3RyaW5nTGl0ZXJhbCgpIHtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKHRoaXMuaXNTdHJpbmdMaXRlcmFsKGxvb2thaGVhZCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoUmF3U3ludGF4KCk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIGEgc3RyaW5nIGxpdGVyYWwnKTtcbiAgfVxuXG4gIG1hdGNoVGVtcGxhdGUoKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGlmICh0aGlzLmlzVGVtcGxhdGUobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcbiAgICB9XG4gICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdleHBlY3RpbmcgYSB0ZW1wbGF0ZSBsaXRlcmFsJyk7XG4gIH1cblxuICBtYXRjaFBhcmVucygpOiBMaXN0PFRlcm0+IHtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKHRoaXMuaXNQYXJlbnMobG9va2FoZWFkKSkge1xuICAgICAgbGV0IGlubmVyID0gdGhpcy5tYXRjaFJhd0RlbGltaXRlcigpO1xuICAgICAgcmV0dXJuIGlubmVyLnNsaWNlKDEsIGlubmVyLnNpemUgLSAxKTtcbiAgICB9XG4gICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdleHBlY3RpbmcgcGFyZW5zJyk7XG4gIH1cblxuICBtYXRjaEN1cmxpZXMoKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMucGVlaygpO1xuICAgIGlmICh0aGlzLmlzQnJhY2VzKGxvb2thaGVhZCkpIHtcbiAgICAgIGxldCBpbm5lciA9IHRoaXMubWF0Y2hSYXdEZWxpbWl0ZXIoKTtcbiAgICAgIHJldHVybiBpbm5lci5zbGljZSgxLCBpbm5lci5zaXplIC0gMSk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIGN1cmx5IGJyYWNlcycpO1xuICB9XG5cbiAgbWF0Y2hTcXVhcmVzKCk6IExpc3Q8VGVybT4ge1xuICAgIGxldCBsb29rYWhlYWQgPSB0aGlzLnBlZWsoKTtcbiAgICBpZiAodGhpcy5pc0JyYWNrZXRzKGxvb2thaGVhZCkpIHtcbiAgICAgIGxldCBpbm5lciA9IHRoaXMubWF0Y2hSYXdEZWxpbWl0ZXIoKTtcbiAgICAgIHJldHVybiBpbm5lci5zbGljZSgxLCBpbm5lci5zaXplIC0gMSk7XG4gICAgfVxuICAgIHRocm93IHRoaXMuY3JlYXRlRXJyb3IobG9va2FoZWFkLCAnZXhwZWN0aW5nIHNxdWFyZSBicmFjZXMnKTtcbiAgfVxuXG4gIG1hdGNoVW5hcnlPcGVyYXRvcigpIHtcbiAgICBsZXQgbG9va2FoZWFkID0gdGhpcy5tYXRjaFJhd1N5bnRheCgpO1xuICAgIGlmIChpc1VuYXJ5T3BlcmF0b3IobG9va2FoZWFkKSkge1xuICAgICAgcmV0dXJuIGxvb2thaGVhZDtcbiAgICB9XG4gICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihsb29rYWhlYWQsICdleHBlY3RpbmcgYSB1bmFyeSBvcGVyYXRvcicpO1xuICB9XG5cbiAgbWF0Y2hQdW5jdHVhdG9yKHZhbDogc3RyaW5nKSB7XG4gICAgbGV0IGxvb2thaGVhZCA9IHRoaXMubWF0Y2hSYXdTeW50YXgoKTtcbiAgICBpZiAodGhpcy5pc1B1bmN0dWF0b3IobG9va2FoZWFkKSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChsb29rYWhlYWQudmFsKCkgPT09IHZhbCkge1xuICAgICAgICAgIHJldHVybiBsb29rYWhlYWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVFcnJvcihcbiAgICAgICAgICAgIGxvb2thaGVhZCxcbiAgICAgICAgICAgICdleHBlY3RpbmcgYSAnICsgdmFsICsgJyBwdW5jdHVhdG9yJyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbG9va2FoZWFkO1xuICAgIH1cbiAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yKGxvb2thaGVhZCwgJ2V4cGVjdGluZyBhIHB1bmN0dWF0b3InKTtcbiAgfVxuXG4gIGNyZWF0ZUVycm9yKHN0eDogPyhTeW50YXggfCBUZXJtKSwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgbGV0IGN0eCA9ICcnO1xuICAgIGxldCBvZmZlbmRpbmcgPSBzdHg7XG4gICAgaWYgKHRoaXMucmVzdC5zaXplID4gMCkge1xuICAgICAgY3R4ID0gdGhpcy5yZXN0XG4gICAgICAgIC5zbGljZSgwLCAyMClcbiAgICAgICAgLm1hcCh0ZXJtID0+IHtcbiAgICAgICAgICBpZiAodGVybSBpbnN0YW5jZW9mIFQuUmF3RGVsaW1pdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVybS5pbm5lcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIExpc3Qub2YodGVybSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mbGF0dGVuKClcbiAgICAgICAgLm1hcChzID0+IHtcbiAgICAgICAgICBsZXQgc3ZhbCA9IHMgaW5zdGFuY2VvZiBULlJhd1N5bnRheCA/IHMudmFsdWUudmFsKCkgOiBzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgaWYgKHMgPT09IG9mZmVuZGluZykge1xuICAgICAgICAgICAgcmV0dXJuICdfXycgKyBzdmFsICsgJ19fJztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN2YWw7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eCA9IG9mZmVuZGluZyA9PSBudWxsID8gJycgOiBvZmZlbmRpbmcudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlICsgJ1xcbicgKyBjdHgpO1xuICB9XG59XG4iXX0=