'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = readDelimiter;

var _immutable = require('immutable');

var _tokens = require('../tokens');

function readDelimiter(delimiter, stream, prefix, exprAllowed) {
  let results = (0, _immutable.List)();
  let result;
  while (stream.peek() !== delimiter) {
    result = this.readToken(stream, results, exprAllowed);

    if (result !== _tokens.EmptyToken) {
      results = results.push(result);
    }
  }
  return results;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZWFkZXIvcmVhZC1kZWxpbWl0ZXIuanMiXSwibmFtZXMiOlsicmVhZERlbGltaXRlciIsImRlbGltaXRlciIsInN0cmVhbSIsInByZWZpeCIsImV4cHJBbGxvd2VkIiwicmVzdWx0cyIsInJlc3VsdCIsInBlZWsiLCJyZWFkVG9rZW4iLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFRd0JBLGE7O0FBTnhCOztBQUNBOztBQUtlLFNBQVNBLGFBQVQsQ0FBdUJDLFNBQXZCLEVBQTBDQyxNQUExQyxFQUE4REMsTUFBOUQsRUFBb0ZDLFdBQXBGLEVBQTBHO0FBQ3ZILE1BQUlDLFVBQVUsc0JBQWQ7QUFDQSxNQUFJQyxNQUFKO0FBQ0EsU0FBT0osT0FBT0ssSUFBUCxPQUFrQk4sU0FBekIsRUFBb0M7QUFDbENLLGFBQVMsS0FBS0UsU0FBTCxDQUFlTixNQUFmLEVBQXVCRyxPQUF2QixFQUFnQ0QsV0FBaEMsQ0FBVDs7QUFFQSxRQUFJRSw2QkFBSixFQUEyQjtBQUN6QkQsZ0JBQVVBLFFBQVFJLElBQVIsQ0FBYUgsTUFBYixDQUFWO0FBQ0Q7QUFDRjtBQUNELFNBQU9ELE9BQVA7QUFDRCIsImZpbGUiOiJyZWFkLWRlbGltaXRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5cbmltcG9ydCB7IExpc3QgfSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IHsgRW1wdHlUb2tlbiB9IGZyb20gJy4uL3Rva2Vucyc7XG5cbmltcG9ydCB0eXBlIENoYXJTdHJlYW0gZnJvbSAnLi9jaGFyLXN0cmVhbSc7XG5pbXBvcnQgdHlwZSBTeW50YXggZnJvbSAnLi4vc3ludGF4JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVhZERlbGltaXRlcihkZWxpbWl0ZXI6IHN0cmluZywgc3RyZWFtOiBDaGFyU3RyZWFtLCBwcmVmaXg6IExpc3Q8U3ludGF4PiwgZXhwckFsbG93ZWQ6IGJvb2xlYW4pIHtcbiAgbGV0IHJlc3VsdHMgPSBMaXN0KCk7XG4gIGxldCByZXN1bHQ7XG4gIHdoaWxlIChzdHJlYW0ucGVlaygpICE9PSBkZWxpbWl0ZXIpIHtcbiAgICByZXN1bHQgPSB0aGlzLnJlYWRUb2tlbihzdHJlYW0sIHJlc3VsdHMsIGV4cHJBbGxvd2VkKTtcblxuICAgIGlmIChyZXN1bHQgIT09IEVtcHR5VG9rZW4pIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG4iXX0=