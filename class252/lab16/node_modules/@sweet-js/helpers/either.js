'lang sweet.js';

export class Either {

  // $FlowFixMe: computed properties still not supported in flow
  static ['fantasy-land/of'](v) {
    return Either.of(v);
  }

  static of(v) {
    return new Right(v);
  }

  static isLeft(e) {
    return e instanceof Left;
  }

  static isRight(e) {
    return e instanceof Right;
  }

  // $FlowFixMe: computed properties still not supported in flow
  ['fantasy-land/map'](f) {
    return this.map(f);
  }

  // $FlowFixMe: computed properties still not supported in flow
  ['fantasy-land/ap'](either) {
    return this.ap(either);
  }

  // $FlowFixMe: computed properties still not supported in flow
  ['fantasy-land/chain'](f) {
    return this.chain(f);
  }

  // $FlowFixMe: computed properties still not supported in flow
  ['fantasy-land/extend'](e) {
    return this.extend(e);
  }

  // $FlowFixMe: computed properties still not supported in flow
  ['fantasy-land/bimap'](l, r) {
    return this.bimap(l, r);
  }

  map(f) {
    throw new Error();
  }

  ap(either) {
    throw new Error();
  }

  chain(f) {
    throw new Error();
  }

  extend(e) {
    throw new Error();
  }

  bimap(l, r) {
    throw new Error();
  }

  either(l, r) {
    throw new Error();
  }

  foreach(l, r) {
    throw new Error();
  }
}
export class Left extends Either {

  constructor(left) {
    super();
    this.left = left;
  }

  map(f) {
    return new Left(this.left);
  }

  ap(either) {
    return new Left(this.left);
  }

  chain(f) {
    return new Left(this.left);
  }

  extend(e) {
    return new Left(this.left);
  }

  bimap(l, r) {
    return new Left(l(this.left));
  }

  either(l, r) {
    return l(this.left);
  }

  foreach(l, r) {
    l(this.left);
    return new Left(this.left);
  }
}

export class Right extends Either {

  constructor(right) {
    super();
    this.right = right;
  }

  map(f) {
    return new Right(f(this.right));
  }

  ap(either) {
    if (either instanceof Left) {
      return new Left(either.left);
    } else if (either instanceof Right && typeof this.right === 'function') {
      return new Right(this.right(either.right));
    }
    throw new Error('Invalid type');
  }

  chain(f) {
    return f(this.right);
  }

  extend(e) {
    return new Right(e(this));
  }

  bimap(l, r) {
    return new Right(r(this.right));
  }

  either(l, r) {
    return r(this.right);
  }

  foreach(l, r) {
    r(this.right);
    return new Right(this.right);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9laXRoZXIuanMiXSwibmFtZXMiOlsiRWl0aGVyIiwidiIsIm9mIiwiUmlnaHQiLCJpc0xlZnQiLCJlIiwiTGVmdCIsImlzUmlnaHQiLCJmIiwibWFwIiwiZWl0aGVyIiwiYXAiLCJjaGFpbiIsImV4dGVuZCIsImwiLCJyIiwiYmltYXAiLCJFcnJvciIsImZvcmVhY2giLCJjb25zdHJ1Y3RvciIsImxlZnQiLCJyaWdodCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBR0EsT0FBTyxNQUFNQSxNQUFOLENBQW1COztBQUV4QjtBQUNBLFVBQVEsaUJBQVIsRUFBMkJDLENBQTNCLEVBQStDO0FBQzdDLFdBQU9ELE9BQU9FLEVBQVAsQ0FBVUQsQ0FBVixDQUFQO0FBQ0Q7O0FBRUQsU0FBT0MsRUFBUCxDQUFVRCxDQUFWLEVBQThCO0FBQzVCLFdBQU8sSUFBSUUsS0FBSixDQUFVRixDQUFWLENBQVA7QUFDRDs7QUFFRCxTQUFPRyxNQUFQLENBQWNDLENBQWQsRUFBK0I7QUFDN0IsV0FBT0EsYUFBYUMsSUFBcEI7QUFDRDs7QUFFRCxTQUFPQyxPQUFQLENBQWVGLENBQWYsRUFBZ0M7QUFDOUIsV0FBT0EsYUFBYUYsS0FBcEI7QUFDRDs7QUFFRDtBQUNBLEdBQUMsa0JBQUQsRUFBd0JLLENBQXhCLEVBQWlEO0FBQy9DLFdBQU8sS0FBS0MsR0FBTCxDQUFTRCxDQUFULENBQVA7QUFDRDs7QUFFRDtBQUNBLEdBQUMsaUJBQUQsRUFBdUJFLE1BQXZCLEVBQWdFO0FBQzlELFdBQU8sS0FBS0MsRUFBTCxDQUFRRCxNQUFSLENBQVA7QUFDRDs7QUFFRDtBQUNBLEdBQUMsb0JBQUQsRUFBMEJGLENBQTFCLEVBQThEO0FBQzVELFdBQU8sS0FBS0ksS0FBTCxDQUFXSixDQUFYLENBQVA7QUFDRDs7QUFFRDtBQUNBLEdBQUMscUJBQUQsRUFBMkJILENBQTNCLEVBQStEO0FBQzdELFdBQU8sS0FBS1EsTUFBTCxDQUFZUixDQUFaLENBQVA7QUFDRDs7QUFFRDtBQUNBLEdBQUMsb0JB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RSxFQUFFLElBQUYsQ0FBVixDQUFQO0FBQ0Q7O0FBRURXLFFBQVlGLENBQVosRUFBdUJDLENBQXZCLEVBQWdEO0FBQzlDLFdBQU8sSUFBSVosS0FBSixDQUFVWSxFQUFFLEtBQUtNLEtBQVAsQ0FBVixDQUFQO0FBQ0Q7O0FBRURYLFNBQVVJLENBQVYsRUFBcUJDLENBQXJCLEVBQW1DO0FBQ2pDLFdBQU9BLEVBQUUsS0FBS00sS0FBUCxDQUFQO0FBQ0Q7O0FBRURILFVBQVFKLENBQVIsRUFBc0JDLENBQXRCLEVBQWtEO0FBQ2hEQSxNQUFFLEtBQUtNLEtBQVA7QUFDQSxXQUFPLElBQUlsQixLQUFKLENBQVUsS0FBS2tCLEtBQWYsQ0FBUDtBQUNEO0FBeEMyQyIsImZpbGUiOiJlaXRoZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyInbGFuZyBzd2VldC5qcyc7XG4vLyBAZmxvd1xuXG5leHBvcnQgY2xhc3MgRWl0aGVyPEwsIFI+IHtcblxuICAvLyAkRmxvd0ZpeE1lOiBjb21wdXRlZCBwcm9wZXJ0aWVzIHN0aWxsIG5vdCBzdXBwb3J0ZWQgaW4gZmxvd1xuICBzdGF0aWMgWydmYW50YXN5LWxhbmQvb2YnXSh2OiBSKTogRWl0aGVyPEwsIFI+IHtcbiAgICByZXR1cm4gRWl0aGVyLm9mKHYpO1xuICB9XG5cbiAgc3RhdGljIG9mKHY6IFIpOiBFaXRoZXI8TCwgUj4ge1xuICAgIHJldHVybiBuZXcgUmlnaHQodik7XG4gIH1cblxuICBzdGF0aWMgaXNMZWZ0KGU6IEVpdGhlcjwqLCAqPikge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgTGVmdDtcbiAgfVxuXG4gIHN0YXRpYyBpc1JpZ2h0KGU6IEVpdGhlcjwqLCAqPikge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgUmlnaHQ7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lOiBjb21wdXRlZCBwcm9wZXJ0aWVzIHN0aWxsIG5vdCBzdXBwb3J0ZWQgaW4gZmxvd1xuICBbJ2ZhbnRhc3ktbGFuZC9tYXAnXTxDPihmOiBUID0+IEMpOiBFaXRoZXI8TCwgQz4ge1xuICAgIHJldHVybiB0aGlzLm1hcChmKTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWU6IGNvbXB1dGVkIHByb3BlcnRpZXMgc3RpbGwgbm90IHN1cHBvcnRlZCBpbiBmbG93XG4gIFsnZmFudGFzeS1sYW5kL2FwJ108Qz4oZWl0aGVyOiBFaXRoZXI8TCwgUiA9PiBDPik6IEVpdGhlcjxMLCBDPiB7XG4gICAgcmV0dXJuIHRoaXMuYXAoZWl0aGVyKTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWU6IGNvbXB1dGVkIHByb3BlcnRpZXMgc3RpbGwgbm90IHN1cHBvcnRlZCBpbiBmbG93XG4gIFsnZmFudGFzeS1sYW5kL2NoYWluJ108Qz4oZjogUiA9PiBFaXRoZXI8TCwgQz4pOiBFaXRoZXI8TCwgQz4ge1xuICAgIHJldHVybiB0aGlzLmNoYWluKGYpO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZTogY29tcHV0ZWQgcHJvcGVydGllcyBzdGlsbCBub3Qgc3VwcG9ydGVkIGluIGZsb3dcbiAgWydmYW50YXN5LWxhbmQvZXh0ZW5kJ108Qz4oZTogRWl0aGVyPEwsIFI+ID0+IEMpOiBFaXRoZXI8TCwgQz4ge1xuICAgIHJldHVybiB0aGlzLmV4dGVuZChlKTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWU6IGNvbXB1dGVkIHByb3BlcnRpZXMgc3RpbGwgbm90IHN1cHBvcnRlZCBpbiBmbG93XG4gIFsnZmFudGFzeS1sYW5kL2JpbWFwJ108QywgRD4obDogTCA9PiBDLCByOiBSID0+IEQpOiBFaXRoZXI8QywgRD4ge1xuICAgIHJldHVybiB0aGlzLmJpbWFwKGwsIHIpO1xuICB9XG4gIFxuICBtYXA8Qz4oZjogUiA9PiBDKTogRWl0aGVyPEwsIEM+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgfVxuXG4gIGFwPEM+KGVpdGhlcjogRWl0aGVyPEwsIFIgPT4gQz4pOiBFaXRoZXI8TCwgQz4ge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9XG4gIFxuICBjaGFpbjxDPihmOiBSID0+IEVpdGhlcjxMLCBDPik6IEVpdGhlcjxMLCBDPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gIH1cblxuICBleHRlbmQ8Qz4oZTogRWl0aGVyPEwsIFI+ID0+IEMpOiBFaXRoZXI8TCwgQz4ge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9XG4gIFxuICBiaW1hcDxDLCBEPihsOiBMID0+IEMsIHI6IFIgPT4gRCk6IEVpdGhlcjxDLCBEPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gIH1cbiAgXG4gIGVpdGhlcjxDPihsOiBMID0+IEMsIHI6IFIgPT4gQyk6IEMge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9XG5cbiAgZm9yZWFjaChsOiBMID0+IHZvaWQsIHI6IFIgPT4gdm9pZCk6IEVpdGhlcjxMLCBSPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBMZWZ0PEwsIFI+IGV4dGVuZHMgRWl0aGVyPEwsIFI+IHtcbiAgbGVmdDogTDtcblxuICBjb25zdHJ1Y3RvcihsZWZ0OiBMKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICB9XG5cbiAgbWFwPEM+KGY6IFIgPT4gQyk6IEVpdGhlcjxMLCBDPiB7XG4gICAgcmV0dXJuIG5ldyBMZWZ0KHRoaXMubGVmdCk7XG4gIH1cblxuICBhcDxDPihlaXRoZXI6IEVpdGhlcjxMLCBSID0+IEM+KTogRWl0aGVyPEwsIEM+IHtcbiAgICByZXR1cm4gbmV3IExlZnQodGhpcy5sZWZ0KTtcbiAgfVxuXG4gIGNoYWluPEM+KGY6IFIgPT4gRWl0aGVyPEwsIEM+KTogRWl0aGVyPEwsIEM+IHtcbiAgICByZXR1cm4gbmV3IExlZnQodGhpcy5sZWZ0KTtcbiAgfVxuXG4gIGV4dGVuZDxDPihlOiBFaXRoZXI8TCwgUj4gPT4gQyk6IEVpdGhlcjxMLCBDPiB7XG4gICAgcmV0dXJuIG5ldyBMZWZ0KHRoaXMubGVmdCk7XG4gIH1cblxuICBiaW1hcDxDLCBEPihsOiBMID0+IEMsIHI6IFIgPT4gRCk6IEVpdGhlcjxDLCBEPiB7XG4gICAgcmV0dXJuIG5ldyBMZWZ0KGwodGhpcy5sZWZ0KSk7XG4gIH1cblxuICBlaXRoZXI8Qz4obDogTCA9PiBDLCByOiBSID0+IEMpOiBDIHtcbiAgICByZXR1cm4gbCh0aGlzLmxlZnQpO1xuICB9XG5cbiAgZm9yZWFjaChsOiBMID0+IHZvaWQsIHI6IFIgPT4gdm9pZCk6IEVpdGhlcjxMLCBSPiB7XG4gICAgbCh0aGlzLmxlZnQpO1xuICAgIHJldHVybiBuZXcgTGVmdCh0aGlzLmxlZnQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSaWdodDxMLCBSPiBleHRlbmRzIEVpdGhlcjxMLCBSPiB7XG4gIHJpZ2h0OiBSO1xuXG4gIGNvbnN0cnVjdG9yKHJpZ2h0OiBSKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gIH1cblxuICBtYXA8Qz4oZjogUiA9PiBDKTogRWl0aGVyPEwsIEM+IHtcbiAgICByZXR1cm4gbmV3IFJpZ2h0KGYodGhpcy5yaWdodCkpO1xuICB9XG5cbiAgYXA8Qz4oZWl0aGVyOiBFaXRoZXI8TCwgUiA9PiBDPik6IEVpdGhlcjxMLCBDPiB7XG4gICAgaWYgKGVpdGhlciBpbnN0YW5jZW9mIExlZnQpIHtcbiAgICAgIHJldHVybiBuZXcgTGVmdChlaXRoZXIubGVmdCk7XG4gICAgfSBlbHNlIGlmIChlaXRoZXIgaW5zdGFuY2VvZiBSaWdodCAmJiB0eXBlb2YgdGhpcy5yaWdodCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG5ldyBSaWdodCh0aGlzLnJpZ2h0KGVpdGhlci5yaWdodCkpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpO1xuICB9XG4gIFxuICBjaGFpbjxDPihmOiBSID0+IEVpdGhlcjxMLCBDPik6IEVpdGhlcjxMLCBDPiB7XG4gICAgcmV0dXJuIGYodGhpcy5yaWdodCk7XG4gIH1cblxuICBleHRlbmQ8Qz4oZTogRWl0aGVyPEwsIFI+ID0+IEMpOiBFaXRoZXI8TCwgQz4ge1xuICAgIHJldHVybiBuZXcgUmlnaHQoZSh0aGlzKSk7XG4gIH1cbiAgXG4gIGJpbWFwPEMsIEQ+KGw6IEwgPT4gQywgcjogUiA9PiBEKTogRWl0aGVyPEMsIEQ+IHtcbiAgICByZXR1cm4gbmV3IFJpZ2h0KHIodGhpcy5yaWdodCkpO1xuICB9XG5cbiAgZWl0aGVyPEM+KGw6IEwgPT4gQywgcjogUiA9PiBDKTogQyB7XG4gICAgcmV0dXJuIHIodGhpcy5yaWdodCk7XG4gIH1cblxuICBmb3JlYWNoKGw6IEwgPT4gdm9pZCwgcjogUiA9PiB2b2lkKTogRWl0aGVyPEwsIFI+IHtcbiAgICByKHRoaXMucmlnaHQpO1xuICAgIHJldHVybiBuZXcgUmlnaHQodGhpcy5yaWdodCk7XG4gIH1cbn1cbiJdfQ==